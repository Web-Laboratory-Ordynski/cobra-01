!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).IMask={})}(this,function(t){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(t,e){return t(e={exports:{}},e.exports),e.exports}function u(t){return t&&t.Math==Math&&t}function i(t){try{return!!t()}catch(t){return!0}}function r(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}function f(t){if(null==t)throw TypeError("Can't call method on "+t);return t}function h(t){return _(f(t))}function a(t){return"object"==typeof t?null!==t:"function"==typeof t}function s(t,e){if(!a(t))return t;var n,u;if(e&&"function"==typeof(n=t.toString)&&!a(u=n.call(t)))return u;if("function"==typeof(n=t.valueOf)&&!a(u=n.call(t)))return u;if(!e&&"function"==typeof(n=t.toString)&&!a(u=n.call(t)))return u;throw TypeError("Can't convert object to primitive value")}function c(t,e){return A.call(t,e)}function o(t){if(!a(t))throw TypeError(String(t)+" is not an object");return t}function p(e,n){try{w(d,e,n)}catch(t){d[e]=n}return n}var d=u("object"==typeof globalThis&&globalThis)||u("object"==typeof window&&window)||u("object"==typeof self&&self)||u("object"==typeof e&&e)||Function("return this")(),v=!i(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),l={}.propertyIsEnumerable,k=Object.getOwnPropertyDescriptor,g={f:k&&!l.call({1:2},1)?function(t){var e=k(this,t);return!!e&&e.enumerable}:l},y={}.toString,m="".split,_=i(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==(e=t,y.call(e).slice(8,-1))?m.call(t,""):Object(t);var e}:Object,A={}.hasOwnProperty,b=d.document,C=a(b)&&a(b.createElement),E=!v&&!i(function(){return 7!=Object.defineProperty(C?b.createElement("div"):{},"a",{get:function(){return 7}}).a}),F=Object.getOwnPropertyDescriptor,S={f:v?F:function(t,e){if(t=h(t),e=s(e,!0),E)try{return F(t,e)}catch(t){}if(c(t,e))return r(!g.f.call(t,e),t[e])}},D=Object.defineProperty,B={f:v?D:function(t,e,n){if(o(t),e=s(e,!0),o(n),E)try{return D(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},w=v?function(t,e,n){return B.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t},M="__core-js_shared__",x=d[M]||p(M,{}),P=Function.toString;"function"!=typeof x.inspectSource&&(x.inspectSource=function(t){return P.call(t)});var O,T,I,j,V,R,L,N,U,z,H=x.inspectSource,Y=d.WeakMap,Z="function"==typeof Y&&/native code/.test(H(Y)),K=n(function(t){(t.exports=function(t,e){return x[t]||(x[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.4",mode:"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})}),G=0,W=Math.random(),q=K("keys"),$={},X=d.WeakMap;L=Z?(O=new X,T=O.get,I=O.has,j=O.set,V=function(t,e){return j.call(O,t,e),e},R=function(t){return T.call(O,t)||{}},function(t){return I.call(O,t)}):(N=q[U="state"]||(q[U]=(z=U,"Symbol("+String(void 0===z?"":z)+")_"+(++G+W).toString(36))),$[N]=!0,V=function(t,e){return w(t,N,e),e},R=function(t){return c(t,N)?t[N]:{}},function(t){return c(t,N)});function J(t){return"function"==typeof t?t:void 0}function Q(t,e){return arguments.length<2?J(ot[t])||J(d[t]):ot[t]&&ot[t][e]||d[t]&&d[t][e]}function tt(t){return isNaN(t=+t)?0:(0<t?ht:lt)(t)}function et(t){return 0<t?ct(tt(t),9007199254740991):0}function nt(l){return function(t,e,n){var u,i,r,a=h(t),s=et(a.length),o=(u=s,(i=tt(n))<0?ft(i+u,0):pt(i,u));if(l&&e!=e){for(;o<s;)if((r=a[o++])!=r)return!0}else for(;o<s;o++)if((l||o in a)&&a[o]===e)return l||o||0;return!l&&-1}}function ut(t,e){var n,u=h(t),i=0,r=[];for(n in u)!c($,n)&&c(u,n)&&r.push(n);for(;e.length>i;)c(u,n=e[i++])&&(~dt(r,n)||r.push(n));return r}function it(t,e){var n=bt[At(t)];return n==Et||n!=Ct&&("function"==typeof e?i(e):!!e)}function rt(t,e){var n,u,i,r,a=t.target,s=t.global,o=t.stat,l=s?d:o?d[a]||p(a,{}):(d[a]||{}).prototype;if(l)for(n in e){if(i=e[n],u=t.noTargetGet?(r=St(l,n))&&r.value:l[n],!Ft(s?n:a+(o?".":"#")+n,t.forced)&&void 0!==u){if(typeof i==typeof u)continue;!function(t,e){for(var n=mt(e),u=B.f,i=S.f,r=0;r<n.length;r++){var a=n[r];c(t,a)||u(t,a,i(e,a))}}(i,u)}(t.sham||u&&u.sham)&&w(i,"sham",!0),st(l,n,i,t)}}var at={set:V,get:R,has:L,enforce:function(t){return L(t)?R(t):V(t,{})},getterFor:function(n){return function(t){var e;if(!a(t)||(e=R(t)).type!==n)throw TypeError("Incompatible receiver, "+n+" required");return e}}},st=n(function(t){var e=at.get,s=at.enforce,o=String(String).split("String");(t.exports=function(t,e,n,u){var i=!!u&&!!u.unsafe,r=!!u&&!!u.enumerable,a=!!u&&!!u.noTargetGet;"function"==typeof n&&("string"!=typeof e||c(n,"name")||w(n,"name",e),s(n).source=o.join("string"==typeof e?e:"")),t!==d?(i?!a&&t[e]&&(r=!0):delete t[e],r?t[e]=n:w(t,e,n)):r?t[e]=n:p(e,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&e(this).source||H(this)})}),ot=d,lt=Math.ceil,ht=Math.floor,ct=Math.min,ft=Math.max,pt=Math.min,dt={includes:nt(!0),indexOf:nt(!1)}.indexOf,vt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],kt=vt.concat("length","prototype"),gt={f:Object.getOwnPropertyNames||function(t){return ut(t,kt)}},yt={f:Object.getOwnPropertySymbols},mt=Q("Reflect","ownKeys")||function(t){var e=gt.f(o(t)),n=yt.f;return n?e.concat(n(t)):e},_t=/#|\.prototype\./,At=it.normalize=function(t){return String(t).replace(_t,".").toLowerCase()},bt=it.data={},Ct=it.NATIVE="N",Et=it.POLYFILL="P",Ft=it,St=S.f,Dt=Object.keys||function(t){return ut(t,vt)},Bt=Object.assign,wt=Object.defineProperty,Mt=!Bt||i(function(){if(v&&1!==Bt({b:1},Bt(wt({},"a",{enumerable:!0,get:function(){wt(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return 1;var t={},e={},n=Symbol(),u="abcdefghijklmnopqrst";return t[n]=7,u.split("").forEach(function(t){e[t]=t}),7!=Bt({},t)[n]||Dt(Bt({},e)).join("")!=u})?function(t,e){for(var n=Object(f(t)),u=arguments.length,i=1,r=yt.f,a=g.f;i<u;)for(var s,o=_(arguments[i++]),l=r?Dt(o).concat(r(o)):Dt(o),h=l.length,c=0;c<h;)s=l[c++],v&&!a.call(o,s)||(n[s]=o[s]);return n}:Bt;rt({target:"Object",stat:!0,forced:Object.assign!==Mt},{assign:Mt});function xt(l){return function(t,e,n){var u,i,r=String(f(t)),a=r.length,s=void 0===n?" ":String(n),o=et(e);return o<=a||""==s?r:(u=o-a,(i=Pt.call(s,Ot(u/s.length))).length>u&&(i=i.slice(0,u)),l?r+i:i+r)}}var Pt="".repeat||function(t){var e=String(f(this)),n="",u=tt(t);if(u<0||u==1/0)throw RangeError("Wrong number of repetitions");for(;0<u;(u>>>=1)&&(e+=e))1&u&&(n+=e);return n},Ot=Math.ceil,Tt={start:xt(!1),end:xt(!0)},It=Q("navigator","userAgent")||"",jt=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(It),Vt=Tt.end;rt({target:"String",proto:!0,forced:jt},{padEnd:function(t,e){return Vt(this,t,1<arguments.length?e:void 0)}});var Rt=Tt.start;function Lt(t){return(Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Nt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ut(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function zt(t,e,n){return e&&Ut(t.prototype,e),n&&Ut(t,n),t}function Ht(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zt(t,e)}function Yt(t){return(Yt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Zt(t,e){return(Zt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Kt(t,e){if(null==t)return{};var n,u=function(t,e){if(null==t)return{};for(var n,u={},i=Object.keys(t),r=0;r<i.length;r++)n=i[r],0<=e.indexOf(n)||(u[n]=t[n]);return u}(t,e);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(t),r=0;r<i.length;r++)n=i[r],0<=e.indexOf(n)||Object.prototype.propertyIsEnumerable.call(t,n)&&(u[n]=t[n]);return u}function Gt(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Wt(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Yt(t)););return t}function qt(t,e,n){return(qt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var u=Wt(t,e);if(u){var i=Object.getOwnPropertyDescriptor(u,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function $t(t,e,n,u){return($t="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(t,e,n,u){var i,r,a,s,o=Wt(t,e);if(o){if((i=Object.getOwnPropertyDescriptor(o,e)).set)return i.set.call(u,n),!0;if(!i.writable)return!1}if(i=Object.getOwnPropertyDescriptor(u,e)){if(!i.writable)return!1;i.value=n,Object.defineProperty(u,e,i)}else s=n,(a=e)in(r=u)?Object.defineProperty(r,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[a]=s;return!0})(t,e,n,u)}function Xt(t,e,n,u,i){if(!$t(t,e,n,u||t)&&i)throw new Error("failed to set property");return n}function Jt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],u=!0,i=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(u=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);u=!0);}catch(t){i=!0,r=t}finally{try{u||null==s.return||s.return()}finally{if(i)throw r}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Qt(t){return"string"==typeof t||t instanceof String}rt({target:"String",proto:!0,forced:jt},{padStart:function(t,e){return Rt(this,t,1<arguments.length?e:void 0)}}),rt({target:"String",proto:!0},{repeat:Pt}),rt({global:!0},{globalThis:d});var te="NONE",ee="LEFT",ne="FORCE_LEFT",ue="RIGHT",ie="FORCE_RIGHT";function re(t){return t.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")}var ae=function(){function i(t,e,n,u){for(Nt(this,i),this.value=t,this.cursorPos=e,this.oldValue=n,this.oldSelection=u;this.value.slice(0,this.startChangePos)!==this.oldValue.slice(0,this.startChangePos);)--this.oldSelection.start}return zt(i,[{key:"startChangePos",get:function(){return Math.min(this.cursorPos,this.oldSelection.start)}},{key:"insertedCount",get:function(){return this.cursorPos-this.startChangePos}},{key:"inserted",get:function(){return this.value.substr(this.startChangePos,this.insertedCount)}},{key:"removedCount",get:function(){return Math.max(this.oldSelection.end-this.startChangePos||this.oldValue.length-this.value.length,0)}},{key:"removed",get:function(){return this.oldValue.substr(this.startChangePos,this.removedCount)}},{key:"head",get:function(){return this.value.substring(0,this.startChangePos)}},{key:"tail",get:function(){return this.value.substring(this.startChangePos+this.insertedCount)}},{key:"removeDirection",get:function(){return!this.removedCount||this.insertedCount?te:this.oldSelection.end===this.cursorPos||this.oldSelection.start===this.cursorPos?ue:ee}}]),i}(),se=function(){function e(t){Nt(this,e),Object.assign(this,{inserted:"",rawInserted:"",skip:!1,tailShift:0},t)}return zt(e,[{key:"aggregate",value:function(t){return this.rawInserted+=t.rawInserted,this.skip=this.skip||t.skip,this.inserted+=t.inserted,this.tailShift+=t.tailShift,this}},{key:"offset",get:function(){return this.tailShift+this.inserted.length}}]),e}(),oe=function(){function u(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length?arguments[2]:void 0;Nt(this,u),this.value=t,this.from=e,this.stop=n}return zt(u,[{key:"toString",value:function(){return this.value}},{key:"extend",value:function(t){this.value+=String(t)}},{key:"appendTo",value:function(t){return t.append(this.toString(),{tail:!0}).aggregate(t._appendPlaceholder())}},{key:"shiftBefore",value:function(t){if(this.from>=t||!this.value.length)return"";var e=this.value[0];return this.value=this.value.slice(1),e}},{key:"state",get:function(){return{value:this.value,from:this.from,stop:this.stop}},set:function(t){Object.assign(this,t)}}]),u}();function le(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return new le.InputMask(t,e)}var he=function(){function e(t){Nt(this,e),this._value="",this._update(Object.assign({},e.DEFAULTS,{},t)),this.isInitialized=!0}return zt(e,[{key:"updateOptions",value:function(t){Object.keys(t).length&&this.withValueRefresh(this._update.bind(this,t))}},{key:"_update",value:function(t){Object.assign(this,t)}},{key:"reset",value:function(){this._value=""}},{key:"resolve",value:function(t){return this.reset(),this.append(t,{input:!0},""),this.doCommit(),this.value}},{key:"nearestInputPos",value:function(t){return t}},{key:"extractInput",value:function(t,e){var n=0<arguments.length&&void 0!==t?t:0,u=1<arguments.length&&void 0!==e?e:this.value.length;return this.value.slice(n,u)}},{key:"extractTail",value:function(t,e){var n=0<arguments.length&&void 0!==t?t:0,u=1<arguments.length&&void 0!==e?e:this.value.length;return new oe(this.extractInput(n,u),n)}},{key:"appendTail",value:function(t){return Qt(t)&&(t=new oe(String(t))),t.appendTo(this)}},{key:"_appendCharRaw",value:function(t,e){var n=1<arguments.length&&void 0!==e?e:{};return(t=this.doPrepare(t,n))?(this._value+=t,new se({inserted:t,rawInserted:t})):new se}},{key:"_appendChar",value:function(t,e,n){var u,i,r,a,s=1<arguments.length&&void 0!==e?e:{},o=2<arguments.length?n:void 0,l=this.state,h=this._appendCharRaw(t,s);return h.inserted&&((a=!1!==this.doValidate(s))&&null!=o&&(i=this.state,this.overwrite&&(u=o.state,o.shiftBefore(this.value.length)),(a=(r=this.appendTail(o)).rawInserted===o.toString())&&r.inserted&&(this.state=i)),a||(h=new se,this.state=l,o&&u&&(o.state=u))),h}},{key:"_appendPlaceholder",value:function(){return new se}},{key:"append",value:function(t,e,n){if(!Qt(t))throw new Error("value should be string");var u=new se,i=Qt(n)?new oe(String(n)):n;e.tail&&(e._beforeTailState=this.state);for(var r=0;r<t.length;++r)u.aggregate(this._appendChar(t[r],e,i));return null!=i&&(u.tailShift+=this.appendTail(i).tailShift),u}},{key:"remove",value:function(t,e){var n=0<arguments.length&&void 0!==t?t:0,u=1<arguments.length&&void 0!==e?e:this.value.length;return this._value=this.value.slice(0,n)+this.value.slice(u),new se}},{key:"withValueRefresh",value:function(t){if(this._refreshing||!this.isInitialized)return t();this._refreshing=!0;var e=this.rawInputValue,n=this.value,u=t();return this.rawInputValue=e,this.value!==n&&0===n.indexOf(this.value)&&this.append(n.slice(this.value.length),{},""),delete this._refreshing,u}},{key:"runIsolated",value:function(t){if(this._isolated||!this.isInitialized)return t(this);this._isolated=!0;var e=this.state,n=t(this);return this.state=e,delete this._isolated,n}},{key:"doPrepare",value:function(t,e){var n=1<arguments.length&&void 0!==e?e:{};return this.prepare?this.prepare(t,this,n):t}},{key:"doValidate",value:function(t){return(!this.validate||this.validate(this.value,this,t))&&(!this.parent||this.parent.doValidate(t))}},{key:"doCommit",value:function(){this.commit&&this.commit(this.value,this)}},{key:"doFormat",value:function(t){return this.format?this.format(t,this):t}},{key:"doParse",value:function(t){return this.parse?this.parse(t,this):t}},{key:"splice",value:function(t,e,n,u){var i=t+e,r=this.extractTail(i),a=this.nearestInputPos(t,u);return new se({tailShift:a-t}).aggregate(this.remove(a)).aggregate(this.append(n,{input:!0},r))}},{key:"state",get:function(){return{_value:this.value}},set:function(t){this._value=t._value}},{key:"value",get:function(){return this._value},set:function(t){this.resolve(t)}},{key:"unmaskedValue",get:function(){return this.value},set:function(t){this.reset(),this.append(t,{},""),this.doCommit()}},{key:"typedValue",get:function(){return this.doParse(this.value)},set:function(t){this.value=this.doFormat(t)}},{key:"rawInputValue",get:function(){return this.extractInput(0,this.value.length,{raw:!0})},set:function(t){this.reset(),this.append(t,{raw:!0},""),this.doCommit()}},{key:"isComplete",get:function(){return!0}}]),e}();function ce(t){if(null==t)throw new Error("mask property should be defined");return t instanceof RegExp?le.MaskedRegExp:Qt(t)?le.MaskedPattern:t instanceof Date||t===Date?le.MaskedDate:t instanceof Number||"number"==typeof t||t===Number?le.MaskedNumber:Array.isArray(t)||t===Array?le.MaskedDynamic:le.Masked&&t.prototype instanceof le.Masked?t:t instanceof Function?le.MaskedFunction:t instanceof le.Masked?t.constructor:(console.warn("Mask not found for mask",t),le.Masked)}function fe(t){if(le.Masked&&t instanceof le.Masked)return t;var e=(t=Object.assign({},t)).mask;if(le.Masked&&e instanceof le.Masked)return e;var n=ce(e);if(!n)throw new Error("Masked class is not found for provided mask, appropriate module needs to be import manually before creating mask.");return new n(t)}he.DEFAULTS={format:function(t){return t},parse:function(t){return t}},le.Masked=he,le.createMask=fe;var pe={0:/\d/,a:/[\u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,"*":/./},de=function(){function u(t){Nt(this,u);var e=t.mask,n=Kt(t,["mask"]);this.masked=fe({mask:e}),Object.assign(this,n)}return zt(u,[{key:"reset",value:function(){this._isFilled=!1,this.masked.reset()}},{key:"remove",value:function(t,e){var n=0<arguments.length&&void 0!==t?t:0,u=1<arguments.length&&void 0!==e?e:this.value.length;return 0===n&&1<=u?(this._isFilled=!1,this.masked.remove(n,u)):new se}},{key:"_appendChar",value:function(t,e){var n=1<arguments.length&&void 0!==e?e:{};if(this._isFilled)return new se;var u=this.masked.state,i=this.masked._appendChar(t,n);return i.inserted&&!1===this.doValidate(n)&&(i.inserted=i.rawInserted="",this.masked.state=u),i.inserted||this.isOptional||this.lazy||n.input||(i.inserted=this.placeholderChar),i.skip=!i.inserted&&!this.isOptional,this._isFilled=Boolean(i.inserted),i}},{key:"append",value:function(){var t;return(t=this.masked).append.apply(t,arguments)}},{key:"_appendPlaceholder",value:function(){var t=new se;return this._isFilled||this.isOptional||(this._isFilled=!0,t.inserted=this.placeholderChar),t}},{key:"extractTail",value:function(){var t;return(t=this.masked).extractTail.apply(t,arguments)}},{key:"appendTail",value:function(){var t;return(t=this.masked).appendTail.apply(t,arguments)}},{key:"extractInput",value:function(t,e,n){var u=0<arguments.length&&void 0!==t?t:0,i=1<arguments.length&&void 0!==e?e:this.value.length,r=2<arguments.length?n:void 0;return this.masked.extractInput(u,i,r)}},{key:"nearestInputPos",value:function(t,e){var n=1<arguments.length&&void 0!==e?e:te,u=this.value.length,i=Math.min(Math.max(t,0),u);switch(n){case ee:case ne:return this.isComplete?i:0;case ue:case ie:return this.isComplete?i:u;case te:default:return i}}},{key:"doValidate",value:function(){var t,e;return(t=this.masked).doValidate.apply(t,arguments)&&(!this.parent||(e=this.parent).doValidate.apply(e,arguments))}},{key:"doCommit",value:function(){this.masked.doCommit()}},{key:"value",get:function(){return this.masked.value||(this._isFilled&&!this.isOptional?this.placeholderChar:"")}},{key:"unmaskedValue",get:function(){return this.masked.unmaskedValue}},{key:"isComplete",get:function(){return Boolean(this.masked.value)||this.isOptional}},{key:"state",get:function(){return{masked:this.masked.state,_isFilled:this._isFilled}},set:function(t){this.masked.state=t.masked,this._isFilled=t._isFilled}}]),u}(),ve=function(){function e(t){Nt(this,e),Object.assign(this,t),this._value=""}return zt(e,[{key:"reset",value:function(){this._isRawInput=!1,this._value=""}},{key:"remove",value:function(t,e){var n=0<arguments.length&&void 0!==t?t:0,u=1<arguments.length&&void 0!==e?e:this._value.length;return this._value=this._value.slice(0,n)+this._value.slice(u),this._value||(this._isRawInput=!1),new se}},{key:"nearestInputPos",value:function(t,e){var n=1<arguments.length&&void 0!==e?e:te,u=this._value.length;switch(n){case ee:case ne:return 0;case te:case ue:case ie:default:return u}}},{key:"extractInput",value:function(t,e,n){var u=0<arguments.length&&void 0!==t?t:0,i=1<arguments.length&&void 0!==e?e:this._value.length;return(2<arguments.length&&void 0!==n?n:{}).raw&&this._isRawInput&&this._value.slice(u,i)||""}},{key:"_appendChar",value:function(t,e){var n=1<arguments.length&&void 0!==e?e:{},u=new se;if(this._value)return u;var i=this.char===t[0]&&(this.isUnmasking||n.input||n.raw)&&!n.tail;return i&&(u.rawInserted=this.char),this._value=u.inserted=this.char,this._isRawInput=i&&(n.raw||n.input),u}},{key:"_appendPlaceholder",value:function(){var t=new se;return this._value||(this._value=t.inserted=this.char),t}},{key:"extractTail",value:function(t,e){1<arguments.length&&void 0!==e||this.value.length;return new oe("")}},{key:"appendTail",value:function(t){return Qt(t)&&(t=new oe(String(t))),t.appendTo(this)}},{key:"append",value:function(t,e,n){var u=this._appendChar(t,e);return null!=n&&(u.tailShift+=this.appendTail(n).tailShift),u}},{key:"doCommit",value:function(){}},{key:"value",get:function(){return this._value}},{key:"unmaskedValue",get:function(){return this.isUnmasking?this.value:""}},{key:"isComplete",get:function(){return!0}},{key:"state",get:function(){return{_value:this._value,_isRawInput:this._isRawInput}},set:function(t){Object.assign(this,t)}}]),e}(),ke=function(){function l(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;Nt(this,l),this.chunks=t,this.from=e}return zt(l,[{key:"toString",value:function(){return this.chunks.map(String).join("")}},{key:"extend",value:function(t){if(String(t)){Qt(t)&&(t=new oe(String(t)));var e,n=this.chunks[this.chunks.length-1],u=n&&(n.stop===t.stop||null==t.stop)&&t.from===n.from+n.toString().length;if(t instanceof oe)u?n.extend(t.toString()):this.chunks.push(t);else if(t instanceof l){if(null==t.stop)for(;t.chunks.length&&null==t.chunks[0].stop;)(e=t.chunks.shift()).from+=t.from,this.extend(e);t.toString()&&(t.stop=t.blockIndex,this.chunks.push(t))}}}},{key:"appendTo",value:function(t){if(!(t instanceof le.MaskedPattern))return new oe(this.toString()).appendTo(t);for(var e=new se,n=0;n<this.chunks.length&&!e.skip;++n){var u,i,r=this.chunks[n],a=t._mapPosToBlock(t.value.length),s=r.stop,o=void 0;null!=s&&(!a||a.index<=s)&&((r instanceof l||0<=t._stops.indexOf(s))&&e.aggregate(t._appendPlaceholder(s)),o=r instanceof l&&t._blocks[s]),o?((u=o.appendTail(r)).skip=!1,e.aggregate(u),t._value+=u.inserted,(i=r.toString().slice(u.rawInserted.length))&&e.aggregate(t.append(i,{tail:!0}))):e.aggregate(t.append(r.toString(),{tail:!0}))}return e}},{key:"shiftBefore",value:function(t){if(this.from>=t||!this.chunks.length)return"";for(var e=t-this.from,n=0;n<this.chunks.length;){var u=this.chunks[n],i=u.shiftBefore(e);if(u.toString()){if(!i)break;++n}else this.chunks.splice(n,1);if(i)return i}return""}},{key:"state",get:function(){return{chunks:this.chunks.map(function(t){return t.state}),from:this.from,stop:this.stop,blockIndex:this.blockIndex}},set:function(t){var e=t.chunks,n=Kt(t,["chunks"]);Object.assign(this,n),this.chunks=e.map(function(t){var e=new("chunks"in t?l:oe);return e.state=t,e})}}]),l}(),ge=function(){function t(){return Nt(this,t),Gt(this,Yt(t).apply(this,arguments))}return Ht(t,he),zt(t,[{key:"_update",value:function(e){e.mask&&(e.validate=function(t){return 0<=t.search(e.mask)}),qt(Yt(t.prototype),"_update",this).call(this,e)}}]),t}();le.MaskedRegExp=ge;var ye=function(){function l(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return Nt(this,l),t.definitions=Object.assign({},pe,t.definitions),Gt(this,Yt(l).call(this,Object.assign({},l.DEFAULTS,{},t)))}return Ht(l,he),zt(l,[{key:"_update",value:function(t){var e=0<arguments.length&&void 0!==t?t:{};e.definitions=Object.assign({},this.definitions,e.definitions),qt(Yt(l.prototype),"_update",this).call(this,e),this._rebuildMask()}},{key:"_rebuildMask",value:function(){var i=this,t=this.definitions;this._blocks=[],this._stops=[],this._maskedBlocks={};var r=this.mask;if(r&&t)for(var e=!1,n=!1,a=0;a<r.length;++a){if(this.blocks)if("continue"===function(){var e=r.slice(a),t=Object.keys(i.blocks).filter(function(t){return 0===e.indexOf(t)});t.sort(function(t,e){return e.length-t.length});var n=t[0];if(n){var u=fe(Object.assign({parent:i,lazy:i.lazy,placeholderChar:i.placeholderChar,overwrite:i.overwrite},i.blocks[n]));return u&&(i._blocks.push(u),i._maskedBlocks[n]||(i._maskedBlocks[n]=[]),i._maskedBlocks[n].push(i._blocks.length-1)),a+=n.length-1,"continue"}}())continue;var u=r[a],s=u in t;if(u!==l.STOP_CHAR)if("{"!==u&&"}"!==u)if("["!==u&&"]"!==u){if(u===l.ESCAPE_CHAR){if(!(u=r[++a]))break;s=!1}var o=s?new de({parent:this,lazy:this.lazy,placeholderChar:this.placeholderChar,mask:t[u],isOptional:n}):new ve({char:u,isUnmasking:e});this._blocks.push(o)}else n=!n;else e=!e;else this._stops.push(this._blocks.length)}}},{key:"reset",value:function(){qt(Yt(l.prototype),"reset",this).call(this),this._blocks.forEach(function(t){return t.reset()})}},{key:"doCommit",value:function(){this._blocks.forEach(function(t){return t.doCommit()}),qt(Yt(l.prototype),"doCommit",this).call(this)}},{key:"appendTail",value:function(t){return qt(Yt(l.prototype),"appendTail",this).call(this,t).aggregate(this._appendPlaceholder())}},{key:"_appendCharRaw",value:function(t,e){var n=1<arguments.length&&void 0!==e?e:{};t=this.doPrepare(t,n);var u=this._mapPosToBlock(this.value.length),i=new se;if(!u)return i;for(var r=u.index;;++r){var a=this._blocks[r];if(!a)break;var s=a._appendChar(t,n),o=s.skip;if(i.aggregate(s),o||s.rawInserted)break}return i}},{key:"extractTail",value:function(t,e){var r=this,n=0<arguments.length&&void 0!==t?t:0,u=1<arguments.length&&void 0!==e?e:this.value.length,a=new ke;return n===u||this._forEachBlocksInRange(n,u,function(t,e,n,u){var i=t.extractTail(n,u);i.stop=r._findStopBefore(e),i.from=r._blockStartPos(e),i instanceof ke&&(i.blockIndex=e),a.extend(i)}),a}},{key:"extractInput",value:function(t,e,n){var u=0<arguments.length&&void 0!==t?t:0,i=1<arguments.length&&void 0!==e?e:this.value.length,r=2<arguments.length&&void 0!==n?n:{};if(u===i)return"";var a="";return this._forEachBlocksInRange(u,i,function(t,e,n,u){a+=t.extractInput(n,u,r)}),a}},{key:"_findStopBefore",value:function(t){for(var e,n=0;n<this._stops.length;++n){var u=this._stops[n];if(!(u<=t))break;e=u}return e}},{key:"_appendPlaceholder",value:function(u){var i=this,r=new se;if(this.lazy&&null==u)return r;var t=this._mapPosToBlock(this.value.length);if(!t)return r;var e=t.index,n=null!=u?u:this._blocks.length;return this._blocks.slice(e,n).forEach(function(t){var e,n;t.lazy&&null==u||(e=null!=t._blocks?[t._blocks.length]:[],n=t._appendPlaceholder.apply(t,e),i._value+=n.inserted,r.aggregate(n))}),r}},{key:"_mapPosToBlock",value:function(t){for(var e="",n=0;n<this._blocks.length;++n){var u=this._blocks[n],i=e.length;if(t<=(e+=u.value).length)return{index:n,offset:t-i}}}},{key:"_blockStartPos",value:function(t){return this._blocks.slice(0,t).reduce(function(t,e){return t+e.value.length},0)}},{key:"_forEachBlocksInRange",value:function(t,e,n){var u=1<arguments.length&&void 0!==e?e:this.value.length,i=2<arguments.length?n:void 0,r=this._mapPosToBlock(t);if(r){var a=this._mapPosToBlock(u),s=a&&r.index===a.index,o=r.offset,l=a&&s?a.offset:this._blocks[r.index].value.length;if(i(this._blocks[r.index],r.index,o,l),a&&!s){for(var h=r.index+1;h<a.index;++h)i(this._blocks[h],h,0,this._blocks[h].value.length);i(this._blocks[a.index],a.index,0,a.offset)}}}},{key:"remove",value:function(t,e){var n=0<arguments.length&&void 0!==t?t:0,u=1<arguments.length&&void 0!==e?e:this.value.length,i=qt(Yt(l.prototype),"remove",this).call(this,n,u);return this._forEachBlocksInRange(n,u,function(t,e,n,u){i.aggregate(t.remove(n,u))}),i}},{key:"nearestInputPos",value:function(t,e){var n=1<arguments.length&&void 0!==e?e:te,u=this._mapPosToBlock(t)||{index:0,offset:0},i=u.offset,r=u.index,a=this._blocks[r];if(!a)return t;var s=i;0!==s&&s<a.value.length&&(s=a.nearestInputPos(i,function(t){switch(t){case ee:return ne;case ue:return ie;default:return t}}(n)));var o=s===a.value.length;if(!(0===s)&&!o)return this._blockStartPos(r)+s;var l=o?r+1:r;if(n===te){if(0<l){var h=l-1,c=this._blocks[h],f=c.nearestInputPos(0,te);if(!c.value.length||f!==c.value.length)return this._blockStartPos(l)}for(var p=l;p<this._blocks.length;++p){var d=this._blocks[p],v=d.nearestInputPos(0,te);if(!d.value.length||v!==d.value.length)return this._blockStartPos(p)+v}for(var k=l-1;0<=k;--k){var g=this._blocks[k],y=g.nearestInputPos(0,te);if(!g.value.length||y!==g.value.length)return this._blockStartPos(k)+g.value.length}return t}if(n===ee||n===ne){for(var m,_=l;_<this._blocks.length;++_)if(this._blocks[_].value){m=_;break}if(null!=m){var A=this._blocks[m],b=A.nearestInputPos(0,ue);if(0===b&&A.unmaskedValue.length)return this._blockStartPos(m)+b}for(var C,E=-1,F=l-1;0<=F;--F){var S=this._blocks[F],D=S.nearestInputPos(S.value.length,ne);if(S.value&&0===D||(C=F),0!==D){if(D!==S.value.length)return this._blockStartPos(F)+D;E=F;break}}if(n===ee)for(var B=E+1;B<=Math.min(l,this._blocks.length-1);++B){var w=this._blocks[B],M=w.nearestInputPos(0,te),x=this._blockStartPos(B)+M;if(t<x)break;if(M!==w.value.length)return x}if(0<=E)return this._blockStartPos(E)+this._blocks[E].value.length;if(n===ne||this.lazy&&!this.extractInput()&&!function(t){if(!t)return!1;var e=t.value;return!e||t.nearestInputPos(0,te)!==e.length}(this._blocks[l]))return 0;if(null!=C)return this._blockStartPos(C);for(var P=l;P<this._blocks.length;++P){var O=this._blocks[P],T=O.nearestInputPos(0,te);if(!O.value.length||T!==O.value.length)return this._blockStartPos(P)+T}return 0}if(n===ue||n===ie){for(var I,j,V=l;V<this._blocks.length;++V){var R=this._blocks[V],L=R.nearestInputPos(0,te);if(L!==R.value.length){j=this._blockStartPos(V)+L,I=V;break}}if(null!=I&&null!=j){for(var N=I;N<this._blocks.length;++N){var U=this._blocks[N],z=U.nearestInputPos(0,ie);if(z!==U.value.length)return this._blockStartPos(N)+z}return n===ie?this.value.length:j}for(var H=Math.min(l,this._blocks.length-1);0<=H;--H){var Y=this._blocks[H],Z=Y.nearestInputPos(Y.value.length,ee);if(0!==Z){var K=this._blockStartPos(H)+Z;if(t<=K)return K;break}}}return t}},{key:"maskedBlock",value:function(t){return this.maskedBlocks(t)[0]}},{key:"maskedBlocks",value:function(t){var e=this,n=this._maskedBlocks[t];return n?n.map(function(t){return e._blocks[t]}):[]}},{key:"state",get:function(){return Object.assign({},qt(Yt(l.prototype),"state",this),{_blocks:this._blocks.map(function(t){return t.state})})},set:function(t){var n=t._blocks,e=Kt(t,["_blocks"]);this._blocks.forEach(function(t,e){return t.state=n[e]}),Xt(Yt(l.prototype),"state",e,this,!0)}},{key:"isComplete",get:function(){return this._blocks.every(function(t){return t.isComplete})}},{key:"unmaskedValue",get:function(){return this._blocks.reduce(function(t,e){return t+e.unmaskedValue},"")},set:function(t){Xt(Yt(l.prototype),"unmaskedValue",t,this,!0)}},{key:"value",get:function(){return this._blocks.reduce(function(t,e){return t+e.value},"")},set:function(t){Xt(Yt(l.prototype),"value",t,this,!0)}}]),l}();ye.DEFAULTS={lazy:!0,placeholderChar:"_"},ye.STOP_CHAR="`",ye.ESCAPE_CHAR="\\",ye.InputDefinition=de,ye.FixedDefinition=ve,le.MaskedPattern=ye;var me=function(){function f(){return Nt(this,f),Gt(this,Yt(f).apply(this,arguments))}return Ht(f,ye),zt(f,[{key:"_update",value:function(t){t=Object.assign({to:this.to||0,from:this.from||0},t);var e=String(t.to).length;null!=t.maxLength&&(e=Math.max(e,t.maxLength)),t.maxLength=e;for(var n=String(t.from).padStart(e,"0"),u=String(t.to).padStart(e,"0"),i=0;i<u.length&&u[i]===n[i];)++i;t.mask=u.slice(0,i).replace(/0/g,"\\0")+"0".repeat(e-i),qt(Yt(f.prototype),"_update",this).call(this,t)}},{key:"boundaries",value:function(t){var e="",n="",u=Jt(t.match(/^(\D*)(\d*)(\D*)/)||[],3),i=u[1],r=u[2];return r&&(e="0".repeat(i.length)+r,n="9".repeat(i.length)+r),[e=e.padEnd(this.maxLength,"0"),n=n.padEnd(this.maxLength,"9")]}},{key:"doPrepare",value:function(t,e){var n=1<arguments.length&&void 0!==e?e:{};if(t=qt(Yt(f.prototype),"doPrepare",this).call(this,t,n).replace(/\D/g,""),!this.autofix)return t;for(var u=String(this.from).padStart(this.maxLength,"0"),i=String(this.to).padStart(this.maxLength,"0"),r=this.value,a="",s=0;s<t.length;++s){var o=r+a+t[s],l=Jt(this.boundaries(o),2),h=l[0],c=l[1];Number(c)<this.from?a+=u[o.length-1]:Number(h)>this.to?a+=i[o.length-1]:a+=t[s]}return a}},{key:"doValidate",value:function(){var t,e=this.value;if(-1===e.search(/[^0]/)&&e.length<=this._matchFrom)return!0;for(var n=Jt(this.boundaries(e),2),u=n[0],i=n[1],r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return this.from<=Number(i)&&Number(u)<=this.to&&(t=qt(Yt(f.prototype),"doValidate",this)).call.apply(t,[this].concat(a))}},{key:"_matchFrom",get:function(){return this.maxLength-String(this.from).length}},{key:"isComplete",get:function(){return qt(Yt(f.prototype),"isComplete",this)&&Boolean(this.value)}}]),f}();le.MaskedRange=me;var _e=function(){function r(t){return Nt(this,r),Gt(this,Yt(r).call(this,Object.assign({},r.DEFAULTS,{},t)))}return Ht(r,ye),zt(r,[{key:"_update",value:function(n){n.mask===Date&&delete n.mask,n.pattern&&(n.mask=n.pattern);var t=n.blocks;n.blocks=Object.assign({},r.GET_DEFAULT_BLOCKS()),n.min&&(n.blocks.Y.from=n.min.getFullYear()),n.max&&(n.blocks.Y.to=n.max.getFullYear()),n.min&&n.max&&n.blocks.Y.from===n.blocks.Y.to&&(n.blocks.m.from=n.min.getMonth()+1,n.blocks.m.to=n.max.getMonth()+1,n.blocks.m.from===n.blocks.m.to&&(n.blocks.d.from=n.min.getDate(),n.blocks.d.to=n.max.getDate())),Object.assign(n.blocks,t),Object.keys(n.blocks).forEach(function(t){var e=n.blocks[t];"autofix"in e||(e.autofix=n.autofix)}),qt(Yt(r.prototype),"_update",this).call(this,n)}},{key:"doValidate",value:function(){for(var t,e=this.date,n=arguments.length,u=new Array(n),i=0;i<n;i++)u[i]=arguments[i];return(t=qt(Yt(r.prototype),"doValidate",this)).call.apply(t,[this].concat(u))&&(!this.isComplete||this.isDateExist(this.value)&&null!=e&&(null==this.min||this.min<=e)&&(null==this.max||e<=this.max))}},{key:"isDateExist",value:function(t){return 0<=this.format(this.parse(t,this),this).indexOf(t)}},{key:"date",get:function(){return this.typedValue},set:function(t){this.typedValue=t}},{key:"typedValue",get:function(){return this.isComplete?qt(Yt(r.prototype),"typedValue",this):null},set:function(t){Xt(Yt(r.prototype),"typedValue",t,this,!0)}}]),r}();_e.DEFAULTS={pattern:"d{.}`m{.}`Y",format:function(t){return[String(t.getDate()).padStart(2,"0"),String(t.getMonth()+1).padStart(2,"0"),t.getFullYear()].join(".")},parse:function(t){var e=Jt(t.split("."),3),n=e[0],u=e[1],i=e[2];return new Date(i,u-1,n)}},_e.GET_DEFAULT_BLOCKS=function(){return{d:{mask:me,from:1,to:31,maxLength:2},m:{mask:me,from:1,to:12,maxLength:2},Y:{mask:me,from:1900,to:9999}}},le.MaskedDate=_e;var Ae=function(){function t(){Nt(this,t)}return zt(t,[{key:"select",value:function(t,e){if(null!=t&&null!=e&&(t!==this.selectionStart||e!==this.selectionEnd))try{this._unsafeSelect(t,e)}catch(t){}}},{key:"_unsafeSelect",value:function(){}},{key:"bindEvents",value:function(){}},{key:"unbindEvents",value:function(){}},{key:"selectionStart",get:function(){var t;try{t=this._unsafeSelectionStart}catch(t){}return null!=t?t:this.value.length}},{key:"selectionEnd",get:function(){var t;try{t=this._unsafeSelectionEnd}catch(t){}return null!=t?t:this.value.length}},{key:"isActive",get:function(){return!1}}]),t}();le.MaskElement=Ae;var be=function(){function u(t){var e;return Nt(this,u),(e=Gt(this,Yt(u).call(this))).input=t,e._handlers={},e}return Ht(u,Ae),zt(u,[{key:"_unsafeSelect",value:function(t,e){this.input.setSelectionRange(t,e)}},{key:"bindEvents",value:function(e){var n=this;Object.keys(e).forEach(function(t){return n._toggleEventHandler(u.EVENTS_MAP[t],e[t])})}},{key:"unbindEvents",value:function(){var e=this;Object.keys(this._handlers).forEach(function(t){return e._toggleEventHandler(t)})}},{key:"_toggleEventHandler",value:function(t,e){this._handlers[t]&&(this.input.removeEventListener(t,this._handlers[t]),delete this._handlers[t]),e&&(this.input.addEventListener(t,e),this._handlers[t]=e)}},{key:"rootElement",get:function(){return this.input.getRootNode?this.input.getRootNode():document}},{key:"isActive",get:function(){return this.input===this.rootElement.activeElement}},{key:"_unsafeSelectionStart",get:function(){return this.input.selectionStart}},{key:"_unsafeSelectionEnd",get:function(){return this.input.selectionEnd}},{key:"value",get:function(){return this.input.value},set:function(t){this.input.value=t}}]),u}();be.EVENTS_MAP={selectionChange:"keydown",input:"input",drop:"drop",click:"click",focus:"focus",commit:"blur"},le.HTMLMaskElement=be;var Ce=function(){function t(){return Nt(this,t),Gt(this,Yt(t).apply(this,arguments))}return Ht(t,be),zt(t,[{key:"_unsafeSelect",value:function(t,e){var n,u,i;this.rootElement.createRange&&((n=this.rootElement.createRange()).setStart(this.input.firstChild||this.input,t),n.setEnd(this.input.lastChild||this.input,e),(i=(u=this.rootElement).getSelection&&u.getSelection())&&(i.removeAllRanges(),i.addRange(n)))}},{key:"_unsafeSelectionStart",get:function(){var t=this.rootElement,e=t.getSelection&&t.getSelection();return e&&e.anchorOffset}},{key:"_unsafeSelectionEnd",get:function(){var t=this.rootElement,e=t.getSelection&&t.getSelection();return e&&this._unsafeSelectionStart+String(e).length}},{key:"value",get:function(){return this.input.textContent},set:function(t){this.input.textContent=t}}]),t}();le.HTMLContenteditableMaskElement=Ce;var Ee=function(){function n(t,e){Nt(this,n),this.el=t instanceof Ae?t:new(t.isContentEditable&&"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName?Ce:be)(t),this.masked=fe(e),this._listeners={},this._value="",this._unmaskedValue="",this._saveSelection=this._saveSelection.bind(this),this._onInput=this._onInput.bind(this),this._onChange=this._onChange.bind(this),this._onDrop=this._onDrop.bind(this),this._onFocus=this._onFocus.bind(this),this._onClick=this._onClick.bind(this),this.alignCursor=this.alignCursor.bind(this),this.alignCursorFriendly=this.alignCursorFriendly.bind(this),this._bindEvents(),this.updateValue(),this._onChange()}return zt(n,[{key:"maskEquals",value:function(t){return null==t||t===this.masked.mask||t===Date&&this.masked instanceof _e}},{key:"_bindEvents",value:function(){this.el.bindEvents({selectionChange:this._saveSelection,input:this._onInput,drop:this._onDrop,click:this._onClick,focus:this._onFocus,commit:this._onChange})}},{key:"_unbindEvents",value:function(){this.el&&this.el.unbindEvents()}},{key:"_fireEvent",value:function(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),u=1;u<e;u++)n[u-1]=arguments[u];var i=this._listeners[t];i&&i.forEach(function(t){return t.apply(void 0,n)})}},{key:"_saveSelection",value:function(){this.value!==this.el.value&&console.warn("Element value was changed outside of mask. Syncronize mask using `mask.updateValue()` to work properly."),this._selection={start:this.selectionStart,end:this.cursorPos}}},{key:"updateValue",value:function(){this.masked.value=this.el.value,this._value=this.masked.value}},{key:"updateControl",value:function(){var t=this.masked.unmaskedValue,e=this.masked.value,n=this.unmaskedValue!==t||this.value!==e;this._unmaskedValue=t,this._value=e,this.el.value!==e&&(this.el.value=e),n&&this._fireChangeEvents()}},{key:"updateOptions",value:function(t){var e=t.mask,n=Kt(t,["mask"]),u=!this.maskEquals(e),i=!function t(e,n){if(n===e)return 1;var u=Array.isArray(n),i=Array.isArray(e);if(u&&i){if(n.length!=e.length)return;for(h=0;h<n.length;h++)if(!t(n[h],e[h]))return;return 1}if(u==i){if(n&&e&&"object"===Lt(n)&&"object"===Lt(e)){var r=n instanceof Date,a=e instanceof Date;if(r&&a)return n.getTime()==e.getTime();if(r!=a)return;var s=n instanceof RegExp,o=e instanceof RegExp;if(s&&o)return n.toString()==e.toString();if(s!=o)return;for(var l=Object.keys(n),h=0;h<l.length;h++)if(!Object.prototype.hasOwnProperty.call(e,l[h]))return;for(h=0;h<l.length;h++)if(!t(e[l[h]],n[l[h]]))return;return 1}return n&&e&&"function"==typeof n&&"function"==typeof e&&n.toString()===e.toString()}}(this.masked,n);u&&(this.mask=e),i&&this.masked.updateOptions(n),(u||i)&&this.updateControl()}},{key:"updateCursor",value:function(t){null!=t&&(this.cursorPos=t,this._delayUpdateCursor(t))}},{key:"_delayUpdateCursor",value:function(t){var e=this;this._abortUpdateCursor(),this._changingCursorPos=t,this._cursorChanging=setTimeout(function(){e.el&&(e.cursorPos=e._changingCursorPos,e._abortUpdateCursor())},10)}},{key:"_fireChangeEvents",value:function(){this._fireEvent("accept",this._inputEvent),this.masked.isComplete&&this._fireEvent("complete",this._inputEvent)}},{key:"_abortUpdateCursor",value:function(){this._cursorChanging&&(clearTimeout(this._cursorChanging),delete this._cursorChanging)}},{key:"alignCursor",value:function(){this.cursorPos=this.masked.nearestInputPos(this.cursorPos,ee)}},{key:"alignCursorFriendly",value:function(){this.selectionStart===this.cursorPos&&this.alignCursor()}},{key:"on",value:function(t,e){return this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(e),this}},{key:"off",value:function(t,e){if(!this._listeners[t])return this;if(!e)return delete this._listeners[t],this;var n=this._listeners[t].indexOf(e);return 0<=n&&this._listeners[t].splice(n,1),this}},{key:"_onInput",value:function(t){if(this._inputEvent=t,this._abortUpdateCursor(),!this._selection)return this.updateValue();var e=new ae(this.el.value,this.cursorPos,this.value,this._selection),n=this.masked.rawInputValue,u=this.masked.splice(e.startChangePos,e.removed.length,e.inserted,e.removeDirection).offset,i=n===this.masked.rawInputValue?e.removeDirection:te,r=this.masked.nearestInputPos(e.startChangePos+u,i);this.updateControl(),this.updateCursor(r),delete this._inputEvent}},{key:"_onChange",value:function(){this.value!==this.el.value&&this.updateValue(),this.masked.doCommit(),this.updateControl(),this._saveSelection()}},{key:"_onDrop",value:function(t){t.preventDefault(),t.stopPropagation()}},{key:"_onFocus",value:function(){this.alignCursorFriendly()}},{key:"_onClick",value:function(){this.alignCursorFriendly()}},{key:"destroy",value:function(){this._unbindEvents(),this._listeners.length=0,delete this.el}},{key:"mask",get:function(){return this.masked.mask},set:function(t){var e;this.maskEquals(t)||(t instanceof le.Masked||this.masked.constructor!==ce(t)?((e=fe({mask:t})).unmaskedValue=this.masked.unmaskedValue,this.masked=e):this.masked.updateOptions({mask:t}))}},{key:"value",get:function(){return this._value},set:function(t){this.masked.value=t,this.updateControl(),this.alignCursor()}},{key:"unmaskedValue",get:function(){return this._unmaskedValue},set:function(t){this.masked.unmaskedValue=t,this.updateControl(),this.alignCursor()}},{key:"typedValue",get:function(){return this.masked.typedValue},set:function(t){this.masked.typedValue=t,this.updateControl(),this.alignCursor()}},{key:"selectionStart",get:function(){return this._cursorChanging?this._changingCursorPos:this.el.selectionStart}},{key:"cursorPos",get:function(){return this._cursorChanging?this._changingCursorPos:this.el.selectionEnd},set:function(t){this.el&&this.el.isActive&&(this.el.select(t,t),this._saveSelection())}}]),n}();le.InputMask=Ee;var Fe=function(){function r(){return Nt(this,r),Gt(this,Yt(r).apply(this,arguments))}return Ht(r,ye),zt(r,[{key:"_update",value:function(t){t.enum&&(t.mask="*".repeat(t.enum[0].length)),qt(Yt(r.prototype),"_update",this).call(this,t)}},{key:"doValidate",value:function(){for(var t,e=this,n=arguments.length,u=new Array(n),i=0;i<n;i++)u[i]=arguments[i];return this.enum.some(function(t){return 0<=t.indexOf(e.unmaskedValue)})&&(t=qt(Yt(r.prototype),"doValidate",this)).call.apply(t,[this].concat(u))}}]),r}();le.MaskedEnum=Fe;var Se=function(){function o(t){return Nt(this,o),Gt(this,Yt(o).call(this,Object.assign({},o.DEFAULTS,{},t)))}return Ht(o,he),zt(o,[{key:"_update",value:function(t){qt(Yt(o.prototype),"_update",this).call(this,t),this._updateRegExps()}},{key:"_updateRegExps",value:function(){var t="^"+(this.allowNegative?"[+|\\-]?":""),e=(this.scale?"("+re(this.radix)+"\\d{0,"+this.scale+"})?":"")+"$";this._numberRegExpInput=new RegExp(t+"(0|([1-9]+\\d*))?"+e),this._numberRegExp=new RegExp(t+"\\d*"+e),this._mapToRadixRegExp=new RegExp("["+this.mapToRadix.map(re).join("")+"]","g"),this._thousandsSeparatorRegExp=new RegExp(re(this.thousandsSeparator),"g")}},{key:"_removeThousandsSeparators",value:function(t){return t.replace(this._thousandsSeparatorRegExp,"")}},{key:"_insertThousandsSeparators",value:function(t){var e=t.split(this.radix);return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,this.thousandsSeparator),e.join(this.radix)}},{key:"doPrepare",value:function(t){for(var e,n=arguments.length,u=new Array(1<n?n-1:0),i=1;i<n;i++)u[i-1]=arguments[i];return(e=qt(Yt(o.prototype),"doPrepare",this)).call.apply(e,[this,this._removeThousandsSeparators(t.replace(this._mapToRadixRegExp,this.radix))].concat(u))}},{key:"_separatorsCount",value:function(t,e){for(var n=1<arguments.length&&void 0!==e&&e,u=0,i=0;i<t;++i)this._value.indexOf(this.thousandsSeparator,i)===i&&(++u,n&&(t+=this.thousandsSeparator.length));return u}},{key:"_separatorsCountFromSlice",value:function(t){var e=0<arguments.length&&void 0!==t?t:this._value;return this._separatorsCount(this._removeThousandsSeparators(e).length,!0)}},{key:"extractInput",value:function(t,e,n){var u=0<arguments.length&&void 0!==t?t:0,i=1<arguments.length&&void 0!==e?e:this.value.length,r=2<arguments.length?n:void 0,a=Jt(this._adjustRangeWithSeparators(u,i),2),u=a[0],i=a[1];return this._removeThousandsSeparators(qt(Yt(o.prototype),"extractInput",this).call(this,u,i,r))}},{key:"_appendCharRaw",value:function(t,e){var n=1<arguments.length&&void 0!==e?e:{};if(!this.thousandsSeparator)return qt(Yt(o.prototype),"_appendCharRaw",this).call(this,t,n);var u=n.tail&&n._beforeTailState?n._beforeTailState._value:this._value,i=this._separatorsCountFromSlice(u);this._value=this._removeThousandsSeparators(this.value);var r=qt(Yt(o.prototype),"_appendCharRaw",this).call(this,t,n);this._value=this._insertThousandsSeparators(this._value);var a=n.tail&&n._beforeTailState?n._beforeTailState._value:this._value,s=this._separatorsCountFromSlice(a);return r.tailShift+=(s-i)*this.thousandsSeparator.length,r.skip=!r.rawInserted&&t===this.thousandsSeparator,r}},{key:"_findSeparatorAround",value:function(t){if(this.thousandsSeparator){var e=t-this.thousandsSeparator.length+1,n=this.value.indexOf(this.thousandsSeparator,e);if(n<=t)return n}return-1}},{key:"_adjustRangeWithSeparators",value:function(t,e){var n=this._findSeparatorAround(t);0<=n&&(t=n);var u=this._findSeparatorAround(e);return 0<=u&&(e=u+this.thousandsSeparator.length),[t,e]}},{key:"remove",value:function(t,e){var n=0<arguments.length&&void 0!==t?t:0,u=1<arguments.length&&void 0!==e?e:this.value.length,i=Jt(this._adjustRangeWithSeparators(n,u),2),n=i[0],u=i[1],r=this.value.slice(0,n),a=this.value.slice(u),s=this._separatorsCount(r.length);this._value=this._insertThousandsSeparators(this._removeThousandsSeparators(r+a));var o=this._separatorsCountFromSlice(r);return new se({tailShift:(o-s)*this.thousandsSeparator.length})}},{key:"nearestInputPos",value:function(t,e){if(!this.thousandsSeparator)return t;switch(e){case te:case ee:case ne:var n=this._findSeparatorAround(t-1);if(0<=n){var u=n+this.thousandsSeparator.length;if(t<u||this.value.length<=u||e===ne)return n}break;case ue:case ie:var i=this._findSeparatorAround(t);if(0<=i)return i+this.thousandsSeparator.length}return t}},{key:"doValidate",value:function(t){var e,n=(t.input?this._numberRegExpInput:this._numberRegExp).test(this._removeThousandsSeparators(this.value));return n&&(e=this.number,n=n&&!isNaN(e)&&(null==this.min||0<=this.min||this.min<=this.number)&&(null==this.max||this.max<=0||this.number<=this.max)),n&&qt(Yt(o.prototype),"doValidate",this).call(this,t)}},{key:"doCommit",value:function(){var t,e,n;this.value&&(e=t=this.number,null!=this.min&&(e=Math.max(e,this.min)),null!=this.max&&(e=Math.min(e,this.max)),e!==t&&(this.unmaskedValue=String(e)),n=this.value,this.normalizeZeros&&(n=this._normalizeZeros(n)),this.padFractionalZeros&&(n=this._padFractionalZeros(n)),this._value=n),qt(Yt(o.prototype),"doCommit",this).call(this)}},{key:"_normalizeZeros",value:function(t){var e=this._removeThousandsSeparators(t).split(this.radix);return e[0]=e[0].replace(/^(\D*)(0*)(\d*)/,function(t,e,n,u){return e+u}),t.length&&!/\d$/.test(e[0])&&(e[0]=e[0]+"0"),1<e.length&&(e[1]=e[1].replace(/0*$/,""),e[1].length||(e.length=1)),this._insertThousandsSeparators(e.join(this.radix))}},{key:"_padFractionalZeros",value:function(t){if(!t)return t;var e=t.split(this.radix);return e.length<2&&e.push(""),e[1]=e[1].padEnd(this.scale,"0"),e.join(this.radix)}},{key:"unmaskedValue",get:function(){return this._removeThousandsSeparators(this._normalizeZeros(this.value)).replace(this.radix,".")},set:function(t){Xt(Yt(o.prototype),"unmaskedValue",t.replace(".",this.radix),this,!0)}},{key:"typedValue",get:function(){return Number(this.unmaskedValue)},set:function(t){Xt(Yt(o.prototype),"unmaskedValue",String(t),this,!0)}},{key:"number",get:function(){return this.typedValue},set:function(t){this.typedValue=t}},{key:"allowNegative",get:function(){return this.signed||null!=this.min&&this.min<0||null!=this.max&&this.max<0}}]),o}();Se.DEFAULTS={radix:",",thousandsSeparator:"",mapToRadix:["."],scale:2,signed:!1,normalizeZeros:!0,padFractionalZeros:!1},le.MaskedNumber=Se;var De=function(){function e(){return Nt(this,e),Gt(this,Yt(e).apply(this,arguments))}return Ht(e,he),zt(e,[{key:"_update",value:function(t){t.mask&&(t.validate=t.mask),qt(Yt(e.prototype),"_update",this).call(this,t)}}]),e}();le.MaskedFunction=De;var Be=function(){function r(t){var e;return Nt(this,r),(e=Gt(this,Yt(r).call(this,Object.assign({},r.DEFAULTS,{},t)))).currentMask=null,e}return Ht(r,he),zt(r,[{key:"_update",value:function(t){qt(Yt(r.prototype),"_update",this).call(this,t),"mask"in t&&(this.compiledMasks=Array.isArray(t.mask)?t.mask.map(fe):[])}},{key:"_appendCharRaw",value:function(){var t,e=this._applyDispatch.apply(this,arguments);return this.currentMask&&e.aggregate((t=this.currentMask)._appendChar.apply(t,arguments)),e}},{key:"_applyDispatch",value:function(t,e){var n,u=0<arguments.length&&void 0!==t?t:"",i=1<arguments.length&&void 0!==e?e:{},r=i.tail&&null!=i._beforeTailState?i._beforeTailState._value:this.value,a=this.rawInputValue,s=i.tail&&null!=i._beforeTailState?i._beforeTailState._rawInputValue:a,o=a.slice(s.length),l=this.currentMask,h=new se,c=l&&l.state;return this.currentMask=this.doDispatch(u,Object.assign({},i)),this.currentMask&&(this.currentMask!==l?(this.currentMask.reset(),n=this.currentMask.append(s,{raw:!0}),h.tailShift=n.inserted.length-r.length,o&&(h.tailShift+=this.currentMask.append(o,{raw:!0,tail:!0}).tailShift)):this.currentMask.state=c),h}},{key:"_appendPlaceholder",value:function(){var t=this._applyDispatch.apply(this,arguments);return this.currentMask&&t.aggregate(this.currentMask._appendPlaceholder()),t}},{key:"doDispatch",value:function(t,e){var n=1<arguments.length&&void 0!==e?e:{};return this.dispatch(t,this,n)}},{key:"doValidate",value:function(){for(var t,e,n=arguments.length,u=new Array(n),i=0;i<n;i++)u[i]=arguments[i];return(t=qt(Yt(r.prototype),"doValidate",this)).call.apply(t,[this].concat(u))&&(!this.currentMask||(e=this.currentMask).doValidate.apply(e,u))}},{key:"reset",value:function(){this.currentMask&&this.currentMask.reset(),this.compiledMasks.forEach(function(t){return t.reset()})}},{key:"remove",value:function(){var t,e=new se;return this.currentMask&&e.aggregate((t=this.currentMask).remove.apply(t,arguments)).aggregate(this._applyDispatch()),e}},{key:"extractInput",value:function(){var t;return this.currentMask?(t=this.currentMask).extractInput.apply(t,arguments):""}},{key:"extractTail",value:function(){for(var t,e,n=arguments.length,u=new Array(n),i=0;i<n;i++)u[i]=arguments[i];return this.currentMask?(t=this.currentMask).extractTail.apply(t,u):(e=qt(Yt(r.prototype),"extractTail",this)).call.apply(e,[this].concat(u))}},{key:"doCommit",value:function(){this.currentMask&&this.currentMask.doCommit(),qt(Yt(r.prototype),"doCommit",this).call(this)}},{key:"nearestInputPos",value:function(){for(var t,e,n=arguments.length,u=new Array(n),i=0;i<n;i++)u[i]=arguments[i];return this.currentMask?(t=this.currentMask).nearestInputPos.apply(t,u):(e=qt(Yt(r.prototype),"nearestInputPos",this)).call.apply(e,[this].concat(u))}},{key:"value",get:function(){return this.currentMask?this.currentMask.value:""},set:function(t){Xt(Yt(r.prototype),"value",t,this,!0)}},{key:"unmaskedValue",get:function(){return this.currentMask?this.currentMask.unmaskedValue:""},set:function(t){Xt(Yt(r.prototype),"unmaskedValue",t,this,!0)}},{key:"typedValue",get:function(){return this.currentMask?this.currentMask.typedValue:""},set:function(t){var e=String(t);this.currentMask&&(this.currentMask.typedValue=t,e=this.currentMask.unmaskedValue),this.unmaskedValue=e}},{key:"isComplete",get:function(){return!!this.currentMask&&this.currentMask.isComplete}},{key:"state",get:function(){return Object.assign({},qt(Yt(r.prototype),"state",this),{_rawInputValue:this.rawInputValue,compiledMasks:this.compiledMasks.map(function(t){return t.state}),currentMaskRef:this.currentMask,currentMask:this.currentMask&&this.currentMask.state})},set:function(t){var n=t.compiledMasks,e=t.currentMaskRef,u=t.currentMask,i=Kt(t,["compiledMasks","currentMaskRef","currentMask"]);this.compiledMasks.forEach(function(t,e){return t.state=n[e]}),null!=e&&(this.currentMask=e,this.currentMask.state=u),Xt(Yt(r.prototype),"state",i,this,!0)}},{key:"overwrite",get:function(){return this.currentMask?this.currentMask.overwrite:qt(Yt(r.prototype),"overwrite",this)},set:function(){console.warn('"overwrite" option is not available in dynamic mask, use this option in siblings')}}]),r}();Be.DEFAULTS={dispatch:function(n,t,u){if(t.compiledMasks.length){var i=t.rawInputValue,e=t.compiledMasks.map(function(t,e){return t.reset(),t.append(i,{raw:!0}),t.append(n,u),{weight:t.rawInputValue.length,index:e}});return e.sort(function(t,e){return e.weight-t.weight}),t.compiledMasks[e[0].index]}}},le.MaskedDynamic=Be;var we={MASKED:"value",UNMASKED:"unmaskedValue",TYPED:"typedValue"};function Me(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:we.MASKED,u=2<arguments.length&&void 0!==arguments[2]?arguments[2]:we.MASKED,i=fe(t);return function(e){return i.runIsolated(function(t){return t[n]=e,t[u]})}}function xe(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),u=1;u<e;u++)n[u-1]=arguments[u];return Me.apply(void 0,n)(t)}le.PIPE_TYPE=we,le.createPipe=Me,le.pipe=xe;try{globalThis.IMask=le}catch(t){}t.HTMLContenteditableMaskElement=Ce,t.HTMLMaskElement=be,t.InputMask=Ee,t.MaskElement=Ae,t.Masked=he,t.MaskedDate=_e,t.MaskedDynamic=Be,t.MaskedEnum=Fe,t.MaskedFunction=De,t.MaskedNumber=Se,t.MaskedPattern=ye,t.MaskedRange=me,t.MaskedRegExp=ge,t.PIPE_TYPE=we,t.createMask=fe,t.createPipe=Me,t.default=le,t.pipe=xe,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImltYXNrLmpzIl0sIm5hbWVzIjpbImdsb2JhbCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwiZGVmaW5lIiwiYW1kIiwic2VsZiIsIklNYXNrIiwidGhpcyIsImNvbW1vbmpzR2xvYmFsIiwiZ2xvYmFsVGhpcyIsIndpbmRvdyIsImNyZWF0ZUNvbW1vbmpzTW9kdWxlIiwiZm4iLCJjaGVjayIsIml0IiwiTWF0aCIsImZhaWxzIiwiZXhlYyIsImVycm9yIiwiY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yIiwiYml0bWFwIiwidmFsdWUiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJyZXF1aXJlT2JqZWN0Q29lcmNpYmxlIiwidW5kZWZpbmVkIiwiVHlwZUVycm9yIiwidG9JbmRleGVkT2JqZWN0IiwiaW5kZXhlZE9iamVjdCIsImlzT2JqZWN0IiwidG9QcmltaXRpdmUiLCJpbnB1dCIsIlBSRUZFUlJFRF9TVFJJTkciLCJ2YWwiLCJ0b1N0cmluZyIsImNhbGwiLCJ2YWx1ZU9mIiwiaGFzIiwia2V5IiwiaGFzT3duUHJvcGVydHkiLCJhbk9iamVjdCIsIlN0cmluZyIsInNldEdsb2JhbCIsImNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eSIsImdsb2JhbF8xIiwiRnVuY3Rpb24iLCJkZXNjcmlwdG9ycyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0IiwibmF0aXZlUHJvcGVydHlJc0VudW1lcmFibGUiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsIm9iamVjdFByb3BlcnR5SXNFbnVtZXJhYmxlIiwiZiIsIjEiLCJWIiwiZGVzY3JpcHRvciIsInNwbGl0Iiwic2xpY2UiLCJkb2N1bWVudCQxIiwiZG9jdW1lbnQiLCJFWElTVFMiLCJjcmVhdGVFbGVtZW50IiwiaWU4RG9tRGVmaW5lIiwiYSIsIm5hdGl2ZUdldE93blByb3BlcnR5RGVzY3JpcHRvciIsIm9iamVjdEdldE93blByb3BlcnR5RGVzY3JpcHRvciIsIk8iLCJQIiwibmF0aXZlRGVmaW5lUHJvcGVydHkiLCJvYmplY3REZWZpbmVQcm9wZXJ0eSIsIkF0dHJpYnV0ZXMiLCJvYmplY3QiLCJTSEFSRUQiLCJzaGFyZWRTdG9yZSIsImZ1bmN0aW9uVG9TdHJpbmciLCJpbnNwZWN0U291cmNlIiwic3RvcmUkMSIsIndtZ2V0Iiwid21oYXMiLCJ3bXNldCIsInNldCIsImhhcyQxIiwiU1RBVEUiLCJXZWFrTWFwIiwibmF0aXZlV2Vha01hcCIsInRlc3QiLCJzaGFyZWQiLCJwdXNoIiwidmVyc2lvbiIsIm1vZGUiLCJjb3B5cmlnaHQiLCJpZCIsInBvc3RmaXgiLCJyYW5kb20iLCJrZXlzIiwiaGlkZGVuS2V5cyIsIldlYWtNYXAkMSIsIm1ldGFkYXRhIiwiYUZ1bmN0aW9uIiwidmFyaWFibGUiLCJnZXRCdWlsdEluIiwibmFtZXNwYWNlIiwibWV0aG9kIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwicGF0aCIsInRvSW50ZWdlciIsImFyZ3VtZW50IiwiaXNOYU4iLCJmbG9vciIsImNlaWwiLCJ0b0xlbmd0aCIsIm1pbiIsImNyZWF0ZU1ldGhvZCIsIklTX0lOQ0xVREVTIiwiJHRoaXMiLCJlbCIsImZyb21JbmRleCIsImludGVnZXIiLCJpbmRleCIsIm1heCIsIm1pbiQxIiwib2JqZWN0S2V5c0ludGVybmFsIiwibmFtZXMiLCJpIiwicmVzdWx0IiwiaW5kZXhPZiIsImlzRm9yY2VkIiwiZmVhdHVyZSIsImRldGVjdGlvbiIsImRhdGEiLCJub3JtYWxpemUiLCJQT0xZRklMTCIsIk5BVElWRSIsIl9leHBvcnQiLCJvcHRpb25zIiwic291cmNlIiwidGFyZ2V0UHJvcGVydHkiLCJzb3VyY2VQcm9wZXJ0eSIsIlRBUkdFVCIsInRhcmdldCIsIkdMT0JBTCIsIlNUQVRJQyIsInN0YXQiLCJwcm90b3R5cGUiLCJub1RhcmdldEdldCIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciQxIiwiaXNGb3JjZWRfMSIsImZvcmNlZCIsIm93bktleXMiLCJjb3B5Q29uc3RydWN0b3JQcm9wZXJ0aWVzIiwic2hhbSIsInJlZGVmaW5lIiwiaW50ZXJuYWxTdGF0ZSIsImVuZm9yY2UiLCJnZXR0ZXJGb3IiLCJUWVBFIiwic3RhdGUiLCJ0eXBlIiwiZ2V0SW50ZXJuYWxTdGF0ZSIsImVuZm9yY2VJbnRlcm5hbFN0YXRlIiwiVEVNUExBVEUiLCJ1bnNhZmUiLCJzaW1wbGUiLCJqb2luIiwiaW5jbHVkZXMiLCJlbnVtQnVnS2V5cyIsImhpZGRlbktleXMkMSIsImNvbmNhdCIsIm9iamVjdEdldE93blByb3BlcnR5TmFtZXMiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwib2JqZWN0R2V0T3duUHJvcGVydHlTeW1ib2xzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwicmVwbGFjZW1lbnQiLCJzdHJpbmciLCJyZXBsYWNlIiwidG9Mb3dlckNhc2UiLCJvYmplY3RLZXlzIiwibmF0aXZlQXNzaWduIiwiYXNzaWduIiwib2JqZWN0QXNzaWduIiwiYiIsIkEiLCJCIiwic3ltYm9sIiwiU3ltYm9sIiwiYWxwaGFiZXQiLCJmb3JFYWNoIiwiY2hyIiwiVCIsImFyZ3VtZW50c0xlbmd0aCIsIlMiLCJqIiwiY3JlYXRlTWV0aG9kJDEiLCJJU19FTkQiLCJtYXhMZW5ndGgiLCJmaWxsU3RyaW5nIiwiZmlsbExlbiIsInN0cmluZ0ZpbGxlciIsInN0cmluZ0xlbmd0aCIsImZpbGxTdHIiLCJpbnRNYXhMZW5ndGgiLCJzdHJpbmdSZXBlYXQiLCJjZWlsJDEiLCJyZXBlYXQiLCJjb3VudCIsInN0ciIsIm4iLCJJbmZpbml0eSIsIlJhbmdlRXJyb3IiLCJzdHJpbmdQYWQiLCJzdGFydCIsImVuZCIsImVuZ2luZVVzZXJBZ2VudCIsInN0cmluZ1BhZFdlYmtpdEJ1ZyIsIiRwYWRFbmQiLCJwcm90byIsInBhZEVuZCIsIiRwYWRTdGFydCIsIl90eXBlb2YiLCJvYmoiLCJpdGVyYXRvciIsImNvbnN0cnVjdG9yIiwiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIl9kZWZpbmVQcm9wZXJ0aWVzIiwicHJvcHMiLCJfY3JlYXRlQ2xhc3MiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJfaW5oZXJpdHMiLCJzdWJDbGFzcyIsInN1cGVyQ2xhc3MiLCJjcmVhdGUiLCJfc2V0UHJvdG90eXBlT2YiLCJfZ2V0UHJvdG90eXBlT2YiLCJvIiwic2V0UHJvdG90eXBlT2YiLCJnZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsInAiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMiLCJleGNsdWRlZCIsInNvdXJjZUtleXMiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSIsInNvdXJjZVN5bWJvbEtleXMiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsIlJlZmVyZW5jZUVycm9yIiwiX2Fzc2VydFRoaXNJbml0aWFsaXplZCIsIl9zdXBlclByb3BCYXNlIiwicHJvcGVydHkiLCJfZ2V0IiwicmVjZWl2ZXIiLCJSZWZsZWN0IiwiYmFzZSIsImRlc2MiLCJzZXQkMSIsIl9zZXQiLCJpc1N0cmljdCIsIkVycm9yIiwiX3NsaWNlZFRvQXJyYXkiLCJhcnIiLCJBcnJheSIsImlzQXJyYXkiLCJfYXJyYXlXaXRoSG9sZXMiLCJfYXJyIiwiX24iLCJfZCIsIl9lIiwiX3MiLCJfaSIsIm5leHQiLCJkb25lIiwiZXJyIiwiX2l0ZXJhYmxlVG9BcnJheUxpbWl0IiwiX25vbkl0ZXJhYmxlUmVzdCIsImlzU3RyaW5nIiwicGFkU3RhcnQiLCJESVJFQ1RJT04iLCJlc2NhcGVSZWdFeHAiLCJBY3Rpb25EZXRhaWxzIiwiY3Vyc29yUG9zIiwib2xkVmFsdWUiLCJvbGRTZWxlY3Rpb24iLCJzdGFydENoYW5nZVBvcyIsInN1YnN0ciIsImluc2VydGVkQ291bnQiLCJyZW1vdmVkQ291bnQiLCJzdWJzdHJpbmciLCJDaGFuZ2VEZXRhaWxzIiwiZGV0YWlscyIsImluc2VydGVkIiwicmF3SW5zZXJ0ZWQiLCJza2lwIiwidGFpbFNoaWZ0IiwiQ29udGludW91c1RhaWxEZXRhaWxzIiwiZnJvbSIsInN0b3AiLCJ0YWlsIiwibWFza2VkIiwiYXBwZW5kIiwiYWdncmVnYXRlIiwiX2FwcGVuZFBsYWNlaG9sZGVyIiwicG9zIiwic2hpZnRDaGFyIiwib3B0cyIsIklucHV0TWFzayIsIk1hc2tlZCIsIl92YWx1ZSIsIl91cGRhdGUiLCJERUZBVUxUUyIsImlzSW5pdGlhbGl6ZWQiLCJ3aXRoVmFsdWVSZWZyZXNoIiwiYmluZCIsInJlc2V0IiwiZG9Db21taXQiLCJmcm9tUG9zIiwidG9Qb3MiLCJleHRyYWN0SW5wdXQiLCJhcHBlbmRUbyIsImNoIiwiZmxhZ3MiLCJkb1ByZXBhcmUiLCJjb25zaXN0ZW50VGFpbCIsImJlZm9yZVRhaWxTdGF0ZSIsInRhaWxEZXRhaWxzIiwiYXBwZW5kZWQiLCJjaGVja1RhaWwiLCJjb25zaXN0ZW50U3RhdGUiLCJfYXBwZW5kQ2hhclJhdyIsImRvVmFsaWRhdGUiLCJvdmVyd3JpdGUiLCJzaGlmdEJlZm9yZSIsImFwcGVuZFRhaWwiLCJfYmVmb3JlVGFpbFN0YXRlIiwiY2kiLCJfYXBwZW5kQ2hhciIsIl9yZWZyZXNoaW5nIiwicmF3SW5wdXQiLCJyYXdJbnB1dFZhbHVlIiwicmV0IiwiX2lzb2xhdGVkIiwicHJlcGFyZSIsInZhbGlkYXRlIiwicGFyZW50IiwiY29tbWl0IiwiZm9ybWF0IiwicGFyc2UiLCJkZWxldGVDb3VudCIsInJlbW92ZURpcmVjdGlvbiIsInRhaWxQb3MiLCJleHRyYWN0VGFpbCIsIm5lYXJlc3RJbnB1dFBvcyIsInJlbW92ZSIsInJlc29sdmUiLCJkb1BhcnNlIiwiZG9Gb3JtYXQiLCJyYXciLCJtYXNrZWRDbGFzcyIsIm1hc2siLCJSZWdFeHAiLCJNYXNrZWRSZWdFeHAiLCJNYXNrZWRQYXR0ZXJuIiwiRGF0ZSIsIk1hc2tlZERhdGUiLCJOdW1iZXIiLCJNYXNrZWROdW1iZXIiLCJNYXNrZWREeW5hbWljIiwiTWFza2VkRnVuY3Rpb24iLCJjb25zb2xlIiwid2FybiIsImNyZWF0ZU1hc2siLCJNYXNrZWRDbGFzcyIsInYiLCJERUZBVUxUX0lOUFVUX0RFRklOSVRJT05TIiwiMCIsIioiLCJQYXR0ZXJuSW5wdXREZWZpbml0aW9uIiwiYmxvY2tPcHRzIiwiX2lzRmlsbGVkIiwiaXNPcHRpb25hbCIsImxhenkiLCJwbGFjZWhvbGRlckNoYXIiLCJCb29sZWFuIiwiX3RoaXMkbWFza2VkIiwiYXBwbHkiLCJfdGhpcyRtYXNrZWQyIiwiX3RoaXMkbWFza2VkMyIsImRpcmVjdGlvbiIsIm1heFBvcyIsImJvdW5kUG9zIiwiaXNDb21wbGV0ZSIsIl90aGlzJG1hc2tlZDQiLCJfdGhpcyRwYXJlbnQiLCJ1bm1hc2tlZFZhbHVlIiwiUGF0dGVybkZpeGVkRGVmaW5pdGlvbiIsIl9pc1Jhd0lucHV0IiwiaXNSZXNvbHZlZCIsImNoYXIiLCJpc1VubWFza2luZyIsIkNodW5rc1RhaWxEZXRhaWxzIiwiY2h1bmtzIiwibWFwIiwidGFpbENodW5rIiwiZmlyc3RUYWlsQ2h1bmsiLCJsYXN0Q2h1bmsiLCJleHRlbmRMYXN0IiwiZXh0ZW5kIiwic2hpZnQiLCJibG9ja0luZGV4IiwicmVtYWluQ2hhcnMiLCJjaHVuayIsImxhc3RCbG9ja0l0ZXIiLCJfbWFwUG9zVG9CbG9jayIsImNodW5rQmxvY2siLCJfc3RvcHMiLCJfYmxvY2tzIiwiY2h1bmtTaGlmdFBvcyIsInNwbGljZSIsImMiLCJjc3RhdGUiLCJzZWFyY2giLCJkZWZpbml0aW9ucyIsIl9yZWJ1aWxkTWFzayIsIl90aGlzIiwiZGVmcyIsIl9tYXNrZWRCbG9ja3MiLCJwYXR0ZXJuIiwidW5tYXNraW5nQmxvY2siLCJvcHRpb25hbEJsb2NrIiwiYmxvY2tzIiwiYk5hbWVzIiwiZmlsdGVyIiwiYk5hbWUiLCJzb3J0IiwibWFza2VkQmxvY2siLCJfaXNJbnB1dCIsIlNUT1BfQ0hBUiIsIkVTQ0FQRV9DSEFSIiwiZGVmIiwiYmxvY2tJdGVyIiwiYmkiLCJfYmxvY2siLCJibG9ja0RldGFpbHMiLCJfdGhpczIiLCJjaHVua1RhaWwiLCJfZm9yRWFjaEJsb2Nrc0luUmFuZ2UiLCJiRnJvbVBvcyIsImJUb1BvcyIsImJsb2NrQ2h1bmsiLCJfZmluZFN0b3BCZWZvcmUiLCJfYmxvY2tTdGFydFBvcyIsIl8iLCJzdG9wQmVmb3JlIiwic2kiLCJ0b0Jsb2NrSW5kZXgiLCJfdGhpczMiLCJzdGFydEJsb2NrSXRlciIsInN0YXJ0QmxvY2tJbmRleCIsImVuZEJsb2NrSW5kZXgiLCJhcmdzIiwiYkRldGFpbHMiLCJhY2NWYWwiLCJfYmxvY2syIiwiYmxvY2tTdGFydFBvcyIsIm9mZnNldCIsInJlZHVjZSIsImZyb21CbG9ja0l0ZXIiLCJ0b0Jsb2NrSXRlciIsImlzU2FtZUJsb2NrIiwiZnJvbUJsb2NrU3RhcnRQb3MiLCJmcm9tQmxvY2tFbmRQb3MiLCJyZW1vdmVEZXRhaWxzIiwiYmVnaW5CbG9ja0RhdGEiLCJiZWdpbkJsb2NrT2Zmc2V0IiwiYmVnaW5CbG9ja0luZGV4IiwiYmVnaW5CbG9jayIsImJlZ2luQmxvY2tDdXJzb3JQb3MiLCJmb3JjZURpcmVjdGlvbiIsImN1cnNvckF0UmlnaHQiLCJzZWFyY2hCbG9ja0luZGV4IiwiYmxvY2tJbmRleEF0TGVmdCIsImJsb2NrQXRMZWZ0IiwiYmxvY2tJbnB1dFBvcyIsImJsb2NrQXRSaWdodCIsIl9ibG9ja0lucHV0UG9zIiwiX2JpIiwiX2Jsb2NrMyIsIl9ibG9ja0lucHV0UG9zMiIsImZpcnN0RmlsbGVkQmxvY2tJbmRleEF0UmlnaHQiLCJfYmkyIiwiZmlsbGVkQmxvY2siLCJfYmxvY2tJbnB1dFBvczMiLCJmaXJzdEVtcHR5SW5wdXRCbG9ja0luZGV4IiwiZmlyc3RGaWxsZWRJbnB1dEJsb2NrSW5kZXgiLCJfYmkzIiwiX2Jsb2NrNCIsIl9ibG9ja0lucHV0UG9zNCIsIl9iaTQiLCJfYmxvY2s1IiwiX2Jsb2NrSW5wdXRQb3M1IiwiYmxvY2tBbGlnbmVkUG9zIiwiYmxvY2siLCJpc0lucHV0IiwiX2JpNSIsIl9ibG9jazYiLCJfYmxvY2tJbnB1dFBvczYiLCJmaXJzdElucHV0QmxvY2tBbGlnbmVkSW5kZXgiLCJmaXJzdElucHV0QmxvY2tBbGlnbmVkUG9zIiwiX2JpNiIsIl9ibG9jazciLCJfYmxvY2tJbnB1dFBvczciLCJfYmk3IiwiX2Jsb2NrOCIsIl9ibG9ja0lucHV0UG9zOCIsIl9iaTgiLCJfYmxvY2s5IiwiX2Jsb2NrSW5wdXRQb3M5IiwiYWxpZ25lZFBvcyIsIm5hbWUiLCJtYXNrZWRCbG9ja3MiLCJfdGhpczQiLCJpbmRpY2VzIiwiZ2kiLCJtYXNrZWRTdGF0ZSIsImV2ZXJ5IiwiSW5wdXREZWZpbml0aW9uIiwiRml4ZWREZWZpbml0aW9uIiwiTWFza2VkUmFuZ2UiLCJ0byIsImZyb21TdHIiLCJ0b1N0ciIsInNhbWVDaGFyc0NvdW50IiwibWluc3RyIiwibWF4c3RyIiwiX3JlZjIiLCJtYXRjaCIsInBsYWNlaG9sZGVyIiwibnVtIiwiYXV0b2ZpeCIsInByZXBTdHIiLCJuZXh0VmFsIiwiX3RoaXMkYm91bmRhcmllczIiLCJib3VuZGFyaWVzIiwiX2dldDIiLCJfbWF0Y2hGcm9tIiwiX3RoaXMkYm91bmRhcmllczQiLCJfbGVuIiwiX2tleSIsIkdFVF9ERUZBVUxUX0JMT0NLUyIsIlkiLCJnZXRGdWxsWWVhciIsIm0iLCJnZXRNb250aCIsImQiLCJnZXREYXRlIiwiYmsiLCJkYXRlIiwiaXNEYXRlRXhpc3QiLCJ0eXBlZFZhbHVlIiwiX3N0ciRzcGxpdDIiLCJkYXkiLCJtb250aCIsInllYXIiLCJNYXNrRWxlbWVudCIsInNlbGVjdGlvblN0YXJ0Iiwic2VsZWN0aW9uRW5kIiwiX3Vuc2FmZVNlbGVjdCIsImUiLCJfdW5zYWZlU2VsZWN0aW9uU3RhcnQiLCJfdW5zYWZlU2VsZWN0aW9uRW5kIiwiSFRNTE1hc2tFbGVtZW50IiwiX2hhbmRsZXJzIiwic2V0U2VsZWN0aW9uUmFuZ2UiLCJoYW5kbGVycyIsImV2ZW50IiwiX3RvZ2dsZUV2ZW50SGFuZGxlciIsIkVWRU5UU19NQVAiLCJoYW5kbGVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImFkZEV2ZW50TGlzdGVuZXIiLCJnZXRSb290Tm9kZSIsInJvb3RFbGVtZW50IiwiYWN0aXZlRWxlbWVudCIsInNlbGVjdGlvbkNoYW5nZSIsImRyb3AiLCJjbGljayIsImZvY3VzIiwiSFRNTENvbnRlbnRlZGl0YWJsZU1hc2tFbGVtZW50IiwicmFuZ2UiLCJyb290Iiwic2VsZWN0aW9uIiwiY3JlYXRlUmFuZ2UiLCJzZXRTdGFydCIsImZpcnN0Q2hpbGQiLCJzZXRFbmQiLCJsYXN0Q2hpbGQiLCJnZXRTZWxlY3Rpb24iLCJyZW1vdmVBbGxSYW5nZXMiLCJhZGRSYW5nZSIsImFuY2hvck9mZnNldCIsInRleHRDb250ZW50IiwiaXNDb250ZW50RWRpdGFibGUiLCJ0YWdOYW1lIiwiX2xpc3RlbmVycyIsIl91bm1hc2tlZFZhbHVlIiwiX3NhdmVTZWxlY3Rpb24iLCJfb25JbnB1dCIsIl9vbkNoYW5nZSIsIl9vbkRyb3AiLCJfb25Gb2N1cyIsIl9vbkNsaWNrIiwiYWxpZ25DdXJzb3IiLCJhbGlnbkN1cnNvckZyaWVuZGx5IiwiX2JpbmRFdmVudHMiLCJ1cGRhdGVWYWx1ZSIsImJpbmRFdmVudHMiLCJ1bmJpbmRFdmVudHMiLCJldiIsImxpc3RlbmVycyIsImwiLCJfc2VsZWN0aW9uIiwibmV3VW5tYXNrZWRWYWx1ZSIsIm5ld1ZhbHVlIiwiaXNDaGFuZ2VkIiwiX2ZpcmVDaGFuZ2VFdmVudHMiLCJyZXN0T3B0cyIsInVwZGF0ZU1hc2siLCJtYXNrRXF1YWxzIiwidXBkYXRlT3B0cyIsIm9iamVjdEluY2x1ZGVzIiwiYXJyQSIsImFyckIiLCJkYXRlQSIsImRhdGVCIiwiZ2V0VGltZSIsInJlZ2V4cEEiLCJyZWdleHBCIiwidXBkYXRlT3B0aW9ucyIsInVwZGF0ZUNvbnRyb2wiLCJfZGVsYXlVcGRhdGVDdXJzb3IiLCJfYWJvcnRVcGRhdGVDdXJzb3IiLCJfY2hhbmdpbmdDdXJzb3JQb3MiLCJfY3Vyc29yQ2hhbmdpbmciLCJzZXRUaW1lb3V0IiwiX2ZpcmVFdmVudCIsIl9pbnB1dEV2ZW50IiwiY2xlYXJUaW1lb3V0IiwiaEluZGV4Iiwib2xkUmF3VmFsdWUiLCJyZW1vdmVkIiwidXBkYXRlQ3Vyc29yIiwicHJldmVudERlZmF1bHQiLCJzdG9wUHJvcGFnYXRpb24iLCJfdW5iaW5kRXZlbnRzIiwiaXNBY3RpdmUiLCJzZWxlY3QiLCJNYXNrZWRFbnVtIiwiZW51bSIsInNvbWUiLCJfdXBkYXRlUmVnRXhwcyIsImFsbG93TmVnYXRpdmUiLCJzY2FsZSIsInJhZGl4IiwiX251bWJlclJlZ0V4cElucHV0IiwiX251bWJlclJlZ0V4cCIsIl9tYXBUb1JhZGl4UmVnRXhwIiwibWFwVG9SYWRpeCIsIl90aG91c2FuZHNTZXBhcmF0b3JSZWdFeHAiLCJ0aG91c2FuZHNTZXBhcmF0b3IiLCJwYXJ0cyIsIl9yZW1vdmVUaG91c2FuZHNTZXBhcmF0b3JzIiwiZXh0ZW5kT25TZXBhcmF0b3JzIiwiX3NlcGFyYXRvcnNDb3VudCIsIl90aGlzJF9hZGp1c3RSYW5nZVdpdDIiLCJfYWRqdXN0UmFuZ2VXaXRoU2VwYXJhdG9ycyIsInByZXZCZWZvcmVUYWlsVmFsdWUiLCJwcmV2QmVmb3JlVGFpbFNlcGFyYXRvcnNDb3VudCIsIl9zZXBhcmF0b3JzQ291bnRGcm9tU2xpY2UiLCJhcHBlbmREZXRhaWxzIiwiX2luc2VydFRob3VzYW5kc1NlcGFyYXRvcnMiLCJiZWZvcmVUYWlsVmFsdWUiLCJiZWZvcmVUYWlsU2VwYXJhdG9yc0NvdW50Iiwic2VhcmNoRnJvbSIsInNlcGFyYXRvclBvcyIsInNlcGFyYXRvckFyb3VuZEZyb21Qb3MiLCJfZmluZFNlcGFyYXRvckFyb3VuZCIsInNlcGFyYXRvckFyb3VuZFRvUG9zIiwiX3RoaXMkX2FkanVzdFJhbmdlV2l0NCIsInZhbHVlQmVmb3JlUG9zIiwidmFsdWVBZnRlclBvcyIsInNlcGFyYXRvckF0TGVmdFBvcyIsInNlcGFyYXRvckF0TGVmdEVuZFBvcyIsInNlcGFyYXRvckF0UmlnaHRQb3MiLCJudW1iZXIiLCJ2YWxpZCIsInZhbGlkbnVtIiwiZm9ybWF0dGVkIiwibm9ybWFsaXplWmVyb3MiLCJfbm9ybWFsaXplWmVyb3MiLCJwYWRGcmFjdGlvbmFsWmVyb3MiLCJfcGFkRnJhY3Rpb25hbFplcm9zIiwic2lnbiIsInplcm9zIiwic2lnbmVkIiwiY3VycmVudE1hc2siLCJjb21waWxlZE1hc2tzIiwiX3RoaXMkY3VycmVudE1hc2siLCJfYXBwbHlEaXNwYXRjaCIsInByZXZWYWx1ZUJlZm9yZVRhaWwiLCJpbnB1dFZhbHVlIiwiaW5zZXJ0VmFsdWUiLCJfcmF3SW5wdXRWYWx1ZSIsInRhaWxWYWx1ZSIsInByZXZNYXNrIiwicHJldk1hc2tTdGF0ZSIsImRvRGlzcGF0Y2giLCJkaXNwYXRjaCIsIl90aGlzJGN1cnJlbnRNYXNrMiIsIl90aGlzJGN1cnJlbnRNYXNrMyIsIl90aGlzJGN1cnJlbnRNYXNrNCIsIl90aGlzJGN1cnJlbnRNYXNrNSIsIl9nZXQzIiwiX2xlbjIiLCJfa2V5MiIsIl90aGlzJGN1cnJlbnRNYXNrNiIsIl9nZXQ0IiwiX2xlbjMiLCJfa2V5MyIsImN1cnJlbnRNYXNrUmVmIiwibWkiLCJpbnB1dHMiLCJ3ZWlnaHQiLCJpMSIsImkyIiwiUElQRV9UWVBFIiwiTUFTS0VEIiwiVU5NQVNLRUQiLCJUWVBFRCIsImNyZWF0ZVBpcGUiLCJydW5Jc29sYXRlZCIsInBpcGUiLCJwaXBlQXJncyIsImRlZmF1bHQiXSwibWFwcGluZ3MiOiJDQUFBLFNBQUFBLEVBQUFDLEdBQ0EsaUJBQUFDLFNBQUEsb0JBQUFDLE9BQUFGLEVBQUFDLFNBQ0EsbUJBQUFFLFFBQUFBLE9BQUFDLElBQUFELE9BQUEsQ0FBQSxXQUFBSCxHQUNBQSxHQUFBRCxFQUFBQSxHQUFBTSxNQUFBQyxNQUFBLElBSEEsQ0FJQUMsS0FBQSxTQUFBTixnQkFFQSxJQUFBTyxFQUFBLG9CQUFBQyxXQUFBQSxXQUFBLG9CQUFBQyxPQUFBQSxPQUFBLG9CQUFBWCxPQUFBQSxPQUFBLG9CQUFBTSxLQUFBQSxLQUFBLEdBRUEsU0FBQU0sRUFBQUMsRUFBQVYsR0FDQSxPQUFBVSxFQUFBVixFQUFBLENBQUFELFFBQUEsSUFBQUMsRUFBQUQsU0FBQUMsRUFBQUQsUUFHQSxTQUFBWSxFQUFBQyxHQUNBLE9BQUFBLEdBQUFBLEVBQUFDLE1BQUFBLE1BQUFELEVBUUEsU0FBQUUsRUFBQUMsR0FDQSxJQUNBLFFBQUFBLElBQ0EsTUFBQUMsR0FDQSxPQUFBLEdBZ0NBLFNBQUFDLEVBQUFDLEVBQUFDLEdBQ0EsTUFBQSxDQUNBQyxhQUFBLEVBQUFGLEdBQ0FHLGVBQUEsRUFBQUgsR0FDQUksV0FBQSxFQUFBSixHQUNBQyxNQUFBQSxHQXNCQSxTQUFBSSxFQUFBWCxHQUNBLEdBQUFZLE1BQUFaLEVBQUEsTUFBQWEsVUFBQSx3QkFBQWIsR0FDQSxPQUFBQSxFQVFBLFNBQUFjLEVBQUFkLEdBQ0EsT0FBQWUsRUFBQUosRUFBQVgsSUFHQSxTQUFBZ0IsRUFBQWhCLEdBQ0EsTUFBQSxpQkFBQUEsRUFBQSxPQUFBQSxFQUFBLG1CQUFBQSxFQVNBLFNBQUFpQixFQUFBQyxFQUFBQyxHQUNBLElBQUFILEVBQUFFLEdBQUEsT0FBQUEsRUFDQSxJQUFBcEIsRUFBQXNCLEVBQ0EsR0FBQUQsR0FBQSxtQkFBQXJCLEVBQUFvQixFQUFBRyxZQUFBTCxFQUFBSSxFQUFBdEIsRUFBQXdCLEtBQUFKLElBQUEsT0FBQUUsRUFDQSxHQUFBLG1CQUFBdEIsRUFBQW9CLEVBQUFLLFdBQUFQLEVBQUFJLEVBQUF0QixFQUFBd0IsS0FBQUosSUFBQSxPQUFBRSxFQUNBLElBQUFELEdBQUEsbUJBQUFyQixFQUFBb0IsRUFBQUcsWUFBQUwsRUFBQUksRUFBQXRCLEVBQUF3QixLQUFBSixJQUFBLE9BQUFFLEVBQ0EsTUFBQVAsVUFBQSwyQ0FLQSxTQUFBVyxFQUFBeEIsRUFBQXlCLEdBQ0EsT0FBQUMsRUFBQUosS0FBQXRCLEVBQUF5QixHQXdDQSxTQUFBRSxFQUFBM0IsR0FDQSxJQUFBZ0IsRUFBQWhCLEdBQ0EsTUFBQWEsVUFBQWUsT0FBQTVCLEdBQUEscUJBR0EsT0FBQUEsRUErQkEsU0FBQTZCLEVBQUFKLEVBQUFsQixHQUNBLElBQ0F1QixFQUFBQyxFQUFBTixFQUFBbEIsR0FDQSxNQUFBSCxHQUNBMkIsRUFBQU4sR0FBQWxCLEVBR0EsT0FBQUEsRUEvTEEsSUFLQXdCLEVBQ0FoQyxFQUFBLGlCQUFBSixZQUFBQSxhQUFBSSxFQUFBLGlCQUFBSCxRQUFBQSxTQUFBRyxFQUFBLGlCQUFBUixNQUFBQSxPQUFBUSxFQUFBLGlCQUFBTCxHQUFBQSxJQUNBc0MsU0FBQSxjQUFBQSxHQWFBQyxHQUFBL0IsRUFBQSxXQUNBLE9BSUEsR0FKQWdDLE9BQUFDLGVBQUEsR0FBQSxFQUFBLENBQ0FDLElBQUEsV0FDQSxPQUFBLEtBRUEsS0FHQUMsRUFBQSxHQUFBQyxxQkFDQUMsRUFBQUwsT0FBQUsseUJBWUFDLEVBQUEsQ0FDQUMsRUFYQUYsSUFBQUYsRUFBQWYsS0FBQSxDQUNBb0IsRUFBQSxHQUNBLEdBR0EsU0FBQUMsR0FDQSxJQUFBQyxFQUFBTCxFQUFBOUMsS0FBQWtELEdBQ0EsUUFBQUMsR0FBQUEsRUFBQXBDLFlBQ0E2QixHQWVBaEIsRUFBQSxHQUFBQSxTQU1Bd0IsRUFBQSxHQUFBQSxNQUVBOUIsRUFBQWIsRUFBQSxXQUdBLE9BQUFnQyxPQUFBLEtBQUFJLHFCQUFBLEtBQ0EsU0FBQXRDLEdBQ0EsTUFBQSxXQVhBQSxFQVdBQSxFQVZBcUIsRUFBQUMsS0FBQXRCLEdBQUE4QyxNQUFBLEdBQUEsSUFVQUQsRUFBQXZCLEtBQUF0QixFQUFBLElBQUFrQyxPQUFBbEMsR0FYQSxJQUFBQSxHQVlBa0MsT0FxQ0FSLEVBQUEsR0FBQUEsZUFNQXFCLEVBQUFoQixFQUFBaUIsU0FFQUMsRUFBQWpDLEVBQUErQixJQUFBL0IsRUFBQStCLEVBQUFHLGVBU0FDLEdBQUFsQixJQUFBL0IsRUFBQSxXQUNBLE9BSUEsR0FKQWdDLE9BQUFDLGVBUEFjLEVBQUFGLEVBQUFHLGNBT0EsT0FQQSxHQU9BLElBQUEsQ0FDQWQsSUFBQSxXQUNBLE9BQUEsS0FFQWdCLElBR0FDLEVBQUFuQixPQUFBSyx5QkFjQWUsRUFBQSxDQUNBYixFQVpBUixFQUFBb0IsRUFBQSxTQUFBRSxFQUFBQyxHQUdBLEdBRkFELEVBQUF6QyxFQUFBeUMsR0FDQUMsRUFBQXZDLEVBQUF1QyxHQUFBLEdBQ0FMLEVBQUEsSUFDQSxPQUFBRSxFQUFBRSxFQUFBQyxHQUNBLE1BQUFwRCxJQUdBLEdBQUFvQixFQUFBK0IsRUFBQUMsR0FBQSxPQUFBbkQsR0FBQW1DLEVBQUFDLEVBQUFuQixLQUFBaUMsRUFBQUMsR0FBQUQsRUFBQUMsTUFlQUMsRUFBQXZCLE9BQUFDLGVBaUJBdUIsRUFBQSxDQUNBakIsRUFmQVIsRUFBQXdCLEVBQUEsU0FBQUYsRUFBQUMsRUFBQUcsR0FJQSxHQUhBaEMsRUFBQTRCLEdBQ0FDLEVBQUF2QyxFQUFBdUMsR0FBQSxHQUNBN0IsRUFBQWdDLEdBQ0FSLEVBQUEsSUFDQSxPQUFBTSxFQUFBRixFQUFBQyxFQUFBRyxHQUNBLE1BQUF2RCxJQUdBLEdBQUEsUUFBQXVELEdBQUEsUUFBQUEsRUFBQSxNQUFBOUMsVUFBQSwyQkFFQSxNQURBLFVBQUE4QyxJQUFBSixFQUFBQyxHQUFBRyxFQUFBcEQsT0FDQWdELElBT0F6QixFQUFBRyxFQUFBLFNBQUEyQixFQUFBbkMsRUFBQWxCLEdBQ0EsT0FBQW1ELEVBQUFqQixFQUFBbUIsRUFBQW5DLEVBQUFwQixFQUFBLEVBQUFFLEtBQ0EsU0FBQXFELEVBQUFuQyxFQUFBbEIsR0FFQSxPQURBcUQsRUFBQW5DLEdBQUFsQixFQUNBcUQsR0FhQUMsRUFBQSxxQkFFQUMsRUFEQS9CLEVBQUE4QixJQUFBaEMsRUFBQWdDLEVBQUEsSUFHQUUsRUFBQS9CLFNBQUFYLFNBRUEsbUJBQUF5QyxFQUFBRSxnQkFDQUYsRUFBQUUsY0FBQSxTQUFBaEUsR0FDQSxPQUFBK0QsRUFBQXpDLEtBQUF0QixLQUlBLElBa0RBaUUsRUFDQUMsRUFDQUMsRUFDQUMsRUFFQUMsRUFLQWpDLEVBSUFrQyxFQUlBQyxFQTVDQTlDLEVBTkFBLEVBbEJBdUMsRUFBQUYsRUFBQUUsY0FFQVEsRUFBQXpDLEVBQUF5QyxRQUNBQyxFQUFBLG1CQUFBRCxHQUFBLGNBQUFFLEtBQUFWLEVBQUFRLElBRUFHLEVBQUE5RSxFQUFBLFNBQUFULElBQ0FBLEVBQUFELFFBQUEsU0FBQXNDLEVBQUFsQixHQUNBLE9BQUF1RCxFQUFBckMsS0FBQXFDLEVBQUFyQyxRQUFBYixJQUFBTCxFQUFBQSxFQUFBLE1BQ0EsV0FBQSxJQUFBcUUsS0FBQSxDQUNBQyxRQUFBLFFBQ0FDLEtBQUEsU0FDQUMsVUFBQSwyQ0FJQUMsRUFBQSxFQUNBQyxFQUFBaEYsS0FBQWlGLFNBTUFDLEVBQUFSLEVBQUEsUUFNQVMsRUFBQSxHQUVBQyxFQUFBdEQsRUFBQXlDLFFBa0NBRixFQWZBRyxHQUNBUixFQUFBLElBQUFvQixFQUNBbkIsRUFBQUQsRUFBQTdCLElBQ0ErQixFQUFBRixFQUFBekMsSUFDQTRDLEVBQUFILEVBQUFJLElBRUFBLEVBQUEsU0FBQXJFLEVBQUFzRixHQUVBLE9BREFsQixFQUFBOUMsS0FBQTJDLEVBQUFqRSxFQUFBc0YsR0FDQUEsR0FHQWxELEVBQUEsU0FBQXBDLEdBQ0EsT0FBQWtFLEVBQUE1QyxLQUFBMkMsRUFBQWpFLElBQUEsSUFHQSxTQUFBQSxHQUNBLE9BQUFtRSxFQUFBN0MsS0FBQTJDLEVBQUFqRSxNQUdBdUUsRUEzQ0FZLEVBREExRCxFQTRDQSxXQTNDQTBELEVBQUExRCxJQVBBQSxFQU9BQSxFQU5BLFVBQUFHLFlBQUFoQixJQUFBYSxFQUFBLEdBQUFBLEdBQUEsUUFBQXVELEVBQUFDLEdBQUE1RCxTQUFBLE1Ba0RBK0QsRUFBQWIsSUFBQSxFQUVBRixFQUFBLFNBQUFyRSxFQUFBc0YsR0FFQSxPQURBeEQsRUFBQTlCLEVBQUF1RSxFQUFBZSxHQUNBQSxHQUdBbEQsRUFBQSxTQUFBcEMsR0FDQSxPQUFBd0IsRUFBQXhCLEVBQUF1RSxHQUFBdkUsRUFBQXVFLEdBQUEsSUFHQSxTQUFBdkUsR0FDQSxPQUFBd0IsRUFBQXhCLEVBQUF1RSxLQTJDQSxTQUFBZ0IsRUFBQUMsR0FDQSxNQUFBLG1CQUFBQSxFQUFBQSxPQUFBNUUsRUFHQSxTQUFBNkUsRUFBQUMsRUFBQUMsR0FDQSxPQUFBQyxVQUFBQyxPQUFBLEVBQUFOLEVBQUFPLEdBQUFKLEtBQUFILEVBQUF4RCxFQUFBMkQsSUFBQUksR0FBQUosSUFBQUksR0FBQUosR0FBQUMsSUFBQTVELEVBQUEyRCxJQUFBM0QsRUFBQTJELEdBQUFDLEdBT0EsU0FBQUksR0FBQUMsR0FDQSxPQUFBQyxNQUFBRCxHQUFBQSxHQUFBLEdBQUEsRUFBQUEsRUFBQUUsR0FBQUMsSUFBQUgsR0FNQSxTQUFBSSxHQUFBSixHQUNBLE9BQUEsRUFBQUEsRUFBQUssR0FBQU4sR0FBQUMsR0FBQSxrQkFBQSxFQWdCQSxTQUFBTSxHQUFBQyxHQUNBLE9BQUEsU0FBQUMsRUFBQUMsRUFBQUMsR0FDQSxJQVZBYixFQUNBYyxFQVlBcEcsRUFIQWdELEVBQUF6QyxFQUFBMEYsR0FDQVgsRUFBQU8sR0FBQTdDLEVBQUFzQyxRQUNBZSxHQVpBZixFQVlBQSxHQVhBYyxFQUFBWixHQVdBVyxJQVZBLEVBQUFHLEdBQUFGLEVBQUFkLEVBQUEsR0FBQWlCLEdBQUFILEVBQUFkLElBY0EsR0FBQVUsR0FBQUUsR0FBQUEsR0FBQSxLQUFBRyxFQUFBZixHQUdBLElBRkF0RixFQUFBZ0QsRUFBQXFELE9BRUFyRyxFQUFBLE9BQUEsT0FDQSxLQUFBcUcsRUFBQWYsRUFBQWUsSUFDQSxJQUFBTCxHQUFBSyxLQUFBckQsSUFBQUEsRUFBQXFELEtBQUFILEVBQUEsT0FBQUYsR0FBQUssR0FBQSxFQUVBLE9BQUFMLElBQUEsR0FpQkEsU0FBQVEsR0FBQW5ELEVBQUFvRCxHQUNBLElBR0F2RixFQUhBOEIsRUFBQXpDLEVBQUE4QyxHQUNBcUQsRUFBQSxFQUNBQyxFQUFBLEdBR0EsSUFBQXpGLEtBQUE4QixHQUFBL0IsRUFBQTRELEVBQUEzRCxJQUFBRCxFQUFBK0IsRUFBQTlCLElBQUF5RixFQUFBdEMsS0FBQW5ELEdBR0EsS0FBQXVGLEVBQUFuQixPQUFBb0IsR0FBQXpGLEVBQUErQixFQUFBOUIsRUFBQXVGLEVBQUFDLFNBQ0FFLEdBQUFELEVBQUF6RixJQUFBeUYsRUFBQXRDLEtBQUFuRCxJQUdBLE9BQUF5RixFQTZDQSxTQUFBRSxHQUFBQyxFQUFBQyxHQUNBLElBQUEvRyxFQUFBZ0gsR0FBQUMsR0FBQUgsSUFDQSxPQUFBOUcsR0FBQWtILElBQUFsSCxHQUFBbUgsS0FBQSxtQkFBQUosRUFBQXBILEVBQUFvSCxLQUFBQSxHQXVDQSxTQUFBSyxHQUFBQyxFQUFBQyxHQUNBLElBR0FwRyxFQUFBcUcsRUFBQUMsRUFBQW5GLEVBSEFvRixFQUFBSixFQUFBSyxPQUNBQyxFQUFBTixFQUFBM0ksT0FDQWtKLEVBQUFQLEVBQUFRLEtBSUFILEVBREFDLEVBQ0FuRyxFQUNBb0csRUFDQXBHLEVBQUFpRyxJQUFBbkcsRUFBQW1HLEVBQUEsS0FFQWpHLEVBQUFpRyxJQUFBLElBQUFLLFVBR0EsR0FBQUosRUFBQSxJQUFBeEcsS0FBQW9HLEVBQUEsQ0FVQSxHQVRBRSxFQUFBRixFQUFBcEcsR0FJQXFHLEVBRkFGLEVBQUFVLGFBQ0ExRixFQUFBMkYsR0FBQU4sRUFBQXhHLEtBQ0FtQixFQUFBckMsTUFDQTBILEVBQUF4RyxJQUVBK0csR0FBQU4sRUFBQXpHLEVBQUF1RyxHQUFBRyxFQUFBLElBQUEsS0FBQTFHLEVBQUFtRyxFQUFBYSxjQUVBN0gsSUFBQWtILEVBQUEsQ0FDQSxVQUFBQyxVQUFBRCxFQUFBLFVBL0VBLFNBQUFHLEVBQUFKLEdBS0EsSUFKQSxJQUFBMUMsRUFBQXVELEdBQUFiLEdBQ0ExRixFQUFBdUIsRUFBQWpCLEVBQ0FGLEVBQUFlLEVBQUFiLEVBRUF3RSxFQUFBLEVBQUFBLEVBQUE5QixFQUFBVSxPQUFBb0IsSUFBQSxDQUNBLElBQUF4RixFQUFBMEQsRUFBQThCLEdBQ0F6RixFQUFBeUcsRUFBQXhHLElBQUFVLEVBQUE4RixFQUFBeEcsRUFBQWMsRUFBQXNGLEVBQUFwRyxLQXlFQWtILENBQUFaLEVBQUFELElBSUFGLEVBQUFnQixNQUFBZCxHQUFBQSxFQUFBYyxPQUNBOUcsRUFBQWlHLEVBQUEsUUFBQSxHQUlBYyxHQUFBWixFQUFBeEcsRUFBQXNHLEVBQUFILElBalBBLElBQUFrQixHQUFBLENBQ0F6RSxJQUFBQSxFQUNBakMsSUFBQUEsRUFDQVosSUFBQThDLEVBQ0F5RSxRQXhEQSxTQUFBL0ksR0FDQSxPQUFBc0UsRUFBQXRFLEdBQUFvQyxFQUFBcEMsR0FBQXFFLEVBQUFyRSxFQUFBLEtBd0RBZ0osVUFyREEsU0FBQUMsR0FDQSxPQUFBLFNBQUFqSixHQUNBLElBQUFrSixFQUVBLElBQUFsSSxFQUFBaEIsS0FBQWtKLEVBQUE5RyxFQUFBcEMsSUFBQW1KLE9BQUFGLEVBQ0EsTUFBQXBJLFVBQUEsMEJBQUFvSSxFQUFBLGFBR0EsT0FBQUMsS0FnREFMLEdBQUFoSixFQUFBLFNBQUFULEdBQ0EsSUFBQWdLLEVBQUFOLEdBQUExRyxJQUNBaUgsRUFBQVAsR0FBQUMsUUFDQU8sRUFBQTFILE9BQUFBLFFBQUFpQixNQUFBLFdBQ0F6RCxFQUFBRCxRQUFBLFNBQUFvRSxFQUFBOUIsRUFBQWxCLEVBQUFxSCxHQUNBLElBQUEyQixJQUFBM0IsS0FBQUEsRUFBQTJCLE9BQ0FDLElBQUE1QixLQUFBQSxFQUFBcEgsV0FDQThILElBQUFWLEtBQUFBLEVBQUFVLFlBRUEsbUJBQUEvSCxJQUNBLGlCQUFBa0IsR0FBQUQsRUFBQWpCLEVBQUEsU0FBQXVCLEVBQUF2QixFQUFBLE9BQUFrQixHQUNBNEgsRUFBQTlJLEdBQUFzSCxPQUFBeUIsRUFBQUcsS0FBQSxpQkFBQWhJLEVBQUFBLEVBQUEsS0FHQThCLElBQUF4QixHQUdBd0gsR0FFQWpCLEdBQUEvRSxFQUFBOUIsS0FDQStILEdBQUEsVUFGQWpHLEVBQUE5QixHQUtBK0gsRUFBQWpHLEVBQUE5QixHQUFBbEIsRUFBQXVCLEVBQUF5QixFQUFBOUIsRUFBQWxCLElBUkFpSixFQUFBakcsRUFBQTlCLEdBQUFsQixFQUFBc0IsRUFBQUosRUFBQWxCLEtBU0F5QixTQUFBcUcsVUFBQSxXQUFBLFdBQ0EsTUFBQSxtQkFBQTVJLE1BQUEySixFQUFBM0osTUFBQW9JLFFBQUE3RCxFQUFBdkUsVUFJQXFHLEdBQUEvRCxFQVVBb0UsR0FBQWxHLEtBQUFrRyxLQUNBRCxHQUFBakcsS0FBQWlHLE1BT0FHLEdBQUFwRyxLQUFBb0csSUFPQVEsR0FBQTVHLEtBQUE0RyxJQUNBQyxHQUFBN0csS0FBQW9HLElBd0NBYyxHQVRBLENBR0F1QyxTQUFBcEQsSUFBQSxHQUdBYSxRQUFBYixJQUFBLElBR0FhLFFBcUJBd0MsR0FBQSxDQUFBLGNBQUEsaUJBQUEsZ0JBQUEsdUJBQUEsaUJBQUEsV0FBQSxXQUVBQyxHQUFBRCxHQUFBRSxPQUFBLFNBQUEsYUFPQUMsR0FBQSxDQUNBckgsRUFMQVAsT0FBQTZILHFCQUFBLFNBQUF4RyxHQUNBLE9BQUF3RCxHQUFBeEQsRUFBQXFHLE1BU0FJLEdBQUEsQ0FDQXZILEVBSEFQLE9BQUErSCx1QkFTQXZCLEdBQUFqRCxFQUFBLFVBQUEsWUFBQSxTQUFBekYsR0FDQSxJQUFBbUYsRUFBQTJFLEdBQUFySCxFQUFBZCxFQUFBM0IsSUFDQWlLLEVBQUFELEdBQUF2SCxFQUNBLE9BQUF3SCxFQUFBOUUsRUFBQTBFLE9BQUFJLEVBQUFqSyxJQUFBbUYsR0FjQStFLEdBQUEsa0JBT0ExQyxHQUFBSixHQUFBSSxVQUFBLFNBQUEyQyxHQUNBLE9BQUF2SSxPQUFBdUksR0FBQUMsUUFBQUYsR0FBQSxLQUFBRyxlQUdBOUMsR0FBQUgsR0FBQUcsS0FBQSxHQUNBRyxHQUFBTixHQUFBTSxPQUFBLElBQ0FELEdBQUFMLEdBQUFLLFNBQUEsSUFDQWUsR0FBQXBCLEdBRUFtQixHQUFBakYsRUFBQWIsRUFzRUE2SCxHQUFBcEksT0FBQWlELE1BQUEsU0FBQTVCLEdBQ0EsT0FBQXdELEdBQUF4RCxFQUFBb0csS0FXQVksR0FBQXJJLE9BQUFzSSxPQUNBckksR0FBQUQsT0FBQUMsZUFHQXNJLElBQUFGLElBQUFySyxFQUFBLFdBRUEsR0FBQStCLEdBWUEsSUFaQXNJLEdBQUEsQ0FDQUcsRUFBQSxHQUNBSCxHQUFBcEksR0FBQSxHQUFBLElBQUEsQ0FDQTNCLFlBQUEsRUFDQTRCLElBQUEsV0FDQUQsR0FBQTFDLEtBQUEsSUFBQSxDQUNBYyxNQUFBLEVBQ0FDLFlBQUEsT0FHQSxDQUNBa0ssRUFBQSxLQUNBQSxFQUFBLE9BQUEsRUFFQSxJQUFBQyxFQUFBLEdBQ0FDLEVBQUEsR0FFQUMsRUFBQUMsU0FDQUMsRUFBQSx1QkFLQSxPQUpBSixFQUFBRSxHQUFBLEVBQ0FFLEVBQUFsSSxNQUFBLElBQUFtSSxRQUFBLFNBQUFDLEdBQ0FMLEVBQUFLLEdBQUFBLElBRUEsR0FBQVYsR0FBQSxHQUFBSSxHQUFBRSxJQUFBUCxHQUFBQyxHQUFBLEdBQUFLLElBQUFuQixLQUFBLEtBQUFzQixJQUNBLFNBQUE5QyxFQUFBSixHQVFBLElBTkEsSUFBQXFELEVBbkNBaEosT0FBQXZCLEVBbUNBc0gsSUFDQWtELEVBQUF2RixVQUFBQyxPQUNBZSxFQUFBLEVBQ0FxRCxFQUFBRCxHQUFBdkgsRUFDQUgsRUFBQUUsRUFBQUMsRUFFQW1FLEVBQUF1RSxHQU9BLElBTkEsSUFJQTFKLEVBSkEySixFQUFBckssRUFBQTZFLFVBQUFnQixNQUNBekIsRUFBQThFLEVBQUFLLEdBQUFjLEdBQUF2QixPQUFBSSxFQUFBbUIsSUFBQWQsR0FBQWMsR0FDQXZGLEVBQUFWLEVBQUFVLE9BQ0F3RixFQUFBLEVBR0FBLEVBQUF4RixHQUNBcEUsRUFBQTBELEVBQUFrRyxLQUNBcEosSUFBQUssRUFBQWhCLEtBQUE4SixFQUFBM0osS0FBQXlKLEVBQUF6SixHQUFBMkosRUFBQTNKLElBSUEsT0FBQXlKLEdBQ0FYLEdBTUE1QyxHQUFBLENBQ0FNLE9BQUEsU0FDQUcsTUFBQSxFQUNBSyxPQUFBdkcsT0FBQXNJLFNBQUFDLElBQ0EsQ0FDQUQsT0FBQUMsS0EyQkEsU0FBQWEsR0FBQUMsR0FDQSxPQUFBLFNBQUEvRSxFQUFBZ0YsRUFBQUMsR0FDQSxJQUlBQyxFQUFBQyxFQUpBUCxFQUFBeEosT0FBQWpCLEVBQUE2RixJQUNBb0YsRUFBQVIsRUFBQXZGLE9BQ0FnRyxPQUFBakwsSUFBQTZLLEVBQUEsSUFBQTdKLE9BQUE2SixHQUNBSyxFQUFBMUYsR0FBQW9GLEdBRUEsT0FBQU0sR0FBQUYsR0FBQSxJQUFBQyxFQUFBVCxHQUNBTSxFQUFBSSxFQUFBRixHQUNBRCxFQUFBSSxHQUFBekssS0FBQXVLLEVBQUFHLEdBQUFOLEVBQUFHLEVBQUFoRyxVQUNBQSxPQUFBNkYsSUFBQUMsRUFBQUEsRUFBQTdJLE1BQUEsRUFBQTRJLElBQ0FILEVBQUFILEVBQUFPLEVBQUFBLEVBQUFQLElBL0JBLElBQUFXLEdBQUEsR0FBQUUsUUFBQSxTQUFBQyxHQUNBLElBQUFDLEVBQUF2SyxPQUFBakIsRUFBQWxCLE9BQ0F5SCxFQUFBLEdBQ0FrRixFQUFBckcsR0FBQW1HLEdBQ0EsR0FBQUUsRUFBQSxHQUFBQSxHQUFBQyxFQUFBQSxFQUFBLE1BQUFDLFdBQUEsK0JBRUEsS0FBQSxFQUFBRixHQUFBQSxLQUFBLEtBQUFELEdBQUFBLEdBQUEsRUFBQUMsSUFBQWxGLEdBQUFpRixHQUVBLE9BQUFqRixHQVVBOEUsR0FBQS9MLEtBQUFrRyxLQWlCQW9HLEdBQUEsQ0FHQUMsTUFBQWxCLElBQUEsR0FHQW1CLElBQUFuQixJQUFBLElBR0FvQixHQUFBakgsRUFBQSxZQUFBLGNBQUEsR0FNQWtILEdBQUEsbURBQUFqSSxLQUFBZ0ksSUFFQUUsR0FBQUwsR0FBQUUsSUFNQTlFLEdBQUEsQ0FDQU0sT0FBQSxTQUNBNEUsT0FBQSxFQUNBcEUsT0FBQWtFLElBQ0EsQ0FDQUcsT0FBQSxTQUFBdEIsRUFBQSxHQUdBLE9BQUFvQixHQUFBbk4sS0FBQStMLEVBQUEsRUFBQTVGLFVBQUFDLE9BSEEsT0FHQWpGLE1BSUEsSUFBQW1NLEdBQUFSLEdBQUFDLE1BdUNBLFNBQUFRLEdBQUFDLEdBYUEsT0FUQUQsR0FEQSxtQkFBQWxDLFFBQUEsaUJBQUFBLE9BQUFvQyxTQUNBLFNBQUFELEdBQ0EsY0FBQUEsR0FHQSxTQUFBQSxHQUNBLE9BQUFBLEdBQUEsbUJBQUFuQyxRQUFBbUMsRUFBQUUsY0FBQXJDLFFBQUFtQyxJQUFBbkMsT0FBQXpDLFVBQUEsZ0JBQUE0RSxJQUlBQSxHQUdBLFNBQUFHLEdBQUFDLEVBQUFDLEdBQ0EsS0FBQUQsYUFBQUMsR0FDQSxNQUFBLElBQUF6TSxVQUFBLHFDQUlBLFNBQUEwTSxHQUFBdEYsRUFBQXVGLEdBQ0EsSUFBQSxJQUFBdkcsRUFBQSxFQUFBQSxFQUFBdUcsRUFBQTNILE9BQUFvQixJQUFBLENBQ0EsSUFBQXJFLEVBQUE0SyxFQUFBdkcsR0FDQXJFLEVBQUFwQyxXQUFBb0MsRUFBQXBDLGFBQUEsRUFDQW9DLEVBQUFuQyxjQUFBLEVBQ0EsVUFBQW1DLElBQUFBLEVBQUFsQyxVQUFBLEdBQ0F3QixPQUFBQyxlQUFBOEYsRUFBQXJGLEVBQUFuQixJQUFBbUIsSUFJQSxTQUFBNkssR0FBQUgsRUFBQUksRUFBQUMsR0FHQSxPQUZBRCxHQUFBSCxHQUFBRCxFQUFBakYsVUFBQXFGLEdBQ0FDLEdBQUFKLEdBQUFELEVBQUFLLEdBQ0FMLEVBa0JBLFNBQUFNLEdBQUFDLEVBQUFDLEdBQ0EsR0FBQSxtQkFBQUEsR0FBQSxPQUFBQSxFQUNBLE1BQUEsSUFBQWpOLFVBQUEsc0RBR0FnTixFQUFBeEYsVUFBQW5HLE9BQUE2TCxPQUFBRCxHQUFBQSxFQUFBekYsVUFBQSxDQUNBOEUsWUFBQSxDQUNBNU0sTUFBQXNOLEVBQ0FuTixVQUFBLEVBQ0FELGNBQUEsS0FHQXFOLEdBQUFFLEdBQUFILEVBQUFDLEdBR0EsU0FBQUcsR0FBQUMsR0FJQSxPQUhBRCxHQUFBL0wsT0FBQWlNLGVBQUFqTSxPQUFBa00sZUFBQSxTQUFBRixHQUNBLE9BQUFBLEVBQUFHLFdBQUFuTSxPQUFBa00sZUFBQUYsS0FFQUEsR0FHQSxTQUFBRixHQUFBRSxFQUFBSSxHQU1BLE9BTEFOLEdBQUE5TCxPQUFBaU0sZ0JBQUEsU0FBQUQsRUFBQUksR0FFQSxPQURBSixFQUFBRyxVQUFBQyxFQUNBSixJQUdBQSxFQUFBSSxHQWtCQSxTQUFBQyxHQUFBMUcsRUFBQTJHLEdBQ0EsR0FBQSxNQUFBM0csRUFBQSxNQUFBLEdBRUEsSUFFQXBHLEVBRkF3RyxFQWxCQSxTQUFBSixFQUFBMkcsR0FDQSxHQUFBLE1BQUEzRyxFQUFBLE1BQUEsR0FLQSxJQUpBLElBRUFwRyxFQUZBd0csRUFBQSxHQUNBd0csRUFBQXZNLE9BQUFpRCxLQUFBMEMsR0FHQVosRUFBQSxFQUFBQSxFQUFBd0gsRUFBQTVJLE9BQUFvQixJQUNBeEYsRUFBQWdOLEVBQUF4SCxHQUNBLEdBQUF1SCxFQUFBckgsUUFBQTFGLEtBQ0F3RyxFQUFBeEcsR0FBQW9HLEVBQUFwRyxJQUdBLE9BQUF3RyxFQU1BeUcsQ0FBQTdHLEVBQUEyRyxHQUlBLEdBQUF0TSxPQUFBK0gsc0JBR0EsSUFGQSxJQUFBMEUsRUFBQXpNLE9BQUErSCxzQkFBQXBDLEdBRUFaLEVBQUEsRUFBQUEsRUFBQTBILEVBQUE5SSxPQUFBb0IsSUFDQXhGLEVBQUFrTixFQUFBMUgsR0FDQSxHQUFBdUgsRUFBQXJILFFBQUExRixJQUNBUyxPQUFBbUcsVUFBQS9GLHFCQUFBaEIsS0FBQXVHLEVBQUFwRyxLQUNBd0csRUFBQXhHLEdBQUFvRyxFQUFBcEcsSUFJQSxPQUFBd0csRUFXQSxTQUFBMkcsR0FBQXJQLEVBQUErQixHQUNBLE9BQUFBLEdBQUEsaUJBQUFBLEdBQUEsbUJBQUFBLEVBVEEsU0FBQS9CLEdBQ0EsUUFBQSxJQUFBQSxFQUNBLE1BQUEsSUFBQXNQLGVBQUEsNkRBR0EsT0FBQXRQLEVBUUF1UCxDQUFBdlAsR0FIQStCLEVBTUEsU0FBQXlOLEdBQUFuTCxFQUFBb0wsR0FDQSxNQUFBOU0sT0FBQW1HLFVBQUEzRyxlQUFBSixLQUFBc0MsRUFBQW9MLElBRUEsUUFEQXBMLEVBQUFxSyxHQUFBckssTUFJQSxPQUFBQSxFQUdBLFNBQUFxTCxHQUFBaEgsRUFBQStHLEVBQUFFLEdBa0JBLE9BaEJBRCxHQURBLG9CQUFBRSxTQUFBQSxRQUFBL00sSUFDQStNLFFBQUEvTSxJQUVBLFNBQUE2RixFQUFBK0csRUFBQUUsR0FDQSxJQUFBRSxFQUFBTCxHQUFBOUcsRUFBQStHLEdBRUEsR0FBQUksRUFBQSxDQUNBLElBQUFDLEVBQUFuTixPQUFBSyx5QkFBQTZNLEVBQUFKLEdBRUEsT0FBQUssRUFBQWpOLElBQ0FpTixFQUFBak4sSUFBQWQsS0FBQTROLEdBR0FHLEVBQUE5TyxTQUlBMEgsRUFBQStHLEVBQUFFLEdBQUFqSCxHQUdBLFNBQUFxSCxHQUFBckgsRUFBQStHLEVBQUF6TyxFQUFBMk8sR0FxQ0EsT0FuQ0FJLEdBREEsb0JBQUFILFNBQUFBLFFBQUE5SyxJQUNBOEssUUFBQTlLLElBRUEsU0FBQTRELEVBQUErRyxFQUFBek8sRUFBQTJPLEdBQ0EsSUFFQUcsRUF2SUFwQyxFQUFBeEwsRUFBQWxCLEVBcUlBNk8sRUFBQUwsR0FBQTlHLEVBQUErRyxHQUlBLEdBQUFJLEVBQUEsQ0FHQSxJQUZBQyxFQUFBbk4sT0FBQUsseUJBQUE2TSxFQUFBSixJQUVBM0ssSUFFQSxPQURBZ0wsRUFBQWhMLElBQUEvQyxLQUFBNE4sRUFBQTNPLElBQ0EsRUFDQSxJQUFBOE8sRUFBQTNPLFNBQ0EsT0FBQSxFQU1BLEdBRkEyTyxFQUFBbk4sT0FBQUsseUJBQUEyTSxFQUFBRixHQUVBLENBQ0EsSUFBQUssRUFBQTNPLFNBQ0EsT0FBQSxFQUdBMk8sRUFBQTlPLE1BQUFBLEVBQ0EyQixPQUFBQyxlQUFBK00sRUFBQUYsRUFBQUssUUE1SkE5TyxFQThKQUEsR0E5SkFrQixFQThKQXVOLEtBOUpBL0IsRUE4SkFpQyxHQTVKQWhOLE9BQUFDLGVBQUE4SyxFQUFBeEwsRUFBQSxDQUNBbEIsTUFBQUEsRUFDQUMsWUFBQSxFQUNBQyxjQUFBLEVBQ0FDLFVBQUEsSUFHQXVNLEVBQUF4TCxHQUFBbEIsRUF3SkEsT0FBQSxJQUlBMEgsRUFBQStHLEVBQUF6TyxFQUFBMk8sR0FHQSxTQUFBSyxHQUFBdEgsRUFBQStHLEVBQUF6TyxFQUFBMk8sRUFBQU0sR0FHQSxJQUZBRixHQUFBckgsRUFBQStHLEVBQUF6TyxFQUFBMk8sR0FBQWpILElBRUF1SCxFQUNBLE1BQUEsSUFBQUMsTUFBQSwwQkFHQSxPQUFBbFAsRUFHQSxTQUFBbVAsR0FBQUMsRUFBQTFJLEdBQ0EsT0FHQSxTQUFBMEksR0FDQSxHQUFBQyxNQUFBQyxRQUFBRixHQUFBLE9BQUFBLEVBSkFHLENBQUFILElBT0EsU0FBQUEsRUFBQTFJLEdBQ0EsS0FBQTZELE9BQUFvQyxZQUFBaEwsT0FBQXlOLElBQUEsdUJBQUF6TixPQUFBbUcsVUFBQWhILFNBQUFDLEtBQUFxTyxJQUNBLE9BR0EsSUFBQUksRUFBQSxHQUNBQyxHQUFBLEVBQ0FDLEdBQUEsRUFDQUMsT0FBQXRQLEVBRUEsSUFDQSxJQUFBLElBQUF1UCxFQUFBQyxFQUFBVCxFQUFBN0UsT0FBQW9DLGNBQUE4QyxHQUFBRyxFQUFBQyxFQUFBQyxRQUFBQyxRQUNBUCxFQUFBbkwsS0FBQXVMLEVBQUE1UCxRQUVBMEcsR0FBQThJLEVBQUFsSyxTQUFBb0IsR0FIQStJLEdBQUEsSUFLQSxNQUFBTyxHQUNBTixHQUFBLEVBQ0FDLEVBQUFLLEVBQ0EsUUFDQSxJQUNBUCxHQUFBLE1BQUFJLEVBQUEsUUFBQUEsRUFBQSxTQUNBLFFBQ0EsR0FBQUgsRUFBQSxNQUFBQyxHQUlBLE9BQUFILEVBbENBUyxDQUFBYixFQUFBMUksSUFxQ0EsV0FDQSxNQUFBLElBQUFwRyxVQUFBLHdEQXRDQTRQLEdBMENBLFNBQUFDLEdBQUF2RSxHQUNBLE1BQUEsaUJBQUFBLEdBQUFBLGFBQUF2SyxPQXJTQStGLEdBQUEsQ0FDQU0sT0FBQSxTQUNBNEUsT0FBQSxFQUNBcEUsT0FBQWtFLElBQ0EsQ0FDQWdFLFNBQUEsU0FBQW5GLEVBQUEsR0FHQSxPQUFBdUIsR0FBQXROLEtBQUErTCxFQUFBLEVBQUE1RixVQUFBQyxPQUhBLE9BR0FqRixNQVFBK0csR0FBQSxDQUNBTSxPQUFBLFNBQ0E0RSxPQUFBLEdBQ0EsQ0FDQVosT0FBQUYsS0FPQXBFLEdBQUEsQ0FDQTFJLFFBQUEsR0FDQSxDQUNBVSxXQUFBb0MsSUFrUkEsSUFBQTZPLEdBQ0EsT0FEQUEsR0FFQSxPQUZBQSxHQUdBLGFBSEFBLEdBSUEsUUFKQUEsR0FLQSxjQWtCQSxTQUFBQyxHQUFBMUUsR0FDQSxPQUFBQSxFQUFBL0IsUUFBQSw0QkFBQSxRQW1EQSxJQUFBMEcsR0FFQSxXQVFBLFNBQUFBLEVBQUF2USxFQUFBd1EsRUFBQUMsRUFBQUMsR0FRQSxJQVBBN0QsR0FBQTNOLEtBQUFxUixHQUVBclIsS0FBQWMsTUFBQUEsRUFDQWQsS0FBQXNSLFVBQUFBLEVBQ0F0UixLQUFBdVIsU0FBQUEsRUFDQXZSLEtBQUF3UixhQUFBQSxFQUVBeFIsS0FBQWMsTUFBQXVDLE1BQUEsRUFBQXJELEtBQUF5UixrQkFBQXpSLEtBQUF1UixTQUFBbE8sTUFBQSxFQUFBckQsS0FBQXlSLG1CQUNBelIsS0FBQXdSLGFBQUF6RSxNQTBGQSxPQWpGQWlCLEdBQUFxRCxFQUFBLENBQUEsQ0FDQXJQLElBQUEsaUJBQ0FXLElBQUEsV0FDQSxPQUFBbkMsS0FBQW9HLElBQUE1RyxLQUFBc1IsVUFBQXRSLEtBQUF3UixhQUFBekUsU0FPQSxDQUNBL0ssSUFBQSxnQkFDQVcsSUFBQSxXQUNBLE9BQUEzQyxLQUFBc1IsVUFBQXRSLEtBQUF5UixpQkFPQSxDQUNBelAsSUFBQSxXQUNBVyxJQUFBLFdBQ0EsT0FBQTNDLEtBQUFjLE1BQUE0USxPQUFBMVIsS0FBQXlSLGVBQUF6UixLQUFBMlIsaUJBT0EsQ0FDQTNQLElBQUEsZUFDQVcsSUFBQSxXQUVBLE9BQUFuQyxLQUFBNEcsSUFBQXBILEtBQUF3UixhQUFBeEUsSUFBQWhOLEtBQUF5UixnQkFDQXpSLEtBQUF1UixTQUFBbkwsT0FBQXBHLEtBQUFjLE1BQUFzRixPQUFBLEtBT0EsQ0FDQXBFLElBQUEsVUFDQVcsSUFBQSxXQUNBLE9BQUEzQyxLQUFBdVIsU0FBQUcsT0FBQTFSLEtBQUF5UixlQUFBelIsS0FBQTRSLGdCQU9BLENBQ0E1UCxJQUFBLE9BQ0FXLElBQUEsV0FDQSxPQUFBM0MsS0FBQWMsTUFBQStRLFVBQUEsRUFBQTdSLEtBQUF5UixrQkFPQSxDQUNBelAsSUFBQSxPQUNBVyxJQUFBLFdBQ0EsT0FBQTNDLEtBQUFjLE1BQUErUSxVQUFBN1IsS0FBQXlSLGVBQUF6UixLQUFBMlIsaUJBT0EsQ0FDQTNQLElBQUEsa0JBQ0FXLElBQUEsV0FDQSxPQUFBM0MsS0FBQTRSLGNBQUE1UixLQUFBMlIsY0FBQVIsR0FFQW5SLEtBQUF3UixhQUFBeEUsTUFBQWhOLEtBQUFzUixXQUFBdFIsS0FBQXdSLGFBQUF6RSxRQUFBL00sS0FBQXNSLFVBQUFILEdBQUFBLE9BSUFFLEVBM0dBLEdBc0hBUyxHQUVBLFdBUUEsU0FBQUEsRUFBQUMsR0FDQXBFLEdBQUEzTixLQUFBOFIsR0FFQXJQLE9BQUFzSSxPQUFBL0ssS0FBQSxDQUNBZ1MsU0FBQSxHQUNBQyxZQUFBLEdBQ0FDLE1BQUEsRUFDQUMsVUFBQSxHQUNBSixHQTBCQSxPQWxCQS9ELEdBQUE4RCxFQUFBLENBQUEsQ0FDQTlQLElBQUEsWUFDQWxCLE1BQUEsU0FBQWlSLEdBS0EsT0FKQS9SLEtBQUFpUyxhQUFBRixFQUFBRSxZQUNBalMsS0FBQWtTLEtBQUFsUyxLQUFBa1MsTUFBQUgsRUFBQUcsS0FDQWxTLEtBQUFnUyxVQUFBRCxFQUFBQyxTQUNBaFMsS0FBQW1TLFdBQUFKLEVBQUFJLFVBQ0FuUyxPQUlBLENBQ0FnQyxJQUFBLFNBQ0FXLElBQUEsV0FDQSxPQUFBM0MsS0FBQW1TLFVBQUFuUyxLQUFBZ1MsU0FBQTVMLFdBSUEwTCxFQTFDQSxHQThDQU0sR0FFQSxXQU1BLFNBQUFBLElBQ0EsSUFBQXRSLEVBQUEsRUFBQXFGLFVBQUFDLGFBQUFqRixJQUFBZ0YsVUFBQSxHQUFBQSxVQUFBLEdBQUEsR0FDQWtNLEVBQUEsRUFBQWxNLFVBQUFDLGFBQUFqRixJQUFBZ0YsVUFBQSxHQUFBQSxVQUFBLEdBQUEsRUFDQW1NLEVBQUEsRUFBQW5NLFVBQUFDLE9BQUFELFVBQUEsUUFBQWhGLEVBRUF3TSxHQUFBM04sS0FBQW9TLEdBRUFwUyxLQUFBYyxNQUFBQSxFQUNBZCxLQUFBcVMsS0FBQUEsRUFDQXJTLEtBQUFzUyxLQUFBQSxFQTBDQSxPQXZDQXRFLEdBQUFvRSxFQUFBLENBQUEsQ0FDQXBRLElBQUEsV0FDQWxCLE1BQUEsV0FDQSxPQUFBZCxLQUFBYyxRQUVBLENBQ0FrQixJQUFBLFNBQ0FsQixNQUFBLFNBQUF5UixHQUNBdlMsS0FBQWMsT0FBQXFCLE9BQUFvUSxLQUVBLENBQ0F2USxJQUFBLFdBQ0FsQixNQUFBLFNBQUEwUixHQUNBLE9BQUFBLEVBQUFDLE9BQUF6UyxLQUFBNEIsV0FBQSxDQUNBMlEsTUFBQSxJQUNBRyxVQUFBRixFQUFBRyx3QkFFQSxDQUNBM1EsSUFBQSxjQUNBbEIsTUFBQSxTQUFBOFIsR0FDQSxHQUFBNVMsS0FBQXFTLE1BQUFPLElBQUE1UyxLQUFBYyxNQUFBc0YsT0FBQSxNQUFBLEdBQ0EsSUFBQXlNLEVBQUE3UyxLQUFBYyxNQUFBLEdBRUEsT0FEQWQsS0FBQWMsTUFBQWQsS0FBQWMsTUFBQXVDLE1BQUEsR0FDQXdQLElBRUEsQ0FDQTdRLElBQUEsUUFDQVcsSUFBQSxXQUNBLE1BQUEsQ0FDQTdCLE1BQUFkLEtBQUFjLE1BQ0F1UixLQUFBclMsS0FBQXFTLEtBQ0FDLEtBQUF0UyxLQUFBc1MsT0FHQTFOLElBQUEsU0FBQTZFLEdBQ0FoSCxPQUFBc0ksT0FBQS9LLEtBQUF5SixPQUlBMkksRUF6REEsR0FtRUEsU0FBQXJTLEdBQUFpSCxHQUNBLElBQUE4TCxFQUFBLEVBQUEzTSxVQUFBQyxhQUFBakYsSUFBQWdGLFVBQUEsR0FBQUEsVUFBQSxHQUFBLEdBRUEsT0FBQSxJQUFBcEcsR0FBQWdULFVBQUEvTCxFQUFBOEwsR0FNQSxJQUFBRSxHQUVBLFdBcUJBLFNBQUFBLEVBQUFGLEdBQ0FuRixHQUFBM04sS0FBQWdULEdBRUFoVCxLQUFBaVQsT0FBQSxHQUVBalQsS0FBQWtULFFBQUF6USxPQUFBc0ksT0FBQSxHQUFBaUksRUFBQUcsU0FBQSxHQUFBTCxJQUVBOVMsS0FBQW9ULGVBQUEsRUEyVUEsT0F0VUFwRixHQUFBZ0YsRUFBQSxDQUFBLENBQ0FoUixJQUFBLGdCQUNBbEIsTUFBQSxTQUFBZ1MsR0FDQXJRLE9BQUFpRCxLQUFBb04sR0FBQTFNLFFBQ0FwRyxLQUFBcVQsaUJBQUFyVCxLQUFBa1QsUUFBQUksS0FBQXRULEtBQUE4UyxNQU9BLENBQ0E5USxJQUFBLFVBQ0FsQixNQUFBLFNBQUFnUyxHQUNBclEsT0FBQXNJLE9BQUEvSyxLQUFBOFMsS0FJQSxDQUNBOVEsSUFBQSxRQUdBbEIsTUFBQSxXQUNBZCxLQUFBaVQsT0FBQSxLQUlBLENBQ0FqUixJQUFBLFVBR0FsQixNQUFBLFNBQUFBLEdBTUEsT0FMQWQsS0FBQXVULFFBQ0F2VCxLQUFBeVMsT0FBQTNSLEVBQUEsQ0FDQVcsT0FBQSxHQUNBLElBQ0F6QixLQUFBd1QsV0FDQXhULEtBQUFjLFFBSUEsQ0FDQWtCLElBQUEsa0JBR0FsQixNQUFBLFNBQUF3USxHQUNBLE9BQUFBLElBSUEsQ0FDQXRQLElBQUEsZUFDQWxCLE1BQUEsU0FBQSxFQUFBLEdBQ0EsSUFBQTJTLEVBQUEsRUFBQXROLFVBQUFDLGFBQUFqRixJQURBLEVBQUEsRUFDQSxFQUNBdVMsRUFBQSxFQUFBdk4sVUFBQUMsYUFBQWpGLElBRkEsRUFBQSxFQUVBbkIsS0FBQWMsTUFBQXNGLE9BQ0EsT0FBQXBHLEtBQUFjLE1BQUF1QyxNQUFBb1EsRUFBQUMsS0FJQSxDQUNBMVIsSUFBQSxjQUNBbEIsTUFBQSxTQUFBLEVBQUEsR0FDQSxJQUFBMlMsRUFBQSxFQUFBdE4sVUFBQUMsYUFBQWpGLElBREEsRUFBQSxFQUNBLEVBQ0F1UyxFQUFBLEVBQUF2TixVQUFBQyxhQUFBakYsSUFGQSxFQUFBLEVBRUFuQixLQUFBYyxNQUFBc0YsT0FDQSxPQUFBLElBQUFnTSxHQUFBcFMsS0FBQTJULGFBQUFGLEVBQUFDLEdBQUFELEtBS0EsQ0FDQXpSLElBQUEsYUFDQWxCLE1BQUEsU0FBQXlSLEdBRUEsT0FEQXRCLEdBQUFzQixLQUFBQSxFQUFBLElBQUFILEdBQUFqUSxPQUFBb1EsS0FDQUEsRUFBQXFCLFNBQUE1VCxRQUlBLENBQ0FnQyxJQUFBLGlCQUNBbEIsTUFBQSxTQUFBK1MsRUFBQSxHQUNBLElBQUFDLEVBQUEsRUFBQTNOLFVBQUFDLGFBQUFqRixJQURBLEVBQUEsRUFDQSxHQUVBLE9BREEwUyxFQUFBN1QsS0FBQStULFVBQUFGLEVBQUFDLEtBRUE5VCxLQUFBaVQsUUFBQVksRUFDQSxJQUFBL0IsR0FBQSxDQUNBRSxTQUFBNkIsRUFDQTVCLFlBQUE0QixLQUpBLElBQUEvQixLQVNBLENBQ0E5UCxJQUFBLGNBQ0FsQixNQUFBLFNBQUErUyxFQUFBLEVBQUEsR0FDQSxJQU9BRyxFQUtBQyxFQU9BQyxFQUNBQyxFQXBCQUwsRUFBQSxFQUFBM04sVUFBQUMsYUFBQWpGLElBREEsRUFBQSxFQUNBLEdBQ0FpVCxFQUFBLEVBQUFqTyxVQUFBQyxPQUZBLE9BRUFqRixFQUNBa1QsRUFBQXJVLEtBQUF5SixNQUVBc0ksRUFBQS9SLEtBQUFzVSxlQUFBVCxFQUFBQyxHQTZCQSxPQTNCQS9CLEVBQUFDLFlBRUFtQyxHQUFBLElBQUFuVSxLQUFBdVUsV0FBQVQsS0FFQSxNQUFBTSxJQUVBSCxFQUFBalUsS0FBQXlKLE1BRUF6SixLQUFBd1UsWUFDQVIsRUFBQUksRUFBQTNLLE1BQ0EySyxFQUFBSyxZQUFBelUsS0FBQWMsTUFBQXNGLFVBSUErTixHQURBRCxFQUFBbFUsS0FBQTBVLFdBQUFOLElBQ0FuQyxjQUFBbUMsRUFBQXhTLGFBRUFzUyxFQUFBbEMsV0FBQWhTLEtBQUF5SixNQUFBd0ssSUFJQUUsSUFDQXBDLEVBQUEsSUFBQUQsR0FDQTlSLEtBQUF5SixNQUFBNEssRUFDQUQsR0FBQUosSUFBQUksRUFBQTNLLE1BQUF1SyxLQUlBakMsSUFJQSxDQUNBL1AsSUFBQSxxQkFDQWxCLE1BQUEsV0FDQSxPQUFBLElBQUFnUixLQUtBLENBQ0E5UCxJQUFBLFNBQ0FsQixNQUFBLFNBQUE0TCxFQUFBb0gsRUFBQXZCLEdBQ0EsSUFBQXRCLEdBQUF2RSxHQUFBLE1BQUEsSUFBQXNELE1BQUEsMEJBQ0EsSUFBQStCLEVBQUEsSUFBQUQsR0FDQXNDLEVBQUFuRCxHQUFBc0IsR0FBQSxJQUFBSCxHQUFBalEsT0FBQW9RLElBQUFBLEVBQ0F1QixFQUFBdkIsT0FBQXVCLEVBQUFhLGlCQUFBM1UsS0FBQXlKLE9BRUEsSUFBQSxJQUFBbUwsRUFBQSxFQUFBQSxFQUFBbEksRUFBQXRHLFNBQUF3TyxFQUNBN0MsRUFBQVcsVUFBQTFTLEtBQUE2VSxZQUFBbkksRUFBQWtJLEdBQUFkLEVBQUFNLElBVUEsT0FOQSxNQUFBQSxJQUNBckMsRUFBQUksV0FBQW5TLEtBQUEwVSxXQUFBTixHQUFBakMsV0FLQUosSUFJQSxDQUNBL1AsSUFBQSxTQUNBbEIsTUFBQSxTQUFBLEVBQUEsR0FDQSxJQUFBMlMsRUFBQSxFQUFBdE4sVUFBQUMsYUFBQWpGLElBREEsRUFBQSxFQUNBLEVBQ0F1UyxFQUFBLEVBQUF2TixVQUFBQyxhQUFBakYsSUFGQSxFQUFBLEVBRUFuQixLQUFBYyxNQUFBc0YsT0FFQSxPQURBcEcsS0FBQWlULE9BQUFqVCxLQUFBYyxNQUFBdUMsTUFBQSxFQUFBb1EsR0FBQXpULEtBQUFjLE1BQUF1QyxNQUFBcVEsR0FDQSxJQUFBNUIsS0FJQSxDQUNBOVAsSUFBQSxtQkFDQWxCLE1BQUEsU0FBQVQsR0FDQSxHQUFBTCxLQUFBOFUsY0FBQTlVLEtBQUFvVCxjQUFBLE9BQUEvUyxJQUNBTCxLQUFBOFUsYUFBQSxFQUNBLElBQUFDLEVBQUEvVSxLQUFBZ1YsY0FDQWxVLEVBQUFkLEtBQUFjLE1BQ0FtVSxFQUFBNVUsSUFRQSxPQVBBTCxLQUFBZ1YsY0FBQUQsRUFFQS9VLEtBQUFjLFFBQUFBLEdBQUEsSUFBQUEsRUFBQTRHLFFBQUExSCxLQUFBYyxRQUNBZCxLQUFBeVMsT0FBQTNSLEVBQUF1QyxNQUFBckQsS0FBQWMsTUFBQXNGLFFBQUEsR0FBQSxXQUdBcEcsS0FBQThVLFlBQ0FHLElBSUEsQ0FDQWpULElBQUEsY0FDQWxCLE1BQUEsU0FBQVQsR0FDQSxHQUFBTCxLQUFBa1YsWUFBQWxWLEtBQUFvVCxjQUFBLE9BQUEvUyxFQUFBTCxNQUNBQSxLQUFBa1YsV0FBQSxFQUNBLElBQUF6TCxFQUFBekosS0FBQXlKLE1BQ0F3TCxFQUFBNVUsRUFBQUwsTUFHQSxPQUZBQSxLQUFBeUosTUFBQUEsU0FDQXpKLEtBQUFrVixVQUNBRCxJQU9BLENBQ0FqVCxJQUFBLFlBQ0FsQixNQUFBLFNBQUE0TCxFQUFBLEdBQ0EsSUFBQW9ILEVBQUEsRUFBQTNOLFVBQUFDLGFBQUFqRixJQURBLEVBQUEsRUFDQSxHQUNBLE9BQUFuQixLQUFBbVYsUUFBQW5WLEtBQUFtVixRQUFBekksRUFBQTFNLEtBQUE4VCxHQUFBcEgsSUFPQSxDQUNBMUssSUFBQSxhQUNBbEIsTUFBQSxTQUFBZ1QsR0FDQSxRQUFBOVQsS0FBQW9WLFVBQUFwVixLQUFBb1YsU0FBQXBWLEtBQUFjLE1BQUFkLEtBQUE4VCxPQUFBOVQsS0FBQXFWLFFBQUFyVixLQUFBcVYsT0FBQWQsV0FBQVQsTUFPQSxDQUNBOVIsSUFBQSxXQUNBbEIsTUFBQSxXQUNBZCxLQUFBc1YsUUFBQXRWLEtBQUFzVixPQUFBdFYsS0FBQWMsTUFBQWQsUUFJQSxDQUNBZ0MsSUFBQSxXQUNBbEIsTUFBQSxTQUFBQSxHQUNBLE9BQUFkLEtBQUF1VixPQUFBdlYsS0FBQXVWLE9BQUF6VSxFQUFBZCxNQUFBYyxJQUlBLENBQ0FrQixJQUFBLFVBQ0FsQixNQUFBLFNBQUE0TCxHQUNBLE9BQUExTSxLQUFBd1YsTUFBQXhWLEtBQUF3VixNQUFBOUksRUFBQTFNLE1BQUEwTSxJQUlBLENBQ0ExSyxJQUFBLFNBQ0FsQixNQUFBLFNBQUFpTSxFQUFBMEksRUFBQXpELEVBQUEwRCxHQUNBLElBQUFDLEVBQUE1SSxFQUFBMEksRUFDQWxELEVBQUF2UyxLQUFBNFYsWUFBQUQsR0FDQWxFLEVBQUF6UixLQUFBNlYsZ0JBQUE5SSxFQUFBMkksR0FPQSxPQU5BLElBQUE1RCxHQUFBLENBQ0FLLFVBQUFWLEVBQUExRSxJQUVBMkYsVUFBQTFTLEtBQUE4VixPQUFBckUsSUFBQWlCLFVBQUExUyxLQUFBeVMsT0FBQVQsRUFBQSxDQUNBdlEsT0FBQSxHQUNBOFEsTUFHQSxDQUNBdlEsSUFBQSxRQUNBVyxJQUFBLFdBQ0EsTUFBQSxDQUNBc1EsT0FBQWpULEtBQUFjLFFBR0E4RCxJQUFBLFNBQUE2RSxHQUNBekosS0FBQWlULE9BQUF4SixFQUFBd0osU0FFQSxDQUNBalIsSUFBQSxRQUNBVyxJQUFBLFdBQ0EsT0FBQTNDLEtBQUFpVCxRQUVBck8sSUFBQSxTQUFBOUQsR0FDQWQsS0FBQStWLFFBQUFqVixLQUVBLENBQ0FrQixJQUFBLGdCQUNBVyxJQUFBLFdBQ0EsT0FBQTNDLEtBQUFjLE9BRUE4RCxJQUFBLFNBQUE5RCxHQUNBZCxLQUFBdVQsUUFDQXZULEtBQUF5UyxPQUFBM1IsRUFBQSxHQUFBLElBQ0FkLEtBQUF3VCxhQUlBLENBQ0F4UixJQUFBLGFBQ0FXLElBQUEsV0FDQSxPQUFBM0MsS0FBQWdXLFFBQUFoVyxLQUFBYyxRQUVBOEQsSUFBQSxTQUFBOUQsR0FDQWQsS0FBQWMsTUFBQWQsS0FBQWlXLFNBQUFuVixLQUlBLENBQ0FrQixJQUFBLGdCQUNBVyxJQUFBLFdBQ0EsT0FBQTNDLEtBQUEyVCxhQUFBLEVBQUEzVCxLQUFBYyxNQUFBc0YsT0FBQSxDQUNBOFAsS0FBQSxLQUdBdFIsSUFBQSxTQUFBOUQsR0FDQWQsS0FBQXVULFFBQ0F2VCxLQUFBeVMsT0FBQTNSLEVBQUEsQ0FDQW9WLEtBQUEsR0FDQSxJQUNBbFcsS0FBQXdULGFBSUEsQ0FDQXhSLElBQUEsYUFDQVcsSUFBQSxXQUNBLE9BQUEsTUFJQXFRLEVBdldBLEdBcVhBLFNBQUFtRCxHQUFBQyxHQUNBLEdBQUEsTUFBQUEsRUFDQSxNQUFBLElBQUFwRyxNQUFBLG1DQUlBLE9BQUFvRyxhQUFBQyxPQUFBdFcsR0FBQXVXLGFBRUFyRixHQUFBbUYsR0FBQXJXLEdBQUF3VyxjQUVBSCxhQUFBSSxNQUFBSixJQUFBSSxLQUFBelcsR0FBQTBXLFdBRUFMLGFBQUFNLFFBQUEsaUJBQUFOLEdBQUFBLElBQUFNLE9BQUEzVyxHQUFBNFcsYUFFQXhHLE1BQUFDLFFBQUFnRyxJQUFBQSxJQUFBakcsTUFBQXBRLEdBQUE2VyxjQUVBN1csR0FBQWlULFFBQUFvRCxFQUFBeE4scUJBQUE3SSxHQUFBaVQsT0FBQW9ELEVBRUFBLGFBQUE3VCxTQUFBeEMsR0FBQThXLGVBRUFULGFBQUFyVyxHQUFBaVQsT0FBQW9ELEVBQUExSSxhQUNBb0osUUFBQUMsS0FBQSwwQkFBQVgsR0FHQXJXLEdBQUFpVCxRQUlBLFNBQUFnRSxHQUFBbEUsR0FFQSxHQUFBL1MsR0FBQWlULFFBQUFGLGFBQUEvUyxHQUFBaVQsT0FBQSxPQUFBRixFQUVBLElBQUFzRCxHQURBdEQsRUFBQXJRLE9BQUFzSSxPQUFBLEdBQUErSCxJQUNBc0QsS0FFQSxHQUFBclcsR0FBQWlULFFBQUFvRCxhQUFBclcsR0FBQWlULE9BQUEsT0FBQW9ELEVBQ0EsSUFBQWEsRUFBQWQsR0FBQUMsR0FDQSxJQUFBYSxFQUFBLE1BQUEsSUFBQWpILE1BQUEscUhBQ0EsT0FBQSxJQUFBaUgsRUFBQW5FLEdBakRBRSxHQUFBRyxTQUFBLENBQ0FvQyxPQUFBLFNBQUEyQixHQUNBLE9BQUFBLEdBRUExQixNQUFBLFNBQUEwQixHQUNBLE9BQUFBLElBR0FuWCxHQUFBaVQsT0FBQUEsR0EyQ0FqVCxHQUFBaVgsV0FBQUEsR0FFQSxJQUFBRyxHQUFBLENBQ0FDLEVBQUEsS0FDQXpULEVBQUEsc25JQUVBMFQsSUFBQSxLQUlBQyxHQUVBLFdBWUEsU0FBQUEsRUFBQXhFLEdBQ0FuRixHQUFBM04sS0FBQXNYLEdBRUEsSUFBQWxCLEVBQUF0RCxFQUFBc0QsS0FDQW1CLEVBQUF6SSxHQUFBZ0UsRUFBQSxDQUFBLFNBRUE5UyxLQUFBd1MsT0FBQXdFLEdBQUEsQ0FDQVosS0FBQUEsSUFFQTNULE9BQUFzSSxPQUFBL0ssS0FBQXVYLEdBaUpBLE9BOUlBdkosR0FBQXNKLEVBQUEsQ0FBQSxDQUNBdFYsSUFBQSxRQUNBbEIsTUFBQSxXQUNBZCxLQUFBd1gsV0FBQSxFQUNBeFgsS0FBQXdTLE9BQUFlLFVBRUEsQ0FDQXZSLElBQUEsU0FDQWxCLE1BQUEsU0FBQSxFQUFBLEdBQ0EsSUFBQTJTLEVBQUEsRUFBQXROLFVBQUFDLGFBQUFqRixJQURBLEVBQUEsRUFDQSxFQUNBdVMsRUFBQSxFQUFBdk4sVUFBQUMsYUFBQWpGLElBRkEsRUFBQSxFQUVBbkIsS0FBQWMsTUFBQXNGLE9BRUEsT0FBQSxJQUFBcU4sR0FBQSxHQUFBQyxHQUNBMVQsS0FBQXdYLFdBQUEsRUFDQXhYLEtBQUF3UyxPQUFBc0QsT0FBQXJDLEVBQUFDLElBR0EsSUFBQTVCLEtBRUEsQ0FDQTlQLElBQUEsY0FDQWxCLE1BQUEsU0FBQTRMLEVBQUEsR0FDQSxJQUFBb0gsRUFBQSxFQUFBM04sVUFBQUMsYUFBQWpGLElBREEsRUFBQSxFQUNBLEdBQ0EsR0FBQW5CLEtBQUF3WCxVQUFBLE9BQUEsSUFBQTFGLEdBQ0EsSUFBQXJJLEVBQUF6SixLQUFBd1MsT0FBQS9JLE1BRUFzSSxFQUFBL1IsS0FBQXdTLE9BQUFxQyxZQUFBbkksRUFBQW9ILEdBYUEsT0FYQS9CLEVBQUFDLFdBQUEsSUFBQWhTLEtBQUF1VSxXQUFBVCxLQUNBL0IsRUFBQUMsU0FBQUQsRUFBQUUsWUFBQSxHQUNBalMsS0FBQXdTLE9BQUEvSSxNQUFBQSxHQUdBc0ksRUFBQUMsVUFBQWhTLEtBQUF5WCxZQUFBelgsS0FBQTBYLE1BQUE1RCxFQUFBclMsUUFDQXNRLEVBQUFDLFNBQUFoUyxLQUFBMlgsaUJBR0E1RixFQUFBRyxNQUFBSCxFQUFBQyxXQUFBaFMsS0FBQXlYLFdBQ0F6WCxLQUFBd1gsVUFBQUksUUFBQTdGLEVBQUFDLFVBQ0FELElBRUEsQ0FDQS9QLElBQUEsU0FDQWxCLE1BQUEsV0FDQSxJQUFBK1csRUFFQSxPQUFBQSxFQUFBN1gsS0FBQXdTLFFBQUFDLE9BQUFxRixNQUFBRCxFQUFBMVIsYUFFQSxDQUNBbkUsSUFBQSxxQkFDQWxCLE1BQUEsV0FDQSxJQUFBaVIsRUFBQSxJQUFBRCxHQUNBLE9BQUE5UixLQUFBd1gsV0FBQXhYLEtBQUF5WCxhQUNBelgsS0FBQXdYLFdBQUEsRUFDQXpGLEVBQUFDLFNBQUFoUyxLQUFBMlgsaUJBRkE1RixJQUtBLENBQ0EvUCxJQUFBLGNBQ0FsQixNQUFBLFdBQ0EsSUFBQWlYLEVBRUEsT0FBQUEsRUFBQS9YLEtBQUF3UyxRQUFBb0QsWUFBQWtDLE1BQUFDLEVBQUE1UixhQUVBLENBQ0FuRSxJQUFBLGFBQ0FsQixNQUFBLFdBQ0EsSUFBQWtYLEVBRUEsT0FBQUEsRUFBQWhZLEtBQUF3UyxRQUFBa0MsV0FBQW9ELE1BQUFFLEVBQUE3UixhQUVBLENBQ0FuRSxJQUFBLGVBQ0FsQixNQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsSUFBQTJTLEVBQUEsRUFBQXROLFVBQUFDLGFBQUFqRixJQURBLEVBQUEsRUFDQSxFQUNBdVMsRUFBQSxFQUFBdk4sVUFBQUMsYUFBQWpGLElBRkEsRUFBQSxFQUVBbkIsS0FBQWMsTUFBQXNGLE9BQ0EwTixFQUFBLEVBQUEzTixVQUFBQyxPQUhBLE9BR0FqRixFQUNBLE9BQUFuQixLQUFBd1MsT0FBQW1CLGFBQUFGLEVBQUFDLEVBQUFJLEtBRUEsQ0FDQTlSLElBQUEsa0JBQ0FsQixNQUFBLFNBQUF3USxFQUFBLEdBQ0EsSUFBQTJHLEVBQUEsRUFBQTlSLFVBQUFDLGFBQUFqRixJQURBLEVBQUEsRUFDQWdRLEdBRUErRyxFQUFBbFksS0FBQWMsTUFBQXNGLE9BQ0ErUixFQUFBM1gsS0FBQW9HLElBQUFwRyxLQUFBNEcsSUFBQWtLLEVBRkEsR0FFQTRHLEdBRUEsT0FBQUQsR0FDQSxLQUFBOUcsR0FDQSxLQUFBQSxHQUNBLE9BQUFuUixLQUFBb1ksV0FBQUQsRUFQQSxFQVNBLEtBQUFoSCxHQUNBLEtBQUFBLEdBQ0EsT0FBQW5SLEtBQUFvWSxXQUFBRCxFQUFBRCxFQUVBLEtBQUEvRyxHQUNBLFFBQ0EsT0FBQWdILEtBR0EsQ0FDQW5XLElBQUEsYUFDQWxCLE1BQUEsV0FDQSxJQUFBdVgsRUFBQUMsRUFFQSxPQUFBRCxFQUFBclksS0FBQXdTLFFBQUErQixXQUFBdUQsTUFBQU8sRUFBQWxTLGNBQUFuRyxLQUFBcVYsU0FBQWlELEVBQUF0WSxLQUFBcVYsUUFBQWQsV0FBQXVELE1BQUFRLEVBQUFuUyxjQUVBLENBQ0FuRSxJQUFBLFdBQ0FsQixNQUFBLFdBQ0FkLEtBQUF3UyxPQUFBZ0IsYUFFQSxDQUNBeFIsSUFBQSxRQUNBVyxJQUFBLFdBQ0EsT0FBQTNDLEtBQUF3UyxPQUFBMVIsUUFBQWQsS0FBQXdYLFlBQUF4WCxLQUFBeVgsV0FBQXpYLEtBQUEyWCxnQkFBQSxNQUVBLENBQ0EzVixJQUFBLGdCQUNBVyxJQUFBLFdBQ0EsT0FBQTNDLEtBQUF3UyxPQUFBK0YsZ0JBRUEsQ0FDQXZXLElBQUEsYUFDQVcsSUFBQSxXQUNBLE9BQUFpVixRQUFBNVgsS0FBQXdTLE9BQUExUixRQUFBZCxLQUFBeVgsYUFFQSxDQUNBelYsSUFBQSxRQUNBVyxJQUFBLFdBQ0EsTUFBQSxDQUNBNlAsT0FBQXhTLEtBQUF3UyxPQUFBL0ksTUFDQStOLFVBQUF4WCxLQUFBd1gsWUFHQTVTLElBQUEsU0FBQTZFLEdBQ0F6SixLQUFBd1MsT0FBQS9JLE1BQUFBLEVBQUErSSxPQUNBeFMsS0FBQXdYLFVBQUEvTixFQUFBK04sY0FJQUYsRUF0S0EsR0F5S0FrQixHQUVBLFdBUUEsU0FBQUEsRUFBQTFGLEdBQ0FuRixHQUFBM04sS0FBQXdZLEdBRUEvVixPQUFBc0ksT0FBQS9LLEtBQUE4UyxHQUNBOVMsS0FBQWlULE9BQUEsR0F5SEEsT0F0SEFqRixHQUFBd0ssRUFBQSxDQUFBLENBQ0F4VyxJQUFBLFFBQ0FsQixNQUFBLFdBQ0FkLEtBQUF5WSxhQUFBLEVBQ0F6WSxLQUFBaVQsT0FBQSxLQUVBLENBQ0FqUixJQUFBLFNBQ0FsQixNQUFBLFNBQUEsRUFBQSxHQUNBLElBQUEyUyxFQUFBLEVBQUF0TixVQUFBQyxhQUFBakYsSUFEQSxFQUFBLEVBQ0EsRUFDQXVTLEVBQUEsRUFBQXZOLFVBQUFDLGFBQUFqRixJQUZBLEVBQUEsRUFFQW5CLEtBQUFpVCxPQUFBN00sT0FHQSxPQUZBcEcsS0FBQWlULE9BQUFqVCxLQUFBaVQsT0FBQTVQLE1BQUEsRUFBQW9RLEdBQUF6VCxLQUFBaVQsT0FBQTVQLE1BQUFxUSxHQUNBMVQsS0FBQWlULFNBQUFqVCxLQUFBeVksYUFBQSxHQUNBLElBQUEzRyxLQUVBLENBQ0E5UCxJQUFBLGtCQUNBbEIsTUFBQSxTQUFBd1EsRUFBQSxHQUNBLElBQUEyRyxFQUFBLEVBQUE5UixVQUFBQyxhQUFBakYsSUFEQSxFQUFBLEVBQ0FnUSxHQUVBK0csRUFBQWxZLEtBQUFpVCxPQUFBN00sT0FFQSxPQUFBNlIsR0FDQSxLQUFBOUcsR0FDQSxLQUFBQSxHQUNBLE9BTkEsRUFRQSxLQUFBQSxHQUNBLEtBQUFBLEdBQ0EsS0FBQUEsR0FDQSxRQUNBLE9BQUErRyxLQUdBLENBQ0FsVyxJQUFBLGVBQ0FsQixNQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsSUFBQTJTLEVBQUEsRUFBQXROLFVBQUFDLGFBQUFqRixJQURBLEVBQUEsRUFDQSxFQUNBdVMsRUFBQSxFQUFBdk4sVUFBQUMsYUFBQWpGLElBRkEsRUFBQSxFQUVBbkIsS0FBQWlULE9BQUE3TSxPQUVBLE9BREEsRUFBQUQsVUFBQUMsYUFBQWpGLElBSEEsRUFBQSxFQUdBLElBQ0ErVSxLQUFBbFcsS0FBQXlZLGFBQUF6WSxLQUFBaVQsT0FBQTVQLE1BQUFvUSxFQUFBQyxJQUFBLEtBRUEsQ0FDQTFSLElBQUEsY0FDQWxCLE1BQUEsU0FBQTRMLEVBQUEsR0FDQSxJQUFBb0gsRUFBQSxFQUFBM04sVUFBQUMsYUFBQWpGLElBREEsRUFBQSxFQUNBLEdBQ0E0USxFQUFBLElBQUFELEdBQ0EsR0FBQTlSLEtBQUFpVCxPQUFBLE9BQUFsQixFQUNBLElBQ0EyRyxFQURBMVksS0FBQTJZLE9BQUFqTSxFQUFBLEtBQ0ExTSxLQUFBNFksYUFBQTlFLEVBQUFyUyxPQUFBcVMsRUFBQW9DLE9BQUFwQyxFQUFBdkIsS0FJQSxPQUhBbUcsSUFBQTNHLEVBQUFFLFlBQUFqUyxLQUFBMlksTUFDQTNZLEtBQUFpVCxPQUFBbEIsRUFBQUMsU0FBQWhTLEtBQUEyWSxLQUNBM1ksS0FBQXlZLFlBQUFDLElBQUE1RSxFQUFBb0MsS0FBQXBDLEVBQUFyUyxPQUNBc1EsSUFFQSxDQUNBL1AsSUFBQSxxQkFDQWxCLE1BQUEsV0FDQSxJQUFBaVIsRUFBQSxJQUFBRCxHQUNBLE9BQUE5UixLQUFBaVQsU0FDQWpULEtBQUFpVCxPQUFBbEIsRUFBQUMsU0FBQWhTLEtBQUEyWSxNQURBNUcsSUFJQSxDQUNBL1AsSUFBQSxjQUNBbEIsTUFBQSxTQUFBLEVBQUEsR0FDQSxFQUFBcUYsVUFBQUMsYUFBQWpGLElBREEsR0FDQW5CLEtBQUFjLE1BQUFzRixPQUNBLE9BQUEsSUFBQWdNLEdBQUEsTUFHQSxDQUNBcFEsSUFBQSxhQUNBbEIsTUFBQSxTQUFBeVIsR0FFQSxPQURBdEIsR0FBQXNCLEtBQUFBLEVBQUEsSUFBQUgsR0FBQWpRLE9BQUFvUSxLQUNBQSxFQUFBcUIsU0FBQTVULFFBRUEsQ0FDQWdDLElBQUEsU0FDQWxCLE1BQUEsU0FBQTRMLEVBQUFvSCxFQUFBdkIsR0FDQSxJQUFBUixFQUFBL1IsS0FBQTZVLFlBQUFuSSxFQUFBb0gsR0FNQSxPQUpBLE1BQUF2QixJQUNBUixFQUFBSSxXQUFBblMsS0FBQTBVLFdBQUFuQyxHQUFBSixXQUdBSixJQUVBLENBQ0EvUCxJQUFBLFdBQ0FsQixNQUFBLGNBQ0EsQ0FDQWtCLElBQUEsUUFDQVcsSUFBQSxXQUNBLE9BQUEzQyxLQUFBaVQsU0FFQSxDQUNBalIsSUFBQSxnQkFDQVcsSUFBQSxXQUNBLE9BQUEzQyxLQUFBNFksWUFBQTVZLEtBQUFjLE1BQUEsS0FFQSxDQUNBa0IsSUFBQSxhQUNBVyxJQUFBLFdBQ0EsT0FBQSxJQUVBLENBQ0FYLElBQUEsUUFDQVcsSUFBQSxXQUNBLE1BQUEsQ0FDQXNRLE9BQUFqVCxLQUFBaVQsT0FDQXdGLFlBQUF6WSxLQUFBeVksY0FHQTdULElBQUEsU0FBQTZFLEdBQ0FoSCxPQUFBc0ksT0FBQS9LLEtBQUF5SixPQUlBK08sRUFySUEsR0F3SUFLLEdBRUEsV0FFQSxTQUFBQSxJQUNBLElBQUFDLEVBQUEsRUFBQTNTLFVBQUFDLGFBQUFqRixJQUFBZ0YsVUFBQSxHQUFBQSxVQUFBLEdBQUEsR0FDQWtNLEVBQUEsRUFBQWxNLFVBQUFDLGFBQUFqRixJQUFBZ0YsVUFBQSxHQUFBQSxVQUFBLEdBQUEsRUFFQXdILEdBQUEzTixLQUFBNlksR0FFQTdZLEtBQUE4WSxPQUFBQSxFQUNBOVksS0FBQXFTLEtBQUFBLEVBb0pBLE9BakpBckUsR0FBQTZLLEVBQUEsQ0FBQSxDQUNBN1csSUFBQSxXQUNBbEIsTUFBQSxXQUNBLE9BQUFkLEtBQUE4WSxPQUFBQyxJQUFBNVcsUUFBQTZILEtBQUEsTUFHQSxDQUNBaEksSUFBQSxTQUNBbEIsTUFBQSxTQUFBa1ksR0FDQSxHQUFBN1csT0FBQTZXLEdBQUEsQ0FDQS9ILEdBQUErSCxLQUFBQSxFQUFBLElBQUE1RyxHQUFBalEsT0FBQTZXLEtBQ0EsSUFpQkFDLEVBakJBQyxFQUFBbFosS0FBQThZLE9BQUE5WSxLQUFBOFksT0FBQTFTLE9BQUEsR0FDQStTLEVBQUFELElBQ0FBLEVBQUE1RyxPQUFBMEcsRUFBQTFHLE1BQUEsTUFBQTBHLEVBQUExRyxPQUNBMEcsRUFBQTNHLE9BQUE2RyxFQUFBN0csS0FBQTZHLEVBQUF0WCxXQUFBd0UsT0FFQSxHQUFBNFMsYUFBQTVHLEdBRUErRyxFQUVBRCxFQUFBRSxPQUFBSixFQUFBcFgsWUFHQTVCLEtBQUE4WSxPQUFBM1QsS0FBQTZULFFBRUEsR0FBQUEsYUFBQUgsRUFBQSxDQUNBLEdBQUEsTUFBQUcsRUFBQTFHLEtBSUEsS0FBQTBHLEVBQUFGLE9BQUExUyxRQUFBLE1BQUE0UyxFQUFBRixPQUFBLEdBQUF4RyxPQUNBMkcsRUFBQUQsRUFBQUYsT0FBQU8sU0FDQWhILE1BQUEyRyxFQUFBM0csS0FDQXJTLEtBQUFvWixPQUFBSCxHQUtBRCxFQUFBcFgsYUFFQW9YLEVBQUExRyxLQUFBMEcsRUFBQU0sV0FDQXRaLEtBQUE4WSxPQUFBM1QsS0FBQTZULFFBSUEsQ0FDQWhYLElBQUEsV0FDQWxCLE1BQUEsU0FBQTBSLEdBRUEsS0FBQUEsYUFBQXpTLEdBQUF3VyxlQUVBLE9BREEsSUFBQW5FLEdBQUFwUyxLQUFBNEIsWUFDQWdTLFNBQUFwQixHQUtBLElBRkEsSUFBQVQsRUFBQSxJQUFBRCxHQUVBOEMsRUFBQSxFQUFBQSxFQUFBNVUsS0FBQThZLE9BQUExUyxTQUFBMkwsRUFBQUcsT0FBQTBDLEVBQUEsQ0FDQSxJQWtCQVYsRUFNQXFGLEVBeEJBQyxFQUFBeFosS0FBQThZLE9BQUFsRSxHQUVBNkUsRUFBQWpILEVBQUFrSCxlQUFBbEgsRUFBQTFSLE1BQUFzRixRQUVBa00sRUFBQWtILEVBQUFsSCxLQUNBcUgsT0FBQSxFQUVBLE1BQUFySCxLQUNBbUgsR0FBQUEsRUFBQXRTLE9BQUFtTCxNQUNBa0gsYUFBQVgsR0FDQSxHQUFBckcsRUFBQW9ILE9BQUFsUyxRQUFBNEssS0FDQVAsRUFBQVcsVUFBQUYsRUFBQUcsbUJBQUFMLElBR0FxSCxFQUFBSCxhQUFBWCxHQUFBckcsRUFBQXFILFFBQUF2SCxJQUdBcUgsSUFDQXpGLEVBQUF5RixFQUFBakYsV0FBQThFLElBQ0F0SCxNQUFBLEVBRUFILEVBQUFXLFVBQUF3QixHQUNBMUIsRUFBQVMsUUFBQWlCLEVBQUFsQyxVQUVBdUgsRUFBQUMsRUFBQTVYLFdBQUF5QixNQUFBNlEsRUFBQWpDLFlBQUE3TCxVQUNBMkwsRUFBQVcsVUFBQUYsRUFBQUMsT0FBQThHLEVBQUEsQ0FDQWhILE1BQUEsTUFHQVIsRUFBQVcsVUFBQUYsRUFBQUMsT0FBQStHLEVBQUE1WCxXQUFBLENBQ0EyUSxNQUFBLEtBSUEsT0FBQVIsSUFFQSxDQUNBL1AsSUFBQSxjQUNBbEIsTUFBQSxTQUFBOFIsR0FDQSxHQUFBNVMsS0FBQXFTLE1BQUFPLElBQUE1UyxLQUFBOFksT0FBQTFTLE9BQUEsTUFBQSxHQUlBLElBSEEsSUFBQTBULEVBQUFsSCxFQUFBNVMsS0FBQXFTLEtBQ0F1QyxFQUFBLEVBRUFBLEVBQUE1VSxLQUFBOFksT0FBQTFTLFFBQUEsQ0FDQSxJQUFBb1QsRUFBQXhaLEtBQUE4WSxPQUFBbEUsR0FDQS9CLEVBQUEyRyxFQUFBL0UsWUFBQXFGLEdBRUEsR0FBQU4sRUFBQTVYLFdBQUEsQ0FHQSxJQUFBaVIsRUFBQSxRQUNBK0IsT0FHQTVVLEtBQUE4WSxPQUFBaUIsT0FBQW5GLEVBQUEsR0FHQSxHQUFBL0IsRUFBQSxPQUFBQSxFQUdBLE1BQUEsS0FFQSxDQUNBN1EsSUFBQSxRQUNBVyxJQUFBLFdBQ0EsTUFBQSxDQUNBbVcsT0FBQTlZLEtBQUE4WSxPQUFBQyxJQUFBLFNBQUFpQixHQUNBLE9BQUFBLEVBQUF2USxRQUVBNEksS0FBQXJTLEtBQUFxUyxLQUNBQyxLQUFBdFMsS0FBQXNTLEtBQ0FnSCxXQUFBdFosS0FBQXNaLGFBR0ExVSxJQUFBLFNBQUE2RSxHQUNBLElBQUFxUCxFQUFBclAsRUFBQXFQLE9BQ0EvSyxFQUFBZSxHQUFBckYsRUFBQSxDQUFBLFdBRUFoSCxPQUFBc0ksT0FBQS9LLEtBQUErTixHQUNBL04sS0FBQThZLE9BQUFBLEVBQUFDLElBQUEsU0FBQWtCLEdBQ0EsSUFBQVQsRUFBQSxJQUFBLFdBQUFTLEVBQUFwQixFQUFBekcsSUFHQSxPQURBb0gsRUFBQS9QLE1BQUF3USxFQUNBVCxRQUtBWCxFQTdKQSxHQWtLQXZDLEdBRUEsV0FHQSxTQUFBQSxJQUdBLE9BRkEzSSxHQUFBM04sS0FBQXNXLEdBRUFuSCxHQUFBblAsS0FBQXdPLEdBQUE4SCxHQUFBd0IsTUFBQTlYLEtBQUFtRyxZQW1CQSxPQXhCQWdJLEdBQUFtSSxFQXlCQXRELElBakJBaEYsR0FBQXNJLEVBQUEsQ0FBQSxDQUNBdFUsSUFBQSxVQU1BbEIsTUFBQSxTQUFBZ1MsR0FDQUEsRUFBQXNELE9BQUF0RCxFQUFBc0MsU0FBQSxTQUFBdFUsR0FDQSxPQUFBLEdBQUFBLEVBQUFvWixPQUFBcEgsRUFBQXNELFFBR0E1RyxHQUFBaEIsR0FBQThILEVBQUExTixXQUFBLFVBQUE1SSxNQUFBNkIsS0FBQTdCLEtBQUE4UyxPQUlBd0QsRUF6QkEsR0EyQkF2VyxHQUFBdVcsYUFBQUEsR0FVQSxJQUFBQyxHQUVBLFdBVUEsU0FBQUEsSUFDQSxJQUFBekQsRUFBQSxFQUFBM00sVUFBQUMsYUFBQWpGLElBQUFnRixVQUFBLEdBQUFBLFVBQUEsR0FBQSxHQU1BLE9BSkF3SCxHQUFBM04sS0FBQXVXLEdBR0F6RCxFQUFBcUgsWUFBQTFYLE9BQUFzSSxPQUFBLEdBQUFvTSxHQUFBckUsRUFBQXFILGFBQ0FoTCxHQUFBblAsS0FBQXdPLEdBQUErSCxHQUFBMVUsS0FBQTdCLEtBQUF5QyxPQUFBc0ksT0FBQSxHQUFBd0wsRUFBQXBELFNBQUEsR0FBQUwsS0Ewb0JBLE9BMXBCQTNFLEdBQUFvSSxFQTJwQkF2RCxJQW5vQkFoRixHQUFBdUksRUFBQSxDQUFBLENBQ0F2VSxJQUFBLFVBQ0FsQixNQUFBLFNBQUEsR0FDQSxJQUFBZ1MsRUFBQSxFQUFBM00sVUFBQUMsYUFBQWpGLElBREEsRUFBQSxFQUNBLEdBQ0EyUixFQUFBcUgsWUFBQTFYLE9BQUFzSSxPQUFBLEdBQUEvSyxLQUFBbWEsWUFBQXJILEVBQUFxSCxhQUVBM0ssR0FBQWhCLEdBQUErSCxFQUFBM04sV0FBQSxVQUFBNUksTUFBQTZCLEtBQUE3QixLQUFBOFMsR0FFQTlTLEtBQUFvYSxpQkFJQSxDQUNBcFksSUFBQSxlQUNBbEIsTUFBQSxXQUNBLElBQUF1WixFQUFBcmEsS0FFQXNhLEVBQUF0YSxLQUFBbWEsWUFDQW5hLEtBQUE2WixRQUFBLEdBQ0E3WixLQUFBNFosT0FBQSxHQUNBNVosS0FBQXVhLGNBQUEsR0FDQSxJQUFBQyxFQUFBeGEsS0FBQW9XLEtBQ0EsR0FBQW9FLEdBQUFGLEVBSUEsSUFIQSxJQUFBRyxHQUFBLEVBQ0FDLEdBQUEsRUFFQWxULEVBQUEsRUFBQUEsRUFBQWdULEVBQUFwVSxTQUFBb0IsRUFBQSxDQUNBLEdBQUF4SCxLQUFBMmEsT0FtQ0EsR0FBQSxhQWxDQSxXQUNBLElBQUE5TCxFQUFBMkwsRUFBQW5YLE1BQUFtRSxHQUNBb1QsRUFBQW5ZLE9BQUFpRCxLQUFBMlUsRUFBQU0sUUFBQUUsT0FBQSxTQUFBQyxHQUNBLE9BQUEsSUFBQWpNLEVBQUFuSCxRQUFBb1QsS0FHQUYsRUFBQUcsS0FBQSxTQUFBcFgsRUFBQXNILEdBQ0EsT0FBQUEsRUFBQTdFLE9BQUF6QyxFQUFBeUMsU0FHQSxJQUFBMFUsRUFBQUYsRUFBQSxHQUVBLEdBQUFFLEVBQUEsQ0FDQSxJQUFBRSxFQUFBaEUsR0FBQXZVLE9BQUFzSSxPQUFBLENBQ0FzSyxPQUFBZ0YsRUFDQTNDLEtBQUEyQyxFQUFBM0MsS0FDQUMsZ0JBQUEwQyxFQUFBMUMsZ0JBQ0FuRCxVQUFBNkYsRUFBQTdGLFdBQ0E2RixFQUFBTSxPQUFBRyxLQVlBLE9BVkFFLElBQ0FYLEVBQUFSLFFBQUExVSxLQUFBNlYsR0FHQVgsRUFBQUUsY0FBQU8sS0FBQVQsRUFBQUUsY0FBQU8sR0FBQSxJQUVBVCxFQUFBRSxjQUFBTyxHQUFBM1YsS0FBQWtWLEVBQUFSLFFBQUF6VCxPQUFBLElBR0FvQixHQUFBc1QsRUFBQTFVLE9BQUEsRUFDQSxZQTlCQSxHQWtDQSxTQUdBLElBQUF1UyxFQUFBNkIsRUFBQWhULEdBRUF5VCxFQUFBdEMsS0FBQTJCLEVBRUEsR0FBQTNCLElBQUFwQyxFQUFBMkUsVUFNQSxHQUFBLE1BQUF2QyxHQUFBLE1BQUFBLEVBS0EsR0FBQSxNQUFBQSxHQUFBLE1BQUFBLEVBQUEsQ0FLQSxHQUFBQSxJQUFBcEMsRUFBQTRFLFlBQUEsQ0FHQSxLQURBeEMsRUFBQTZCLElBREFoVCxJQUVBLE1BQ0F5VCxHQUFBLEVBR0EsSUFBQUcsRUFBQUgsRUFBQSxJQUFBM0QsR0FBQSxDQUNBakMsT0FBQXJWLEtBQ0EwWCxLQUFBMVgsS0FBQTBYLEtBQ0FDLGdCQUFBM1gsS0FBQTJYLGdCQUNBdkIsS0FBQWtFLEVBQUEzQixHQUNBbEIsV0FBQWlELElBQ0EsSUFBQWxDLEdBQUEsQ0FDQUcsS0FBQUEsRUFDQUMsWUFBQTZCLElBR0F6YSxLQUFBNlosUUFBQTFVLEtBQUFpVyxRQXRCQVYsR0FBQUEsT0FMQUQsR0FBQUEsT0FOQXphLEtBQUE0WixPQUFBelUsS0FBQW5GLEtBQUE2WixRQUFBelQsV0F3Q0EsQ0FDQXBFLElBQUEsUUFLQWxCLE1BQUEsV0FDQTBPLEdBQUFoQixHQUFBK0gsRUFBQTNOLFdBQUEsUUFBQTVJLE1BQUE2QixLQUFBN0IsTUFFQUEsS0FBQTZaLFFBQUF0TyxRQUFBLFNBQUFOLEdBQ0EsT0FBQUEsRUFBQXNJLFlBT0EsQ0FDQXZSLElBQUEsV0FLQWxCLE1BQUEsV0FDQWQsS0FBQTZaLFFBQUF0TyxRQUFBLFNBQUFOLEdBQ0EsT0FBQUEsRUFBQXVJLGFBR0FoRSxHQUFBaEIsR0FBQStILEVBQUEzTixXQUFBLFdBQUE1SSxNQUFBNkIsS0FBQTdCLFFBTUEsQ0FDQWdDLElBQUEsYUFLQWxCLE1BQUEsU0FBQXlSLEdBQ0EsT0FBQS9DLEdBQUFoQixHQUFBK0gsRUFBQTNOLFdBQUEsYUFBQTVJLE1BQUE2QixLQUFBN0IsS0FBQXVTLEdBQUFHLFVBQUExUyxLQUFBMlMsd0JBTUEsQ0FDQTNRLElBQUEsaUJBQ0FsQixNQUFBLFNBQUErUyxFQUFBLEdBQ0EsSUFBQUMsRUFBQSxFQUFBM04sVUFBQUMsYUFBQWpGLElBREEsRUFBQSxFQUNBLEdBQ0EwUyxFQUFBN1QsS0FBQStULFVBQUFGLEVBQUFDLEdBRUEsSUFBQXVILEVBQUFyYixLQUFBMFosZUFBQTFaLEtBQUFjLE1BQUFzRixRQUVBMkwsRUFBQSxJQUFBRCxHQUNBLElBQUF1SixFQUFBLE9BQUF0SixFQUVBLElBQUEsSUFBQXVKLEVBQUFELEVBQUFsVSxTQUFBbVUsRUFBQSxDQUNBLElBQUFDLEVBQUF2YixLQUFBNlosUUFBQXlCLEdBQ0EsSUFBQUMsRUFBQSxNQUVBLElBQUFDLEVBQUFELEVBQUExRyxZQUFBaEIsRUFBQUMsR0FFQTVCLEVBQUFzSixFQUFBdEosS0FFQSxHQURBSCxFQUFBVyxVQUFBOEksR0FDQXRKLEdBQUFzSixFQUFBdkosWUFBQSxNQUdBLE9BQUFGLElBTUEsQ0FDQS9QLElBQUEsY0FDQWxCLE1BQUEsU0FBQSxFQUFBLEdBQ0EsSUFBQTJhLEVBQUF6YixLQUVBeVQsRUFBQSxFQUFBdE4sVUFBQUMsYUFBQWpGLElBSEEsRUFBQSxFQUdBLEVBQ0F1UyxFQUFBLEVBQUF2TixVQUFBQyxhQUFBakYsSUFKQSxFQUFBLEVBSUFuQixLQUFBYyxNQUFBc0YsT0FDQXNWLEVBQUEsSUFBQTdDLEdBQ0EsT0FBQXBGLElBQUFDLEdBRUExVCxLQUFBMmIsc0JBQUFsSSxFQUFBQyxFQUFBLFNBQUF6SSxFQUFBcVEsRUFBQU0sRUFBQUMsR0FDQSxJQUFBQyxFQUFBN1EsRUFBQTJLLFlBQUFnRyxFQUFBQyxHQUNBQyxFQUFBeEosS0FBQW1KLEVBQUFNLGdCQUFBVCxHQUNBUSxFQUFBekosS0FBQW9KLEVBQUFPLGVBQUFWLEdBQ0FRLGFBQUFqRCxLQUFBaUQsRUFBQXhDLFdBQUFnQyxHQUNBSSxFQUFBdEMsT0FBQTBDLEtBUEFKLElBZ0JBLENBQ0ExWixJQUFBLGVBQ0FsQixNQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsSUFBQTJTLEVBQUEsRUFBQXROLFVBQUFDLGFBQUFqRixJQURBLEVBQUEsRUFDQSxFQUNBdVMsRUFBQSxFQUFBdk4sVUFBQUMsYUFBQWpGLElBRkEsRUFBQSxFQUVBbkIsS0FBQWMsTUFBQXNGLE9BQ0EwTixFQUFBLEVBQUEzTixVQUFBQyxhQUFBakYsSUFIQSxFQUFBLEVBR0EsR0FDQSxHQUFBc1MsSUFBQUMsRUFBQSxNQUFBLEdBQ0EsSUFBQWpTLEVBQUEsR0FNQSxPQUpBekIsS0FBQTJiLHNCQUFBbEksRUFBQUMsRUFBQSxTQUFBekksRUFBQWdSLEVBQUF4SSxFQUFBQyxHQUNBalMsR0FBQXdKLEVBQUEwSSxhQUFBRixFQUFBQyxFQUFBSSxLQUdBclMsSUFFQSxDQUNBTyxJQUFBLGtCQUNBbEIsTUFBQSxTQUFBd1ksR0FHQSxJQUZBLElBQUE0QyxFQUVBQyxFQUFBLEVBQUFBLEVBQUFuYyxLQUFBNFosT0FBQXhULFNBQUErVixFQUFBLENBQ0EsSUFBQTdKLEVBQUF0UyxLQUFBNFosT0FBQXVDLEdBQ0EsS0FBQTdKLEdBQUFnSCxHQUFBLE1BQUE0QyxFQUFBNUosRUFHQSxPQUFBNEosSUFJQSxDQUNBbGEsSUFBQSxxQkFDQWxCLE1BQUEsU0FBQXNiLEdBQ0EsSUFBQUMsRUFBQXJjLEtBRUErUixFQUFBLElBQUFELEdBQ0EsR0FBQTlSLEtBQUEwWCxNQUFBLE1BQUEwRSxFQUFBLE9BQUFySyxFQUVBLElBQUF1SyxFQUFBdGMsS0FBQTBaLGVBQUExWixLQUFBYyxNQUFBc0YsUUFFQSxJQUFBa1csRUFBQSxPQUFBdkssRUFDQSxJQUFBd0ssRUFBQUQsRUFBQW5WLE1BQ0FxVixFQUFBLE1BQUFKLEVBQUFBLEVBQUFwYyxLQUFBNlosUUFBQXpULE9BY0EsT0FaQXBHLEtBQUE2WixRQUFBeFcsTUFBQWtaLEVBQUFDLEdBQUFqUixRQUFBLFNBQUFOLEdBQ0EsSUFFQXdSLEVBRUFDLEVBSkF6UixFQUFBeU0sTUFBQSxNQUFBMEUsSUFFQUssRUFBQSxNQUFBeFIsRUFBQTRPLFFBQUEsQ0FBQTVPLEVBQUE0TyxRQUFBelQsUUFBQSxHQUVBc1csRUFBQXpSLEVBQUEwSCxtQkFBQW1GLE1BQUE3TSxFQUFBd1IsR0FFQUosRUFBQXBKLFFBQUF5SixFQUFBMUssU0FDQUQsRUFBQVcsVUFBQWdLLE1BSUEzSyxJQUlBLENBQ0EvUCxJQUFBLGlCQUNBbEIsTUFBQSxTQUFBOFIsR0FHQSxJQUZBLElBQUErSixFQUFBLEdBRUFyQixFQUFBLEVBQUFBLEVBQUF0YixLQUFBNlosUUFBQXpULFNBQUFrVixFQUFBLENBQ0EsSUFBQXNCLEVBQUE1YyxLQUFBNlosUUFBQXlCLEdBQ0F1QixFQUFBRixFQUFBdlcsT0FHQSxHQUFBd00sSUFGQStKLEdBQUFDLEVBQUE5YixPQUVBc0YsT0FDQSxNQUFBLENBQ0FlLE1BQUFtVSxFQUNBd0IsT0FBQWxLLEVBQUFpSyxNQU9BLENBQ0E3YSxJQUFBLGlCQUNBbEIsTUFBQSxTQUFBd1ksR0FDQSxPQUFBdFosS0FBQTZaLFFBQUF4VyxNQUFBLEVBQUFpVyxHQUFBeUQsT0FBQSxTQUFBbkssRUFBQTNILEdBQ0EsT0FBQTJILEVBQUEzSCxFQUFBbkssTUFBQXNGLFFBQ0EsS0FJQSxDQUNBcEUsSUFBQSx3QkFDQWxCLE1BQUEsU0FBQTJTLEVBQUEsRUFBQSxHQUNBLElBQUFDLEVBQUEsRUFBQXZOLFVBQUFDLGFBQUFqRixJQURBLEVBQUEsRUFDQW5CLEtBQUFjLE1BQUFzRixPQUNBL0YsRUFBQSxFQUFBOEYsVUFBQUMsT0FGQSxPQUVBakYsRUFFQTZiLEVBQUFoZCxLQUFBMFosZUFBQWpHLEdBRUEsR0FBQXVKLEVBQUEsQ0FDQSxJQUFBQyxFQUFBamQsS0FBQTBaLGVBQUFoRyxHQUdBd0osRUFBQUQsR0FBQUQsRUFBQTdWLFFBQUE4VixFQUFBOVYsTUFDQWdXLEVBQUFILEVBQUFGLE9BQ0FNLEVBQUFILEdBQUFDLEVBQUFELEVBQUFILE9BQUE5YyxLQUFBNlosUUFBQW1ELEVBQUE3VixPQUFBckcsTUFBQXNGLE9BR0EsR0FGQS9GLEVBQUFMLEtBQUE2WixRQUFBbUQsRUFBQTdWLE9BQUE2VixFQUFBN1YsTUFBQWdXLEVBQUFDLEdBRUFILElBQUFDLEVBQUEsQ0FFQSxJQUFBLElBQUE1QixFQUFBMEIsRUFBQTdWLE1BQUEsRUFBQW1VLEVBQUEyQixFQUFBOVYsUUFBQW1VLEVBQ0FqYixFQUFBTCxLQUFBNlosUUFBQXlCLEdBQUFBLEVBQUEsRUFBQXRiLEtBQUE2WixRQUFBeUIsR0FBQXhhLE1BQUFzRixRQUlBL0YsRUFBQUwsS0FBQTZaLFFBQUFvRCxFQUFBOVYsT0FBQThWLEVBQUE5VixNQUFBLEVBQUE4VixFQUFBSCxZQVFBLENBQ0E5YSxJQUFBLFNBQ0FsQixNQUFBLFNBQUEsRUFBQSxHQUNBLElBQUEyUyxFQUFBLEVBQUF0TixVQUFBQyxhQUFBakYsSUFEQSxFQUFBLEVBQ0EsRUFDQXVTLEVBQUEsRUFBQXZOLFVBQUFDLGFBQUFqRixJQUZBLEVBQUEsRUFFQW5CLEtBQUFjLE1BQUFzRixPQUVBaVgsRUFBQTdOLEdBQUFoQixHQUFBK0gsRUFBQTNOLFdBQUEsU0FBQTVJLE1BQUE2QixLQUFBN0IsS0FBQXlULEVBQUFDLEdBTUEsT0FKQTFULEtBQUEyYixzQkFBQWxJLEVBQUFDLEVBQUEsU0FBQXpJLEVBQUFnUixFQUFBTCxFQUFBQyxHQUNBd0IsRUFBQTNLLFVBQUF6SCxFQUFBNkssT0FBQThGLEVBQUFDLE1BR0F3QixJQU1BLENBQ0FyYixJQUFBLGtCQUNBbEIsTUFBQSxTQUFBd1EsRUFBQSxHQUNBLElBQUEyRyxFQUFBLEVBQUE5UixVQUFBQyxhQUFBakYsSUFEQSxFQUFBLEVBQ0FnUSxHQUVBbU0sRUFBQXRkLEtBQUEwWixlQUFBcEksSUFBQSxDQUNBbkssTUFBQSxFQUNBMlYsT0FBQSxHQUVBUyxFQUFBRCxFQUFBUixPQUNBVSxFQUFBRixFQUFBblcsTUFDQXNXLEVBQUF6ZCxLQUFBNlosUUFBQTJELEdBQ0EsSUFBQUMsRUFBQSxPQUFBbk0sRUFDQSxJQUFBb00sRUFBQUgsRUFFQSxJQUFBRyxHQUFBQSxFQUFBRCxFQUFBM2MsTUFBQXNGLFNBQ0FzWCxFQUFBRCxFQUFBNUgsZ0JBQUEwSCxFQXRtREEsU0FBQXRGLEdBQ0EsT0FBQUEsR0FDQSxLQUFBOUcsR0FDQSxPQUFBQSxHQUVBLEtBQUFBLEdBQ0EsT0FBQUEsR0FFQSxRQUNBLE9BQUE4RyxHQTZsREEwRixDQUFBMUYsS0FHQSxJQUFBMkYsRUFBQUYsSUFBQUQsRUFBQTNjLE1BQUFzRixPQUdBLEtBRkEsSUFBQXNYLEtBRUFFLEVBQUEsT0FBQTVkLEtBQUFnYyxlQUFBd0IsR0FBQUUsRUFDQSxJQUFBRyxFQUFBRCxFQUFBSixFQUFBLEVBQUFBLEVBRUEsR0FBQXZGLElBQUE5RyxHQUFBLENBVUEsR0FBQSxFQUFBME0sRUFBQSxDQUNBLElBQUFDLEVBQUFELEVBQUEsRUFDQUUsRUFBQS9kLEtBQUE2WixRQUFBaUUsR0FDQUUsRUFBQUQsRUFBQWxJLGdCQUFBLEVBQUExRSxJQUVBLElBQUE0TSxFQUFBamQsTUFBQXNGLFFBQUE0WCxJQUFBRCxFQUFBamQsTUFBQXNGLE9BQ0EsT0FBQXBHLEtBQUFnYyxlQUFBNkIsR0FPQSxJQUZBLElBRUF2QyxFQUZBdUMsRUFFQXZDLEVBQUF0YixLQUFBNlosUUFBQXpULFNBQUFrVixFQUFBLENBQ0EsSUFBQTJDLEVBQUFqZSxLQUFBNlosUUFBQXlCLEdBRUE0QyxFQUFBRCxFQUFBcEksZ0JBQUEsRUFBQTFFLElBRUEsSUFBQThNLEVBQUFuZCxNQUFBc0YsUUFBQThYLElBQUFELEVBQUFuZCxNQUFBc0YsT0FDQSxPQUFBcEcsS0FBQWdjLGVBQUFWLEdBQUE0QyxFQU1BLElBQUEsSUFBQUMsRUFBQU4sRUFBQSxFQUFBLEdBQUFNLElBQUFBLEVBQUEsQ0FDQSxJQUFBQyxFQUFBcGUsS0FBQTZaLFFBQUFzRSxHQUVBRSxFQUFBRCxFQUFBdkksZ0JBQUEsRUFBQTFFLElBR0EsSUFBQWlOLEVBQUF0ZCxNQUFBc0YsUUFBQWlZLElBQUFELEVBQUF0ZCxNQUFBc0YsT0FDQSxPQUFBcEcsS0FBQWdjLGVBQUFtQyxHQUFBQyxFQUFBdGQsTUFBQXNGLE9BSUEsT0FBQWtMLEVBR0EsR0FBQTJHLElBQUE5RyxJQUFBOEcsSUFBQTlHLEdBQUEsQ0FXQSxJQUZBLElBQUFtTixFQUVBQyxFQUFBVixFQUFBVSxFQUFBdmUsS0FBQTZaLFFBQUF6VCxTQUFBbVksRUFDQSxHQUFBdmUsS0FBQTZaLFFBQUEwRSxHQUFBemQsTUFBQSxDQUNBd2QsRUFBQUMsRUFDQSxNQUlBLEdBQUEsTUFBQUQsRUFBQSxDQUNBLElBQUFFLEVBQUF4ZSxLQUFBNlosUUFBQXlFLEdBRUFHLEVBQUFELEVBQUEzSSxnQkFBQSxFQUFBMUUsSUFFQSxHQUFBLElBQUFzTixHQUFBRCxFQUFBakcsY0FBQW5TLE9BRUEsT0FBQXBHLEtBQUFnYyxlQUFBc0MsR0FBQUcsRUFTQSxJQUhBLElBQ0FDLEVBREFDLEdBQUEsRUFHQUMsRUFBQWYsRUFBQSxFQUFBLEdBQUFlLElBQUFBLEVBQUEsQ0FDQSxJQUFBQyxFQUFBN2UsS0FBQTZaLFFBQUErRSxHQUVBRSxFQUFBRCxFQUFBaEosZ0JBQUFnSixFQUFBL2QsTUFBQXNGLE9BQUErSyxJQUlBLEdBRkEwTixFQUFBL2QsT0FBQSxJQUFBZ2UsSUFBQUosRUFBQUUsR0FFQSxJQUFBRSxFQUFBLENBQ0EsR0FBQUEsSUFBQUQsRUFBQS9kLE1BQUFzRixPQUVBLE9BQUFwRyxLQUFBZ2MsZUFBQTRDLEdBQUFFLEVBR0FILEVBQUFDLEVBQ0EsT0FLQSxHQUFBM0csSUFBQTlHLEdBRUEsSUFBQSxJQUFBNE4sRUFBQUosRUFBQSxFQUFBSSxHQUFBdmUsS0FBQW9HLElBQUFpWCxFQUFBN2QsS0FBQTZaLFFBQUF6VCxPQUFBLEtBQUEyWSxFQUFBLENBQ0EsSUFBQUMsRUFBQWhmLEtBQUE2WixRQUFBa0YsR0FFQUUsRUFBQUQsRUFBQW5KLGdCQUFBLEVBQUExRSxJQUVBK04sRUFBQWxmLEtBQUFnYyxlQUFBK0MsR0FBQUUsRUFFQSxHQUFBM04sRUFBQTROLEVBQUEsTUFFQSxHQUFBRCxJQUFBRCxFQUFBbGUsTUFBQXNGLE9BQUEsT0FBQThZLEVBS0EsR0FBQSxHQUFBUCxFQUNBLE9BQUEzZSxLQUFBZ2MsZUFBQTJDLEdBQUEzZSxLQUFBNlosUUFBQThFLEdBQUE3ZCxNQUFBc0YsT0FJQSxHQUFBNlIsSUFBQTlHLElBQUFuUixLQUFBMFgsT0FBQTFYLEtBQUEyVCxpQkE4SkEsU0FBQXdMLEdBQ0EsSUFBQUEsRUFBQSxPQUFBLEVBQ0EsSUFBQXJlLEVBQUFxZSxFQUFBcmUsTUFDQSxPQUFBQSxHQUFBcWUsRUFBQXRKLGdCQUFBLEVBQUExRSxNQUFBclEsRUFBQXNGLE9BaktBZ1osQ0FBQXBmLEtBQUE2WixRQUFBZ0UsSUFDQSxPQUFBLEVBR0EsR0FBQSxNQUFBYSxFQUNBLE9BQUExZSxLQUFBZ2MsZUFBQTBDLEdBSUEsSUFBQSxJQUFBVyxFQUFBeEIsRUFBQXdCLEVBQUFyZixLQUFBNlosUUFBQXpULFNBQUFpWixFQUFBLENBQ0EsSUFBQUMsRUFBQXRmLEtBQUE2WixRQUFBd0YsR0FFQUUsRUFBQUQsRUFBQXpKLGdCQUFBLEVBQUExRSxJQUdBLElBQUFtTyxFQUFBeGUsTUFBQXNGLFFBQUFtWixJQUFBRCxFQUFBeGUsTUFBQXNGLE9BQ0EsT0FBQXBHLEtBQUFnYyxlQUFBcUQsR0FBQUUsRUFJQSxPQUFBLEVBR0EsR0FBQXRILElBQUE5RyxJQUFBOEcsSUFBQTlHLEdBQUEsQ0FTQSxJQUhBLElBQUFxTyxFQUNBQyxFQUVBQyxFQUFBN0IsRUFBQTZCLEVBQUExZixLQUFBNlosUUFBQXpULFNBQUFzWixFQUFBLENBQ0EsSUFBQUMsRUFBQTNmLEtBQUE2WixRQUFBNkYsR0FFQUUsRUFBQUQsRUFBQTlKLGdCQUFBLEVBQUExRSxJQUVBLEdBQUF5TyxJQUFBRCxFQUFBN2UsTUFBQXNGLE9BQUEsQ0FDQXFaLEVBQUF6ZixLQUFBZ2MsZUFBQTBELEdBQUFFLEVBQ0FKLEVBQUFFLEVBQ0EsT0FJQSxHQUFBLE1BQUFGLEdBQUEsTUFBQUMsRUFBQSxDQUNBLElBQUEsSUFBQUksRUFBQUwsRUFBQUssRUFBQTdmLEtBQUE2WixRQUFBelQsU0FBQXlaLEVBQUEsQ0FDQSxJQUFBQyxFQUFBOWYsS0FBQTZaLFFBQUFnRyxHQUVBRSxFQUFBRCxFQUFBakssZ0JBQUEsRUFBQTFFLElBRUEsR0FBQTRPLElBQUFELEVBQUFoZixNQUFBc0YsT0FDQSxPQUFBcEcsS0FBQWdjLGVBQUE2RCxHQUFBRSxFQUlBLE9BQUE5SCxJQUFBOUcsR0FBQW5SLEtBQUFjLE1BQUFzRixPQUFBcVosRUFHQSxJQUFBLElBQUFPLEVBQUF4ZixLQUFBb0csSUFBQWlYLEVBQUE3ZCxLQUFBNlosUUFBQXpULE9BQUEsR0FBQSxHQUFBNFosSUFBQUEsRUFBQSxDQUNBLElBQUFDLEVBQUFqZ0IsS0FBQTZaLFFBQUFtRyxHQUVBRSxFQUFBRCxFQUFBcEssZ0JBQUFvSyxFQUFBbmYsTUFBQXNGLE9BQUErSyxJQUVBLEdBQUEsSUFBQStPLEVBQUEsQ0FDQSxJQUFBQyxFQUFBbmdCLEtBQUFnYyxlQUFBZ0UsR0FBQUUsRUFFQSxHQUFBNU8sR0FBQTZPLEVBQUEsT0FBQUEsRUFDQSxRQUtBLE9BQUE3TyxJQUlBLENBQ0F0UCxJQUFBLGNBQ0FsQixNQUFBLFNBQUFzZixHQUNBLE9BQUFwZ0IsS0FBQXFnQixhQUFBRCxHQUFBLEtBSUEsQ0FDQXBlLElBQUEsZUFDQWxCLE1BQUEsU0FBQXNmLEdBQ0EsSUFBQUUsRUFBQXRnQixLQUVBdWdCLEVBQUF2Z0IsS0FBQXVhLGNBQUE2RixHQUNBLE9BQUFHLEVBQ0FBLEVBQUF4SCxJQUFBLFNBQUF5SCxHQUNBLE9BQUFGLEVBQUF6RyxRQUFBMkcsS0FGQSxLQUtBLENBQ0F4ZSxJQUFBLFFBQ0FXLElBQUEsV0FDQSxPQUFBRixPQUFBc0ksT0FBQSxHQUFBeUUsR0FBQWhCLEdBQUErSCxFQUFBM04sV0FBQSxRQUFBNUksTUFBQSxDQUNBNlosUUFBQTdaLEtBQUE2WixRQUFBZCxJQUFBLFNBQUE5TixHQUNBLE9BQUFBLEVBQUF4QixXQUlBN0UsSUFBQSxTQUFBNkUsR0FDQSxJQUFBb1EsRUFBQXBRLEVBQUFvUSxRQUNBNEcsRUFBQTNSLEdBQUFyRixFQUFBLENBQUEsWUFFQXpKLEtBQUE2WixRQUFBdE8sUUFBQSxTQUFBTixFQUFBcVEsR0FDQSxPQUFBclEsRUFBQXhCLE1BQUFvUSxFQUFBeUIsS0FHQXhMLEdBQUF0QixHQUFBK0gsRUFBQTNOLFdBQUEsUUFBQTZYLEVBQUF6Z0IsTUFBQSxLQUVBLENBQ0FnQyxJQUFBLGFBQ0FXLElBQUEsV0FDQSxPQUFBM0MsS0FBQTZaLFFBQUE2RyxNQUFBLFNBQUF6VixHQUNBLE9BQUFBLEVBQUFtTixlQUdBLENBQ0FwVyxJQUFBLGdCQUNBVyxJQUFBLFdBQ0EsT0FBQTNDLEtBQUE2WixRQUFBa0QsT0FBQSxTQUFBclEsRUFBQXpCLEdBQ0EsT0FBQXlCLEVBQUF6QixFQUFBc04sZUFDQSxLQUVBM1QsSUFBQSxTQUFBMlQsR0FDQXpJLEdBQUF0QixHQUFBK0gsRUFBQTNOLFdBQUEsZ0JBQUEyUCxFQUFBdlksTUFBQSxLQU1BLENBQ0FnQyxJQUFBLFFBQ0FXLElBQUEsV0FFQSxPQUFBM0MsS0FBQTZaLFFBQUFrRCxPQUFBLFNBQUFyUSxFQUFBekIsR0FDQSxPQUFBeUIsRUFBQXpCLEVBQUFuSyxPQUNBLEtBRUE4RCxJQUFBLFNBQUE5RCxHQUNBZ1AsR0FBQXRCLEdBQUErSCxFQUFBM04sV0FBQSxRQUFBOUgsRUFBQWQsTUFBQSxPQUlBdVcsRUEzcEJBLEdBNnBCQUEsR0FBQXBELFNBQUEsQ0FDQXVFLE1BQUEsRUFDQUMsZ0JBQUEsS0FFQXBCLEdBQUEyRSxVQUFBLElBQ0EzRSxHQUFBNEUsWUFBQSxLQUNBNUUsR0FBQW9LLGdCQUFBckosR0FDQWYsR0FBQXFLLGdCQUFBcEksR0FRQXpZLEdBQUF3VyxjQUFBQSxHQUlBLElBQUFzSyxHQUVBLFdBR0EsU0FBQUEsSUFHQSxPQUZBbFQsR0FBQTNOLEtBQUE2Z0IsR0FFQTFSLEdBQUFuUCxLQUFBd08sR0FBQXFTLEdBQUEvSSxNQUFBOVgsS0FBQW1HLFlBaUlBLE9BdElBZ0ksR0FBQTBTLEVBdUlBdEssSUEvSEF2SSxHQUFBNlMsRUFBQSxDQUFBLENBQ0E3ZSxJQUFBLFVBS0FsQixNQUFBLFNBQUFnUyxHQUVBQSxFQUFBclEsT0FBQXNJLE9BQUEsQ0FDQStWLEdBQUE5Z0IsS0FBQThnQixJQUFBLEVBQ0F6TyxLQUFBclMsS0FBQXFTLE1BQUEsR0FDQVMsR0FDQSxJQUFBL0csRUFBQTVKLE9BQUEyUSxFQUFBZ08sSUFBQTFhLE9BQ0EsTUFBQTBNLEVBQUEvRyxZQUFBQSxFQUFBdkwsS0FBQTRHLElBQUEyRSxFQUFBK0csRUFBQS9HLFlBQ0ErRyxFQUFBL0csVUFBQUEsRUFLQSxJQUpBLElBQUFnVixFQUFBNWUsT0FBQTJRLEVBQUFULE1BQUFuQixTQUFBbkYsRUFBQSxLQUNBaVYsRUFBQTdlLE9BQUEyUSxFQUFBZ08sSUFBQTVQLFNBQUFuRixFQUFBLEtBQ0FrVixFQUFBLEVBRUFBLEVBQUFELEVBQUE1YSxRQUFBNGEsRUFBQUMsS0FBQUYsRUFBQUUsTUFDQUEsRUFHQW5PLEVBQUFzRCxLQUFBNEssRUFBQTNkLE1BQUEsRUFBQTRkLEdBQUF0VyxRQUFBLEtBQUEsT0FBQSxJQUFBNkIsT0FBQVQsRUFBQWtWLEdBRUF6UixHQUFBaEIsR0FBQXFTLEVBQUFqWSxXQUFBLFVBQUE1SSxNQUFBNkIsS0FBQTdCLEtBQUE4UyxLQU1BLENBQ0E5USxJQUFBLGFBQ0FsQixNQUFBLFNBQUE0TCxHQUNBLElBQUF3VSxFQUFBLEdBQ0FDLEVBQUEsR0FHQUMsRUFBQW5SLEdBREF2RCxFQUFBMlUsTUFBQSxxQkFBQSxHQUNBLEdBQ0FDLEVBQUFGLEVBQUEsR0FDQUcsRUFBQUgsRUFBQSxHQVNBLE9BUEFHLElBQ0FMLEVBQUEsSUFBQTFVLE9BQUE4VSxFQUFBbGIsUUFBQW1iLEVBQ0FKLEVBQUEsSUFBQTNVLE9BQUE4VSxFQUFBbGIsUUFBQW1iLEdBS0EsQ0FGQUwsRUFBQUEsRUFBQTdULE9BQUFyTixLQUFBK0wsVUFBQSxLQUNBb1YsRUFBQUEsRUFBQTlULE9BQUFyTixLQUFBK0wsVUFBQSxRQU9BLENBQ0EvSixJQUFBLFlBQ0FsQixNQUFBLFNBQUE0TCxFQUFBLEdBQ0EsSUFBQW9ILEVBQUEsRUFBQTNOLFVBQUFDLGFBQUFqRixJQURBLEVBQUEsRUFDQSxHQUVBLEdBREF1TCxFQUFBOEMsR0FBQWhCLEdBQUFxUyxFQUFBalksV0FBQSxZQUFBNUksTUFBQTZCLEtBQUE3QixLQUFBME0sRUFBQW9ILEdBQUFuSixRQUFBLE1BQUEsS0FDQTNLLEtBQUF3aEIsUUFBQSxPQUFBOVUsRUFNQSxJQUxBLElBQUFxVSxFQUFBNWUsT0FBQW5DLEtBQUFxUyxNQUFBbkIsU0FBQWxSLEtBQUErTCxVQUFBLEtBQ0FpVixFQUFBN2UsT0FBQW5DLEtBQUE4Z0IsSUFBQTVQLFNBQUFsUixLQUFBK0wsVUFBQSxLQUNBcEssRUFBQTNCLEtBQUFjLE1BQ0EyZ0IsRUFBQSxHQUVBN00sRUFBQSxFQUFBQSxFQUFBbEksRUFBQXRHLFNBQUF3TyxFQUFBLENBQ0EsSUFBQThNLEVBQUEvZixFQUFBOGYsRUFBQS9VLEVBQUFrSSxHQUdBK00sRUFBQTFSLEdBREFqUSxLQUFBNGhCLFdBQUFGLEdBQ0EsR0FDQVIsRUFBQVMsRUFBQSxHQUNBUixFQUFBUSxFQUFBLEdBRUFqTCxPQUFBeUssR0FBQW5oQixLQUFBcVMsS0FBQW9QLEdBQUFWLEVBQUFXLEVBQUF0YixPQUFBLEdBQUFzUSxPQUFBd0ssR0FBQWxoQixLQUFBOGdCLEdBQUFXLEdBQUFULEVBQUFVLEVBQUF0YixPQUFBLEdBQUFxYixHQUFBL1UsRUFBQWtJLEdBR0EsT0FBQTZNLElBTUEsQ0FDQXpmLElBQUEsYUFDQWxCLE1BQUEsV0FDQSxJQUFBK2dCLEVBRUFuVixFQUFBMU0sS0FBQWMsTUFFQSxJQUFBLElBREE0TCxFQUFBd04sT0FBQSxTQUNBeE4sRUFBQXRHLFFBQUFwRyxLQUFBOGhCLFdBQUEsT0FBQSxFQU9BLElBTEEsSUFDQUMsRUFBQTlSLEdBREFqUSxLQUFBNGhCLFdBQUFsVixHQUNBLEdBQ0F3VSxFQUFBYSxFQUFBLEdBQ0FaLEVBQUFZLEVBQUEsR0FFQUMsRUFBQTdiLFVBQUFDLE9BQUFxVyxFQUFBLElBQUF0TSxNQUFBNlIsR0FBQUMsRUFBQSxFQUFBQSxFQUFBRCxFQUFBQyxJQUNBeEYsRUFBQXdGLEdBQUE5YixVQUFBOGIsR0FHQSxPQUFBamlCLEtBQUFxUyxNQUFBcUUsT0FBQXlLLElBQUF6SyxPQUFBd0ssSUFBQWxoQixLQUFBOGdCLEtBQUFlLEVBQUFyUyxHQUFBaEIsR0FBQXFTLEVBQUFqWSxXQUFBLGFBQUE1SSxPQUFBNkIsS0FBQWlXLE1BQUErSixFQUFBLENBQUE3aEIsTUFBQW9LLE9BQUFxUyxNQUVBLENBQ0F6YSxJQUFBLGFBWUFXLElBQUEsV0FDQSxPQUFBM0MsS0FBQStMLFVBQUE1SixPQUFBbkMsS0FBQXFTLE1BQUFqTSxTQUVBLENBQ0FwRSxJQUFBLGFBQ0FXLElBQUEsV0FDQSxPQUFBNk0sR0FBQWhCLEdBQUFxUyxFQUFBalksV0FBQSxhQUFBNUksT0FBQTRYLFFBQUE1WCxLQUFBYyxXQUlBK2YsRUF2SUEsR0F5SUE5Z0IsR0FBQThnQixZQUFBQSxHQUlBLElBQUFwSyxHQUVBLFdBY0EsU0FBQUEsRUFBQTNELEdBR0EsT0FGQW5GLEdBQUEzTixLQUFBeVcsR0FFQXRILEdBQUFuUCxLQUFBd08sR0FBQWlJLEdBQUE1VSxLQUFBN0IsS0FBQXlDLE9BQUFzSSxPQUFBLEdBQUEwTCxFQUFBdEQsU0FBQSxHQUFBTCxLQXFGQSxPQXJHQTNFLEdBQUFzSSxFQXNHQUYsSUEvRUF2SSxHQUFBeUksRUFBQSxDQUFBLENBQ0F6VSxJQUFBLFVBQ0FsQixNQUFBLFNBQUFnUyxHQUNBQSxFQUFBc0QsT0FBQUksYUFBQTFELEVBQUFzRCxLQUNBdEQsRUFBQTBILFVBQUExSCxFQUFBc0QsS0FBQXRELEVBQUEwSCxTQUNBLElBQUFHLEVBQUE3SCxFQUFBNkgsT0FDQTdILEVBQUE2SCxPQUFBbFksT0FBQXNJLE9BQUEsR0FBQTBMLEVBQUF5TCxzQkFFQXBQLEVBQUFsTSxNQUFBa00sRUFBQTZILE9BQUF3SCxFQUFBOVAsS0FBQVMsRUFBQWxNLElBQUF3YixlQUNBdFAsRUFBQTFMLE1BQUEwTCxFQUFBNkgsT0FBQXdILEVBQUFyQixHQUFBaE8sRUFBQTFMLElBQUFnYixlQUVBdFAsRUFBQWxNLEtBQUFrTSxFQUFBMUwsS0FBQTBMLEVBQUE2SCxPQUFBd0gsRUFBQTlQLE9BQUFTLEVBQUE2SCxPQUFBd0gsRUFBQXJCLEtBQ0FoTyxFQUFBNkgsT0FBQTBILEVBQUFoUSxLQUFBUyxFQUFBbE0sSUFBQTBiLFdBQUEsRUFDQXhQLEVBQUE2SCxPQUFBMEgsRUFBQXZCLEdBQUFoTyxFQUFBMUwsSUFBQWtiLFdBQUEsRUFFQXhQLEVBQUE2SCxPQUFBMEgsRUFBQWhRLE9BQUFTLEVBQUE2SCxPQUFBMEgsRUFBQXZCLEtBQ0FoTyxFQUFBNkgsT0FBQTRILEVBQUFsUSxLQUFBUyxFQUFBbE0sSUFBQTRiLFVBQ0ExUCxFQUFBNkgsT0FBQTRILEVBQUF6QixHQUFBaE8sRUFBQTFMLElBQUFvYixZQUlBL2YsT0FBQXNJLE9BQUErSCxFQUFBNkgsT0FBQUEsR0FFQWxZLE9BQUFpRCxLQUFBb04sRUFBQTZILFFBQUFwUCxRQUFBLFNBQUFrWCxHQUNBLElBQUF4WCxFQUFBNkgsRUFBQTZILE9BQUE4SCxHQUNBLFlBQUF4WCxJQUFBQSxFQUFBdVcsUUFBQTFPLEVBQUEwTyxXQUdBaFMsR0FBQWhCLEdBQUFpSSxFQUFBN04sV0FBQSxVQUFBNUksTUFBQTZCLEtBQUE3QixLQUFBOFMsS0FNQSxDQUNBOVEsSUFBQSxhQUNBbEIsTUFBQSxXQUtBLElBSkEsSUFBQStnQixFQUVBYSxFQUFBMWlCLEtBQUEwaUIsS0FFQVYsRUFBQTdiLFVBQUFDLE9BQUFxVyxFQUFBLElBQUF0TSxNQUFBNlIsR0FBQUMsRUFBQSxFQUFBQSxFQUFBRCxFQUFBQyxJQUNBeEYsRUFBQXdGLEdBQUE5YixVQUFBOGIsR0FHQSxPQUFBSixFQUFBclMsR0FBQWhCLEdBQUFpSSxFQUFBN04sV0FBQSxhQUFBNUksT0FBQTZCLEtBQUFpVyxNQUFBK0osRUFBQSxDQUFBN2hCLE1BQUFvSyxPQUFBcVMsT0FBQXpjLEtBQUFvWSxZQUFBcFksS0FBQTJpQixZQUFBM2lCLEtBQUFjLFFBQUEsTUFBQTRoQixJQUFBLE1BQUExaUIsS0FBQTRHLEtBQUE1RyxLQUFBNEcsS0FBQThiLEtBQUEsTUFBQTFpQixLQUFBb0gsS0FBQXNiLEdBQUExaUIsS0FBQW9ILFFBSUEsQ0FDQXBGLElBQUEsY0FDQWxCLE1BQUEsU0FBQTRMLEdBQ0EsT0FBQSxHQUFBMU0sS0FBQXVWLE9BQUF2VixLQUFBd1YsTUFBQTlJLEVBQUExTSxNQUFBQSxNQUFBMEgsUUFBQWdGLEtBSUEsQ0FDQTFLLElBQUEsT0FDQVcsSUFBQSxXQUNBLE9BQUEzQyxLQUFBNGlCLFlBRUFoZSxJQUFBLFNBQUE4ZCxHQUNBMWlCLEtBQUE0aUIsV0FBQUYsSUFNQSxDQUNBMWdCLElBQUEsYUFDQVcsSUFBQSxXQUNBLE9BQUEzQyxLQUFBb1ksV0FBQTVJLEdBQUFoQixHQUFBaUksRUFBQTdOLFdBQUEsYUFBQTVJLE1BQUEsTUFFQTRFLElBQUEsU0FBQTlELEdBQ0FnUCxHQUFBdEIsR0FBQWlJLEVBQUE3TixXQUFBLGFBQUE5SCxFQUFBZCxNQUFBLE9BSUF5VyxFQXRHQSxHQXdHQUEsR0FBQXRELFNBQUEsQ0FDQXFILFFBQUEsY0FDQWpGLE9BQUEsU0FBQW1OLEdBSUEsTUFBQSxDQUhBdmdCLE9BQUF1Z0IsRUFBQUYsV0FBQXRSLFNBQUEsRUFBQSxLQUNBL08sT0FBQXVnQixFQUFBSixXQUFBLEdBQUFwUixTQUFBLEVBQUEsS0FDQXdSLEVBQUFOLGVBQ0FwWSxLQUFBLE1BRUF3TCxNQUFBLFNBQUE5SSxHQUNBLElBQ0FtVyxFQUFBNVMsR0FEQXZELEVBQUF0SixNQUFBLEtBQ0EsR0FDQTBmLEVBQUFELEVBQUEsR0FDQUUsRUFBQUYsRUFBQSxHQUNBRyxFQUFBSCxFQUFBLEdBRUEsT0FBQSxJQUFBck0sS0FBQXdNLEVBQUFELEVBQUEsRUFBQUQsS0FJQXJNLEdBQUF5TCxtQkFBQSxXQUNBLE1BQUEsQ0FDQUssRUFBQSxDQUNBbk0sS0FBQXlLLEdBQ0F4TyxLQUFBLEVBQ0F5TyxHQUFBLEdBQ0EvVSxVQUFBLEdBRUFzVyxFQUFBLENBQ0FqTSxLQUFBeUssR0FDQXhPLEtBQUEsRUFDQXlPLEdBQUEsR0FDQS9VLFVBQUEsR0FFQW9XLEVBQUEsQ0FDQS9MLEtBQUF5SyxHQUNBeE8sS0FBQSxLQUNBeU8sR0FBQSxRQUtBL2dCLEdBQUEwVyxXQUFBQSxHQU1BLElBQUF3TSxHQUVBLFdBQ0EsU0FBQUEsSUFDQXRWLEdBQUEzTixLQUFBaWpCLEdBc0VBLE9BbkVBalYsR0FBQWlWLEVBQUEsQ0FBQSxDQUNBamhCLElBQUEsU0FHQWxCLE1BQUEsU0FBQWlNLEVBQUFDLEdBQ0EsR0FBQSxNQUFBRCxHQUFBLE1BQUFDLElBQUFELElBQUEvTSxLQUFBa2pCLGdCQUFBbFcsSUFBQWhOLEtBQUFtakIsY0FFQSxJQUNBbmpCLEtBQUFvakIsY0FBQXJXLEVBQUFDLEdBQ0EsTUFBQXFXLE9BSUEsQ0FDQXJoQixJQUFBLGdCQUNBbEIsTUFBQSxjQUdBLENBQ0FrQixJQUFBLGFBR0FsQixNQUFBLGNBR0EsQ0FDQWtCLElBQUEsZUFDQWxCLE1BQUEsY0FDQSxDQUNBa0IsSUFBQSxpQkFTQVcsSUFBQSxXQUNBLElBQUFvSyxFQUVBLElBQ0FBLEVBQUEvTSxLQUFBc2pCLHNCQUNBLE1BQUFELElBRUEsT0FBQSxNQUFBdFcsRUFBQUEsRUFBQS9NLEtBQUFjLE1BQUFzRixTQUlBLENBQ0FwRSxJQUFBLGVBQ0FXLElBQUEsV0FDQSxJQUFBcUssRUFFQSxJQUNBQSxFQUFBaE4sS0FBQXVqQixvQkFDQSxNQUFBRixJQUVBLE9BQUEsTUFBQXJXLEVBQUFBLEVBQUFoTixLQUFBYyxNQUFBc0YsU0FFQSxDQUNBcEUsSUFBQSxXQUNBVyxJQUFBLFdBQ0EsT0FBQSxNQUlBc2dCLEVBeEVBLEdBMEVBbGpCLEdBQUFrakIsWUFBQUEsR0FJQSxJQUFBTyxHQUVBLFdBVUEsU0FBQUEsRUFBQS9oQixHQUNBLElBQUE0WSxFQU9BLE9BTEExTSxHQUFBM04sS0FBQXdqQixJQUVBbkosRUFBQWxMLEdBQUFuUCxLQUFBd08sR0FBQWdWLEdBQUEzaEIsS0FBQTdCLFFBQ0F5QixNQUFBQSxFQUNBNFksRUFBQW9KLFVBQUEsR0FDQXBKLEVBOEdBLE9BL0hBbE0sR0FBQXFWLEVBZ0lBUCxJQXpHQWpWLEdBQUF3VixFQUFBLENBQUEsQ0FDQXhoQixJQUFBLGdCQU1BbEIsTUFBQSxTQUFBaU0sRUFBQUMsR0FDQWhOLEtBQUF5QixNQUFBaWlCLGtCQUFBM1csRUFBQUMsS0FPQSxDQUNBaEwsSUFBQSxhQU1BbEIsTUFBQSxTQUFBNmlCLEdBQ0EsSUFBQWxJLEVBQUF6YixLQUVBeUMsT0FBQWlELEtBQUFpZSxHQUFBcFksUUFBQSxTQUFBcVksR0FDQSxPQUFBbkksRUFBQW9JLG9CQUFBTCxFQUFBTSxXQUFBRixHQUFBRCxFQUFBQyxRQVFBLENBQ0E1aEIsSUFBQSxlQUNBbEIsTUFBQSxXQUNBLElBQUF1YixFQUFBcmMsS0FFQXlDLE9BQUFpRCxLQUFBMUYsS0FBQXlqQixXQUFBbFksUUFBQSxTQUFBcVksR0FDQSxPQUFBdkgsRUFBQXdILG9CQUFBRCxPQUtBLENBQ0E1aEIsSUFBQSxzQkFDQWxCLE1BQUEsU0FBQThpQixFQUFBRyxHQUNBL2pCLEtBQUF5akIsVUFBQUcsS0FDQTVqQixLQUFBeUIsTUFBQXVpQixvQkFBQUosRUFBQTVqQixLQUFBeWpCLFVBQUFHLFdBQ0E1akIsS0FBQXlqQixVQUFBRyxJQUdBRyxJQUNBL2pCLEtBQUF5QixNQUFBd2lCLGlCQUFBTCxFQUFBRyxHQUNBL2pCLEtBQUF5akIsVUFBQUcsR0FBQUcsS0FHQSxDQUNBL2hCLElBQUEsY0FDQVcsSUFBQSxXQUNBLE9BQUEzQyxLQUFBeUIsTUFBQXlpQixZQUFBbGtCLEtBQUF5QixNQUFBeWlCLGNBQUEzZ0IsV0FPQSxDQUNBdkIsSUFBQSxXQUNBVyxJQUFBLFdBRUEsT0FBQTNDLEtBQUF5QixRQUFBekIsS0FBQW1rQixZQUFBQyxnQkFPQSxDQUNBcGlCLElBQUEsd0JBQ0FXLElBQUEsV0FDQSxPQUFBM0MsS0FBQXlCLE1BQUF5aEIsaUJBT0EsQ0FDQWxoQixJQUFBLHNCQUNBVyxJQUFBLFdBQ0EsT0FBQTNDLEtBQUF5QixNQUFBMGhCLGVBRUEsQ0FDQW5oQixJQUFBLFFBQ0FXLElBQUEsV0FDQSxPQUFBM0MsS0FBQXlCLE1BQUFYLE9BRUE4RCxJQUFBLFNBQUE5RCxHQUNBZCxLQUFBeUIsTUFBQVgsTUFBQUEsTUFJQTBpQixFQWhJQSxHQWtJQUEsR0FBQU0sV0FBQSxDQUNBTyxnQkFBQSxVQUNBNWlCLE1BQUEsUUFDQTZpQixLQUFBLE9BQ0FDLE1BQUEsUUFDQUMsTUFBQSxRQUNBbFAsT0FBQSxRQUVBdlYsR0FBQXlqQixnQkFBQUEsR0FFQSxJQUFBaUIsR0FFQSxXQUdBLFNBQUFBLElBR0EsT0FGQTlXLEdBQUEzTixLQUFBeWtCLEdBRUF0VixHQUFBblAsS0FBQXdPLEdBQUFpVyxHQUFBM00sTUFBQTlYLEtBQUFtRyxZQStEQSxPQXBFQWdJLEdBQUFzVyxFQXFFQWpCLElBN0RBeFYsR0FBQXlXLEVBQUEsQ0FBQSxDQUNBemlCLElBQUEsZ0JBTUFsQixNQUFBLFNBQUFpTSxFQUFBQyxHQUNBLElBQ0EwWCxFQUdBQyxFQUNBQyxFQUxBNWtCLEtBQUFta0IsWUFBQVUsZUFDQUgsRUFBQTFrQixLQUFBbWtCLFlBQUFVLGVBQ0FDLFNBQUE5a0IsS0FBQXlCLE1BQUFzakIsWUFBQS9rQixLQUFBeUIsTUFBQXNMLEdBQ0EyWCxFQUFBTSxPQUFBaGxCLEtBQUF5QixNQUFBd2pCLFdBQUFqbEIsS0FBQXlCLE1BQUF1TCxJQUVBNFgsR0FEQUQsRUFBQTNrQixLQUFBbWtCLGFBQ0FlLGNBQUFQLEVBQUFPLGtCQUdBTixFQUFBTyxrQkFDQVAsRUFBQVEsU0FBQVYsT0FRQSxDQUNBMWlCLElBQUEsd0JBTUFXLElBQUEsV0FDQSxJQUFBZ2lCLEVBQUEza0IsS0FBQW1rQixZQUNBUyxFQUFBRCxFQUFBTyxjQUFBUCxFQUFBTyxlQUNBLE9BQUFOLEdBQUFBLEVBQUFTLGVBT0EsQ0FDQXJqQixJQUFBLHNCQUNBVyxJQUFBLFdBQ0EsSUFBQWdpQixFQUFBM2tCLEtBQUFta0IsWUFDQVMsRUFBQUQsRUFBQU8sY0FBQVAsRUFBQU8sZUFDQSxPQUFBTixHQUFBNWtCLEtBQUFzakIsc0JBQUFuaEIsT0FBQXlpQixHQUFBeGUsU0FFQSxDQUNBcEUsSUFBQSxRQUNBVyxJQUFBLFdBRUEsT0FBQTNDLEtBQUF5QixNQUFBNmpCLGFBRUExZ0IsSUFBQSxTQUFBOUQsR0FDQWQsS0FBQXlCLE1BQUE2akIsWUFBQXhrQixNQUlBMmpCLEVBckVBLEdBdUVBMWtCLEdBQUEwa0IsK0JBQUFBLEdBSUEsSUFBQTFSLEdBRUEsV0FlQSxTQUFBQSxFQUFBL0wsRUFBQThMLEdBQ0FuRixHQUFBM04sS0FBQStTLEdBRUEvUyxLQUFBZ0gsR0FBQUEsYUFBQWljLEdBQUFqYyxFQUFBLElBQUFBLEVBQUF1ZSxtQkFBQSxVQUFBdmUsRUFBQXdlLFNBQUEsYUFBQXhlLEVBQUF3ZSxRQUFBZixHQUFBakIsSUFBQXhjLEdBQ0FoSCxLQUFBd1MsT0FBQXdFLEdBQUFsRSxHQUNBOVMsS0FBQXlsQixXQUFBLEdBQ0F6bEIsS0FBQWlULE9BQUEsR0FDQWpULEtBQUEwbEIsZUFBQSxHQUNBMWxCLEtBQUEybEIsZUFBQTNsQixLQUFBMmxCLGVBQUFyUyxLQUFBdFQsTUFDQUEsS0FBQTRsQixTQUFBNWxCLEtBQUE0bEIsU0FBQXRTLEtBQUF0VCxNQUNBQSxLQUFBNmxCLFVBQUE3bEIsS0FBQTZsQixVQUFBdlMsS0FBQXRULE1BQ0FBLEtBQUE4bEIsUUFBQTlsQixLQUFBOGxCLFFBQUF4UyxLQUFBdFQsTUFDQUEsS0FBQStsQixTQUFBL2xCLEtBQUErbEIsU0FBQXpTLEtBQUF0VCxNQUNBQSxLQUFBZ21CLFNBQUFobUIsS0FBQWdtQixTQUFBMVMsS0FBQXRULE1BQ0FBLEtBQUFpbUIsWUFBQWptQixLQUFBaW1CLFlBQUEzUyxLQUFBdFQsTUFDQUEsS0FBQWttQixvQkFBQWxtQixLQUFBa21CLG9CQUFBNVMsS0FBQXRULE1BRUFBLEtBQUFtbUIsY0FHQW5tQixLQUFBb21CLGNBRUFwbUIsS0FBQTZsQixZQTJXQSxPQXRXQTdYLEdBQUErRSxFQUFBLENBQUEsQ0FDQS9RLElBQUEsYUFDQWxCLE1BQUEsU0FBQXNWLEdBQ0EsT0FBQSxNQUFBQSxHQUFBQSxJQUFBcFcsS0FBQXdTLE9BQUE0RCxNQUFBQSxJQUFBSSxNQUFBeFcsS0FBQXdTLGtCQUFBaUUsS0FFQSxDQUNBelUsSUFBQSxjQU1BbEIsTUFBQSxXQUNBZCxLQUFBZ0gsR0FBQXFmLFdBQUEsQ0FDQWhDLGdCQUFBcmtCLEtBQUEybEIsZUFDQWxrQixNQUFBekIsS0FBQTRsQixTQUNBdEIsS0FBQXRrQixLQUFBOGxCLFFBQ0F2QixNQUFBdmtCLEtBQUFnbUIsU0FDQXhCLE1BQUF4a0IsS0FBQStsQixTQUNBelEsT0FBQXRWLEtBQUE2bEIsY0FRQSxDQUNBN2pCLElBQUEsZ0JBQ0FsQixNQUFBLFdBQ0FkLEtBQUFnSCxJQUFBaEgsS0FBQWdILEdBQUFzZixpQkFPQSxDQUNBdGtCLElBQUEsYUFDQWxCLE1BQUEsU0FBQXlsQixHQUNBLElBQUEsSUFBQXZFLEVBQUE3YixVQUFBQyxPQUFBcVcsRUFBQSxJQUFBdE0sTUFBQSxFQUFBNlIsRUFBQUEsRUFBQSxFQUFBLEdBQUFDLEVBQUEsRUFBQUEsRUFBQUQsRUFBQUMsSUFDQXhGLEVBQUF3RixFQUFBLEdBQUE5YixVQUFBOGIsR0FHQSxJQUFBdUUsRUFBQXhtQixLQUFBeWxCLFdBQUFjLEdBQ0FDLEdBQ0FBLEVBQUFqYixRQUFBLFNBQUFrYixHQUNBLE9BQUFBLEVBQUEzTyxXQUFBLEVBQUEyRSxPQVFBLENBQ0F6YSxJQUFBLGlCQU1BbEIsTUFBQSxXQUdBZCxLQUFBYyxRQUFBZCxLQUFBZ0gsR0FBQWxHLE9BQ0FnVyxRQUFBQyxLQUFBLDJHQUdBL1csS0FBQTBtQixXQUFBLENBQ0EzWixNQUFBL00sS0FBQWtqQixlQUNBbFcsSUFBQWhOLEtBQUFzUixhQUtBLENBQ0F0UCxJQUFBLGNBQ0FsQixNQUFBLFdBQ0FkLEtBQUF3UyxPQUFBMVIsTUFBQWQsS0FBQWdILEdBQUFsRyxNQUNBZCxLQUFBaVQsT0FBQWpULEtBQUF3UyxPQUFBMVIsUUFJQSxDQUNBa0IsSUFBQSxnQkFDQWxCLE1BQUEsV0FDQSxJQUFBNmxCLEVBQUEzbUIsS0FBQXdTLE9BQUErRixjQUNBcU8sRUFBQTVtQixLQUFBd1MsT0FBQTFSLE1BQ0ErbEIsRUFBQTdtQixLQUFBdVksZ0JBQUFvTyxHQUFBM21CLEtBQUFjLFFBQUE4bEIsRUFDQTVtQixLQUFBMGxCLGVBQUFpQixFQUNBM21CLEtBQUFpVCxPQUFBMlQsRUFDQTVtQixLQUFBZ0gsR0FBQWxHLFFBQUE4bEIsSUFBQTVtQixLQUFBZ0gsR0FBQWxHLE1BQUE4bEIsR0FDQUMsR0FBQTdtQixLQUFBOG1CLHNCQUlBLENBQ0E5a0IsSUFBQSxnQkFDQWxCLE1BQUEsU0FBQWdTLEdBQ0EsSUFBQXNELEVBQUF0RCxFQUFBc0QsS0FDQTJRLEVBQUFqWSxHQUFBZ0UsRUFBQSxDQUFBLFNBRUFrVSxHQUFBaG5CLEtBQUFpbkIsV0FBQTdRLEdBQ0E4USxHQXZtRkEsU0FBQUMsRUFBQWxjLEVBQUF0SCxHQUNBLEdBQUFBLElBQUFzSCxFQUFBLE9BQUEsRUFDQSxJQUFBbWMsRUFBQWpYLE1BQUFDLFFBQUF6TSxHQUNBMGpCLEVBQUFsWCxNQUFBQyxRQUFBbkYsR0FHQSxHQUFBbWMsR0FBQUMsRUFBQSxDQUNBLEdBQUExakIsRUFBQXlDLFFBQUE2RSxFQUFBN0UsT0FBQSxPQUVBLElBQUFvQixFQUFBLEVBQUFBLEVBQUE3RCxFQUFBeUMsT0FBQW9CLElBQ0EsSUFBQTJmLEVBQUF4akIsRUFBQTZELEdBQUF5RCxFQUFBekQsSUFBQSxPQUdBLE9BQUEsRUFHQSxHQUFBNGYsR0FBQUMsRUFBQSxDQUVBLEdBQUExakIsR0FBQXNILEdBQUEsV0FBQXNDLEdBQUE1SixJQUFBLFdBQUE0SixHQUFBdEMsR0FBQSxDQUNBLElBQUFxYyxFQUFBM2pCLGFBQUE2UyxLQUNBK1EsRUFBQXRjLGFBQUF1TCxLQUNBLEdBQUE4USxHQUFBQyxFQUFBLE9BQUE1akIsRUFBQTZqQixXQUFBdmMsRUFBQXVjLFVBQ0EsR0FBQUYsR0FBQUMsRUFBQSxPQUNBLElBQUFFLEVBQUE5akIsYUFBQTBTLE9BQ0FxUixFQUFBemMsYUFBQW9MLE9BQ0EsR0FBQW9SLEdBQUFDLEVBQUEsT0FBQS9qQixFQUFBL0IsWUFBQXFKLEVBQUFySixXQUNBLEdBQUE2bEIsR0FBQUMsRUFBQSxPQUdBLElBRkEsSUFBQWhpQixFQUFBakQsT0FBQWlELEtBQUEvQixHQUVBNkQsRUFBQSxFQUFBQSxFQUFBOUIsRUFBQVUsT0FBQW9CLElBQ0EsSUFBQS9FLE9BQUFtRyxVQUFBM0csZUFBQUosS0FBQW9KLEVBQUF2RixFQUFBOEIsSUFBQSxPQUdBLElBQUFBLEVBQUEsRUFBQUEsRUFBQTlCLEVBQUFVLE9BQUFvQixJQUNBLElBQUEyZixFQUFBbGMsRUFBQXZGLEVBQUE4QixJQUFBN0QsRUFBQStCLEVBQUE4QixLQUFBLE9BR0EsT0FBQSxFQUNBLE9BQUE3RCxHQUFBc0gsR0FBQSxtQkFBQXRILEdBQUEsbUJBQUFzSCxHQUNBdEgsRUFBQS9CLGFBQUFxSixFQUFBckosWUFna0ZBdWxCLENBQUFubkIsS0FBQXdTLE9BQUF1VSxHQUNBQyxJQUFBaG5CLEtBQUFvVyxLQUFBQSxHQUNBOFEsR0FBQWxuQixLQUFBd1MsT0FBQW1WLGNBQUFaLElBQ0FDLEdBQUFFLElBQUFsbkIsS0FBQTRuQixrQkFJQSxDQUNBNWxCLElBQUEsZUFDQWxCLE1BQUEsU0FBQXdRLEdBQ0EsTUFBQUEsSUFDQXRSLEtBQUFzUixVQUFBQSxFQUVBdFIsS0FBQTZuQixtQkFBQXZXLE1BT0EsQ0FDQXRQLElBQUEscUJBQ0FsQixNQUFBLFNBQUF3USxHQUNBLElBQUErSSxFQUFBcmEsS0FFQUEsS0FBQThuQixxQkFFQTluQixLQUFBK25CLG1CQUFBelcsRUFDQXRSLEtBQUFnb0IsZ0JBQUFDLFdBQUEsV0FDQTVOLEVBQUFyVCxLQUVBcVQsRUFBQS9JLFVBQUErSSxFQUFBME4sbUJBRUExTixFQUFBeU4sdUJBQ0EsTUFPQSxDQUNBOWxCLElBQUEsb0JBQ0FsQixNQUFBLFdBQ0FkLEtBQUFrb0IsV0FBQSxTQUFBbG9CLEtBQUFtb0IsYUFFQW5vQixLQUFBd1MsT0FBQTRGLFlBQUFwWSxLQUFBa29CLFdBQUEsV0FBQWxvQixLQUFBbW9CLGVBT0EsQ0FDQW5tQixJQUFBLHFCQUNBbEIsTUFBQSxXQUNBZCxLQUFBZ29CLGtCQUNBSSxhQUFBcG9CLEtBQUFnb0Isd0JBQ0Fob0IsS0FBQWdvQixtQkFLQSxDQUNBaG1CLElBQUEsY0FDQWxCLE1BQUEsV0FDQWQsS0FBQXNSLFVBQUF0UixLQUFBd1MsT0FBQXFELGdCQUFBN1YsS0FBQXNSLFVBQUFILE1BSUEsQ0FDQW5QLElBQUEsc0JBQ0FsQixNQUFBLFdBQ0FkLEtBQUFrakIsaUJBQUFsakIsS0FBQXNSLFdBRUF0UixLQUFBaW1CLGdCQUlBLENBQ0Fqa0IsSUFBQSxLQUNBbEIsTUFBQSxTQUFBeWxCLEVBQUF4QyxHQUtBLE9BSkEvakIsS0FBQXlsQixXQUFBYyxLQUFBdm1CLEtBQUF5bEIsV0FBQWMsR0FBQSxJQUVBdm1CLEtBQUF5bEIsV0FBQWMsR0FBQXBoQixLQUFBNGUsR0FFQS9qQixPQUlBLENBQ0FnQyxJQUFBLE1BQ0FsQixNQUFBLFNBQUF5bEIsRUFBQXhDLEdBQ0EsSUFBQS9qQixLQUFBeWxCLFdBQUFjLEdBQUEsT0FBQXZtQixLQUVBLElBQUErakIsRUFFQSxjQURBL2pCLEtBQUF5bEIsV0FBQWMsR0FDQXZtQixLQUdBLElBQUFxb0IsRUFBQXJvQixLQUFBeWxCLFdBQUFjLEdBQUE3ZSxRQUFBcWMsR0FHQSxPQURBLEdBQUFzRSxHQUFBcm9CLEtBQUF5bEIsV0FBQWMsR0FBQXhNLE9BQUFzTyxFQUFBLEdBQ0Fyb0IsT0FJQSxDQUNBZ0MsSUFBQSxXQUNBbEIsTUFBQSxTQUFBdWlCLEdBTUEsR0FMQXJqQixLQUFBbW9CLFlBQUE5RSxFQUVBcmpCLEtBQUE4bkIsc0JBR0E5bkIsS0FBQTBtQixXQUFBLE9BQUExbUIsS0FBQW9tQixjQUNBLElBQUFyVSxFQUFBLElBQUFWLEdBQ0FyUixLQUFBZ0gsR0FBQWxHLE1BQUFkLEtBQUFzUixVQUNBdFIsS0FBQWMsTUFBQWQsS0FBQTBtQixZQUNBNEIsRUFBQXRvQixLQUFBd1MsT0FBQXdDLGNBQ0E4SCxFQUFBOWMsS0FBQXdTLE9BQUF1SCxPQUFBaEksRUFBQU4sZUFBQU0sRUFBQXdXLFFBQUFuaUIsT0FBQTJMLEVBQUFDLFNBQUFELEVBQUEyRCxpQkFBQW9ILE9BR0FwSCxFQUFBNFMsSUFBQXRvQixLQUFBd1MsT0FBQXdDLGNBQUFqRCxFQUFBMkQsZ0JBQUF2RSxHQUNBRyxFQUFBdFIsS0FBQXdTLE9BQUFxRCxnQkFBQTlELEVBQUFOLGVBQUFxTCxFQUFBcEgsR0FDQTFWLEtBQUE0bkIsZ0JBQ0E1bkIsS0FBQXdvQixhQUFBbFgsVUFDQXRSLEtBQUFtb0IsY0FJQSxDQUNBbm1CLElBQUEsWUFDQWxCLE1BQUEsV0FDQWQsS0FBQWMsUUFBQWQsS0FBQWdILEdBQUFsRyxPQUNBZCxLQUFBb21CLGNBR0FwbUIsS0FBQXdTLE9BQUFnQixXQUNBeFQsS0FBQTRuQixnQkFFQTVuQixLQUFBMmxCLG1CQUlBLENBQ0EzakIsSUFBQSxVQUNBbEIsTUFBQSxTQUFBeWxCLEdBQ0FBLEVBQUFrQyxpQkFDQWxDLEVBQUFtQyxvQkFJQSxDQUNBMW1CLElBQUEsV0FDQWxCLE1BQUEsV0FDQWQsS0FBQWttQix3QkFJQSxDQUNBbGtCLElBQUEsV0FDQWxCLE1BQUEsV0FDQWQsS0FBQWttQix3QkFJQSxDQUNBbGtCLElBQUEsVUFDQWxCLE1BQUEsV0FDQWQsS0FBQTJvQixnQkFHQTNvQixLQUFBeWxCLFdBQUFyZixPQUFBLFNBRUFwRyxLQUFBZ0gsS0FFQSxDQUNBaEYsSUFBQSxPQUNBVyxJQUFBLFdBQ0EsT0FBQTNDLEtBQUF3UyxPQUFBNEQsTUFFQXhSLElBQUEsU0FBQXdSLEdBQ0EsSUFTQTVELEVBVEF4UyxLQUFBaW5CLFdBQUE3USxLQUVBQSxhQUFBclcsR0FBQWlULFFBQUFoVCxLQUFBd1MsT0FBQTlFLGNBQUF5SSxHQUFBQyxLQU9BNUQsRUFBQXdFLEdBQUEsQ0FDQVosS0FBQUEsS0FFQW1DLGNBQUF2WSxLQUFBd1MsT0FBQStGLGNBQ0F2WSxLQUFBd1MsT0FBQUEsR0FWQXhTLEtBQUF3UyxPQUFBbVYsY0FBQSxDQUNBdlIsS0FBQUEsT0FhQSxDQUNBcFUsSUFBQSxRQUNBVyxJQUFBLFdBQ0EsT0FBQTNDLEtBQUFpVCxRQUVBck8sSUFBQSxTQUFBOEgsR0FDQTFNLEtBQUF3UyxPQUFBMVIsTUFBQTRMLEVBQ0ExTSxLQUFBNG5CLGdCQUNBNW5CLEtBQUFpbUIsZ0JBSUEsQ0FDQWprQixJQUFBLGdCQUNBVyxJQUFBLFdBQ0EsT0FBQTNDLEtBQUEwbEIsZ0JBRUE5Z0IsSUFBQSxTQUFBOEgsR0FDQTFNLEtBQUF3UyxPQUFBK0YsY0FBQTdMLEVBQ0ExTSxLQUFBNG5CLGdCQUNBNW5CLEtBQUFpbUIsZ0JBSUEsQ0FDQWprQixJQUFBLGFBQ0FXLElBQUEsV0FDQSxPQUFBM0MsS0FBQXdTLE9BQUFvUSxZQUVBaGUsSUFBQSxTQUFBakQsR0FDQTNCLEtBQUF3UyxPQUFBb1EsV0FBQWpoQixFQUNBM0IsS0FBQTRuQixnQkFDQTVuQixLQUFBaW1CLGdCQUVBLENBQ0Fqa0IsSUFBQSxpQkFDQVcsSUFBQSxXQUNBLE9BQUEzQyxLQUFBZ29CLGdCQUFBaG9CLEtBQUErbkIsbUJBQUEvbkIsS0FBQWdILEdBQUFrYyxpQkFJQSxDQUNBbGhCLElBQUEsWUFDQVcsSUFBQSxXQUNBLE9BQUEzQyxLQUFBZ29CLGdCQUFBaG9CLEtBQUErbkIsbUJBQUEvbkIsS0FBQWdILEdBQUFtYyxjQUVBdmUsSUFBQSxTQUFBZ08sR0FDQTVTLEtBQUFnSCxJQUFBaEgsS0FBQWdILEdBQUE0aEIsV0FDQTVvQixLQUFBZ0gsR0FBQTZoQixPQUFBalcsRUFBQUEsR0FFQTVTLEtBQUEybEIsc0JBSUE1UyxFQWhaQSxHQWtaQWhULEdBQUFnVCxVQUFBQSxHQUlBLElBQUErVixHQUVBLFdBR0EsU0FBQUEsSUFHQSxPQUZBbmIsR0FBQTNOLEtBQUE4b0IsR0FFQTNaLEdBQUFuUCxLQUFBd08sR0FBQXNhLEdBQUFoUixNQUFBOVgsS0FBQW1HLFlBb0NBLE9BekNBZ0ksR0FBQTJhLEVBMENBdlMsSUFsQ0F2SSxHQUFBOGEsRUFBQSxDQUFBLENBQ0E5bUIsSUFBQSxVQU1BbEIsTUFBQSxTQUFBZ1MsR0FFQUEsRUFBQWlXLE9BQUFqVyxFQUFBc0QsS0FBQSxJQUFBNUosT0FBQXNHLEVBQUFpVyxLQUFBLEdBQUEzaUIsU0FFQW9KLEdBQUFoQixHQUFBc2EsRUFBQWxnQixXQUFBLFVBQUE1SSxNQUFBNkIsS0FBQTdCLEtBQUE4UyxLQU1BLENBQ0E5USxJQUFBLGFBQ0FsQixNQUFBLFdBSUEsSUFIQSxJQUNBK2dCLEVBREF4SCxFQUFBcmEsS0FHQWdpQixFQUFBN2IsVUFBQUMsT0FBQXFXLEVBQUEsSUFBQXRNLE1BQUE2UixHQUFBQyxFQUFBLEVBQUFBLEVBQUFELEVBQUFDLElBQ0F4RixFQUFBd0YsR0FBQTliLFVBQUE4YixHQUdBLE9BQUFqaUIsS0FBQStvQixLQUFBQyxLQUFBLFNBQUEzRixHQUNBLE9BQUEsR0FBQUEsRUFBQTNiLFFBQUEyUyxFQUFBOUIsbUJBQ0FzSixFQUFBclMsR0FBQWhCLEdBQUFzYSxFQUFBbGdCLFdBQUEsYUFBQTVJLE9BQUE2QixLQUFBaVcsTUFBQStKLEVBQUEsQ0FBQTdoQixNQUFBb0ssT0FBQXFTLFFBSUFxTSxFQTFDQSxHQTRDQS9vQixHQUFBK29CLFdBQUFBLEdBZUEsSUFBQW5TLEdBRUEsV0FvQkEsU0FBQUEsRUFBQTdELEdBR0EsT0FGQW5GLEdBQUEzTixLQUFBMlcsR0FFQXhILEdBQUFuUCxLQUFBd08sR0FBQW1JLEdBQUE5VSxLQUFBN0IsS0FBQXlDLE9BQUFzSSxPQUFBLEdBQUE0TCxFQUFBeEQsU0FBQSxHQUFBTCxLQTJWQSxPQWpYQTNFLEdBQUF3SSxFQWtYQTNELElBclZBaEYsR0FBQTJJLEVBQUEsQ0FBQSxDQUNBM1UsSUFBQSxVQUNBbEIsTUFBQSxTQUFBZ1MsR0FDQXRELEdBQUFoQixHQUFBbUksRUFBQS9OLFdBQUEsVUFBQTVJLE1BQUE2QixLQUFBN0IsS0FBQThTLEdBRUE5UyxLQUFBaXBCLG1CQUlBLENBQ0FqbkIsSUFBQSxpQkFDQWxCLE1BQUEsV0FFQSxJQUFBaU0sRUFBQSxLQUFBL00sS0FBQWtwQixjQUFBLFdBQUEsSUFHQWxjLEdBQUFoTixLQUFBbXBCLE1BQUEsSUFBQS9YLEdBQUFwUixLQUFBb3BCLE9BQUEsU0FBQXBwQixLQUFBbXBCLE1BQUEsTUFBQSxJQUFBLElBQ0FucEIsS0FBQXFwQixtQkFBQSxJQUFBaFQsT0FBQXRKLEVBSEEsb0JBR0FDLEdBQ0FoTixLQUFBc3BCLGNBQUEsSUFBQWpULE9BQUF0SixFQUhBLE9BR0FDLEdBQ0FoTixLQUFBdXBCLGtCQUFBLElBQUFsVCxPQUFBLElBQUFyVyxLQUFBd3BCLFdBQUF6USxJQUFBM0gsSUFBQXBILEtBQUEsSUFBQSxJQUFBLEtBQ0FoSyxLQUFBeXBCLDBCQUFBLElBQUFwVCxPQUFBakYsR0FBQXBSLEtBQUEwcEIsb0JBQUEsT0FJQSxDQUNBMW5CLElBQUEsNkJBQ0FsQixNQUFBLFNBQUFBLEdBQ0EsT0FBQUEsRUFBQTZKLFFBQUEzSyxLQUFBeXBCLDBCQUFBLE1BSUEsQ0FDQXpuQixJQUFBLDZCQUNBbEIsTUFBQSxTQUFBQSxHQUVBLElBQUE2b0IsRUFBQTdvQixFQUFBc0MsTUFBQXBELEtBQUFvcEIsT0FFQSxPQURBTyxFQUFBLEdBQUFBLEVBQUEsR0FBQWhmLFFBQUEsd0JBQUEzSyxLQUFBMHBCLG9CQUNBQyxFQUFBM2YsS0FBQWhLLEtBQUFvcEIsU0FNQSxDQUNBcG5CLElBQUEsWUFDQWxCLE1BQUEsU0FBQTRMLEdBR0EsSUFGQSxJQUFBbVYsRUFFQUcsRUFBQTdiLFVBQUFDLE9BQUFxVyxFQUFBLElBQUF0TSxNQUFBLEVBQUE2UixFQUFBQSxFQUFBLEVBQUEsR0FBQUMsRUFBQSxFQUFBQSxFQUFBRCxFQUFBQyxJQUNBeEYsRUFBQXdGLEVBQUEsR0FBQTliLFVBQUE4YixHQUdBLE9BQUFKLEVBQUFyUyxHQUFBaEIsR0FBQW1JLEVBQUEvTixXQUFBLFlBQUE1SSxPQUFBNkIsS0FBQWlXLE1BQUErSixFQUFBLENBQUE3aEIsS0FBQUEsS0FBQTRwQiwyQkFBQWxkLEVBQUEvQixRQUFBM0ssS0FBQXVwQixrQkFBQXZwQixLQUFBb3BCLFNBQUFoZixPQUFBcVMsTUFJQSxDQUNBemEsSUFBQSxtQkFDQWxCLE1BQUEsU0FBQWdnQixFQUFBLEdBSUEsSUFIQSxJQUFBK0ksRUFBQSxFQUFBMWpCLFVBQUFDLGFBQUFqRixJQURBLEdBQUEsRUFFQXNMLEVBQUEsRUFFQW1HLEVBQUEsRUFBQUEsRUFBQWtPLElBQUFsTyxFQUNBNVMsS0FBQWlULE9BQUF2TCxRQUFBMUgsS0FBQTBwQixtQkFBQTlXLEtBQUFBLE1BQ0FuRyxFQUNBb2QsSUFBQS9JLEdBQUE5Z0IsS0FBQTBwQixtQkFBQXRqQixTQUlBLE9BQUFxRyxJQUlBLENBQ0F6SyxJQUFBLDRCQUNBbEIsTUFBQSxTQUFBLEdBQ0EsSUFBQXVDLEVBQUEsRUFBQThDLFVBQUFDLGFBQUFqRixJQURBLEVBQUEsRUFDQW5CLEtBQUFpVCxPQUNBLE9BQUFqVCxLQUFBOHBCLGlCQUFBOXBCLEtBQUE0cEIsMkJBQUF2bUIsR0FBQStDLFFBQUEsS0FNQSxDQUNBcEUsSUFBQSxlQUNBbEIsTUFBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLElBQUEyUyxFQUFBLEVBQUF0TixVQUFBQyxhQUFBakYsSUFEQSxFQUFBLEVBQ0EsRUFDQXVTLEVBQUEsRUFBQXZOLFVBQUFDLGFBQUFqRixJQUZBLEVBQUEsRUFFQW5CLEtBQUFjLE1BQUFzRixPQUNBME4sRUFBQSxFQUFBM04sVUFBQUMsT0FIQSxPQUdBakYsRUFJQTRvQixFQUFBOVosR0FGQWpRLEtBQUFncUIsMkJBQUF2VyxFQUFBQyxHQUVBLEdBRUFELEVBQUFzVyxFQUFBLEdBQ0FyVyxFQUFBcVcsRUFBQSxHQUNBLE9BQUEvcEIsS0FBQTRwQiwyQkFBQXBhLEdBQUFoQixHQUFBbUksRUFBQS9OLFdBQUEsZUFBQTVJLE1BQUE2QixLQUFBN0IsS0FBQXlULEVBQUFDLEVBQUFJLE1BTUEsQ0FDQTlSLElBQUEsaUJBQ0FsQixNQUFBLFNBQUErUyxFQUFBLEdBQ0EsSUFBQUMsRUFBQSxFQUFBM04sVUFBQUMsYUFBQWpGLElBREEsRUFBQSxFQUNBLEdBQ0EsSUFBQW5CLEtBQUEwcEIsbUJBQUEsT0FBQWxhLEdBQUFoQixHQUFBbUksRUFBQS9OLFdBQUEsaUJBQUE1SSxNQUFBNkIsS0FBQTdCLEtBQUE2VCxFQUFBQyxHQUNBLElBQUFtVyxFQUFBblcsRUFBQXZCLE1BQUF1QixFQUFBYSxpQkFBQWIsRUFBQWEsaUJBQUExQixPQUFBalQsS0FBQWlULE9BRUFpWCxFQUFBbHFCLEtBQUFtcUIsMEJBQUFGLEdBRUFqcUIsS0FBQWlULE9BQUFqVCxLQUFBNHBCLDJCQUFBNXBCLEtBQUFjLE9BRUEsSUFBQXNwQixFQUFBNWEsR0FBQWhCLEdBQUFtSSxFQUFBL04sV0FBQSxpQkFBQTVJLE1BQUE2QixLQUFBN0IsS0FBQTZULEVBQUFDLEdBRUE5VCxLQUFBaVQsT0FBQWpULEtBQUFxcUIsMkJBQUFycUIsS0FBQWlULFFBQ0EsSUFBQXFYLEVBQUF4VyxFQUFBdkIsTUFBQXVCLEVBQUFhLGlCQUFBYixFQUFBYSxpQkFBQTFCLE9BQUFqVCxLQUFBaVQsT0FFQXNYLEVBQUF2cUIsS0FBQW1xQiwwQkFBQUcsR0FJQSxPQUZBRixFQUFBalksWUFBQW9ZLEVBQUFMLEdBQUFscUIsS0FBQTBwQixtQkFBQXRqQixPQUNBZ2tCLEVBQUFsWSxNQUFBa1ksRUFBQW5ZLGFBQUE0QixJQUFBN1QsS0FBQTBwQixtQkFDQVUsSUFJQSxDQUNBcG9CLElBQUEsdUJBQ0FsQixNQUFBLFNBQUE4UixHQUNBLEdBQUE1UyxLQUFBMHBCLG1CQUFBLENBQ0EsSUFBQWMsRUFBQTVYLEVBQUE1UyxLQUFBMHBCLG1CQUFBdGpCLE9BQUEsRUFDQXFrQixFQUFBenFCLEtBQUFjLE1BQUE0RyxRQUFBMUgsS0FBQTBwQixtQkFBQWMsR0FDQSxHQUFBQyxHQUFBN1gsRUFBQSxPQUFBNlgsRUFHQSxPQUFBLElBRUEsQ0FDQXpvQixJQUFBLDZCQUNBbEIsTUFBQSxTQUFBdVIsRUFBQXlPLEdBQ0EsSUFBQTRKLEVBQUExcUIsS0FBQTJxQixxQkFBQXRZLEdBRUEsR0FBQXFZLElBQUFyWSxFQUFBcVksR0FFQSxJQUFBRSxFQUFBNXFCLEtBQUEycUIscUJBQUE3SixHQUdBLE9BREEsR0FBQThKLElBQUE5SixFQUFBOEosRUFBQTVxQixLQUFBMHBCLG1CQUFBdGpCLFFBQ0EsQ0FBQWlNLEVBQUF5TyxLQU1BLENBQ0E5ZSxJQUFBLFNBQ0FsQixNQUFBLFNBQUEsRUFBQSxHQUNBLElBQUEyUyxFQUFBLEVBQUF0TixVQUFBQyxhQUFBakYsSUFEQSxFQUFBLEVBQ0EsRUFDQXVTLEVBQUEsRUFBQXZOLFVBQUFDLGFBQUFqRixJQUZBLEVBQUEsRUFFQW5CLEtBQUFjLE1BQUFzRixPQUlBeWtCLEVBQUE1YSxHQUZBalEsS0FBQWdxQiwyQkFBQXZXLEVBQUFDLEdBRUEsR0FFQUQsRUFBQW9YLEVBQUEsR0FDQW5YLEVBQUFtWCxFQUFBLEdBQ0FDLEVBQUE5cUIsS0FBQWMsTUFBQXVDLE1BQUEsRUFBQW9RLEdBQ0FzWCxFQUFBL3FCLEtBQUFjLE1BQUF1QyxNQUFBcVEsR0FFQXdXLEVBQUFscUIsS0FBQThwQixpQkFBQWdCLEVBQUExa0IsUUFFQXBHLEtBQUFpVCxPQUFBalQsS0FBQXFxQiwyQkFBQXJxQixLQUFBNHBCLDJCQUFBa0IsRUFBQUMsSUFFQSxJQUFBUixFQUFBdnFCLEtBQUFtcUIsMEJBQUFXLEdBRUEsT0FBQSxJQUFBaFosR0FBQSxDQUNBSyxXQUFBb1ksRUFBQUwsR0FBQWxxQixLQUFBMHBCLG1CQUFBdGpCLFdBT0EsQ0FDQXBFLElBQUEsa0JBQ0FsQixNQUFBLFNBQUF3USxFQUFBMkcsR0FDQSxJQUFBalksS0FBQTBwQixtQkFBQSxPQUFBcFksRUFFQSxPQUFBMkcsR0FDQSxLQUFBOUcsR0FDQSxLQUFBQSxHQUNBLEtBQUFBLEdBRUEsSUFBQTZaLEVBQUFockIsS0FBQTJxQixxQkFBQXJaLEVBQUEsR0FFQSxHQUFBLEdBQUEwWixFQUFBLENBQ0EsSUFBQUMsRUFBQUQsRUFBQWhyQixLQUFBMHBCLG1CQUFBdGpCLE9BRUEsR0FBQWtMLEVBQUEyWixHQUFBanJCLEtBQUFjLE1BQUFzRixRQUFBNmtCLEdBQUFoVCxJQUFBOUcsR0FDQSxPQUFBNlosRUFJQSxNQUdBLEtBQUE3WixHQUNBLEtBQUFBLEdBRUEsSUFBQStaLEVBQUFsckIsS0FBQTJxQixxQkFBQXJaLEdBRUEsR0FBQSxHQUFBNFosRUFDQSxPQUFBQSxFQUFBbHJCLEtBQUEwcEIsbUJBQUF0akIsT0FLQSxPQUFBa0wsSUFNQSxDQUNBdFAsSUFBQSxhQUNBbEIsTUFBQSxTQUFBZ1QsR0FDQSxJQU1BcVgsRUFKQUMsR0FGQXRYLEVBQUFyUyxNQUFBekIsS0FBQXFwQixtQkFBQXJwQixLQUFBc3BCLGVBRUFya0IsS0FBQWpGLEtBQUE0cEIsMkJBQUE1cEIsS0FBQWMsUUFVQSxPQVJBc3FCLElBRUFELEVBQUFuckIsS0FBQW1yQixPQUNBQyxFQUFBQSxJQUFBNWtCLE1BQUEya0IsS0FDQSxNQUFBbnJCLEtBQUE0RyxLQUFBLEdBQUE1RyxLQUFBNEcsS0FBQTVHLEtBQUE0RyxLQUFBNUcsS0FBQW1yQixVQUNBLE1BQUFuckIsS0FBQW9ILEtBQUFwSCxLQUFBb0gsS0FBQSxHQUFBcEgsS0FBQW1yQixRQUFBbnJCLEtBQUFvSCxNQUdBZ2tCLEdBQUE1YixHQUFBaEIsR0FBQW1JLEVBQUEvTixXQUFBLGFBQUE1SSxNQUFBNkIsS0FBQTdCLEtBQUE4VCxLQU1BLENBQ0E5UixJQUFBLFdBQ0FsQixNQUFBLFdBQ0EsSUFDQXFxQixFQUNBRSxFQUtBQyxFQVBBdHJCLEtBQUFjLFFBRUF1cUIsRUFEQUYsRUFBQW5yQixLQUFBbXJCLE9BR0EsTUFBQW5yQixLQUFBNEcsTUFBQXlrQixFQUFBN3FCLEtBQUE0RyxJQUFBaWtCLEVBQUFyckIsS0FBQTRHLE1BQ0EsTUFBQTVHLEtBQUFvSCxNQUFBaWtCLEVBQUE3cUIsS0FBQW9HLElBQUF5a0IsRUFBQXJyQixLQUFBb0gsTUFDQWlrQixJQUFBRixJQUFBbnJCLEtBQUF1WSxjQUFBcFcsT0FBQWtwQixJQUNBQyxFQUFBdHJCLEtBQUFjLE1BQ0FkLEtBQUF1ckIsaUJBQUFELEVBQUF0ckIsS0FBQXdyQixnQkFBQUYsSUFDQXRyQixLQUFBeXJCLHFCQUFBSCxFQUFBdHJCLEtBQUEwckIsb0JBQUFKLElBQ0F0ckIsS0FBQWlULE9BQUFxWSxHQUdBOWIsR0FBQWhCLEdBQUFtSSxFQUFBL04sV0FBQSxXQUFBNUksTUFBQTZCLEtBQUE3QixRQUlBLENBQ0FnQyxJQUFBLGtCQUNBbEIsTUFBQSxTQUFBQSxHQUNBLElBQUE2b0IsRUFBQTNwQixLQUFBNHBCLDJCQUFBOW9CLEdBQUFzQyxNQUFBcEQsS0FBQW9wQixPQWVBLE9BWkFPLEVBQUEsR0FBQUEsRUFBQSxHQUFBaGYsUUFBQSxrQkFBQSxTQUFBMFcsRUFBQXNLLEVBQUFDLEVBQUFySyxHQUNBLE9BQUFvSyxFQUFBcEssSUFHQXpnQixFQUFBc0YsU0FBQSxNQUFBbkIsS0FBQTBrQixFQUFBLE1BQUFBLEVBQUEsR0FBQUEsRUFBQSxHQUFBLEtBRUEsRUFBQUEsRUFBQXZqQixTQUNBdWpCLEVBQUEsR0FBQUEsRUFBQSxHQUFBaGYsUUFBQSxNQUFBLElBRUFnZixFQUFBLEdBQUF2akIsU0FBQXVqQixFQUFBdmpCLE9BQUEsSUFHQXBHLEtBQUFxcUIsMkJBQUFWLEVBQUEzZixLQUFBaEssS0FBQW9wQixVQUlBLENBQ0FwbkIsSUFBQSxzQkFDQWxCLE1BQUEsU0FBQUEsR0FDQSxJQUFBQSxFQUFBLE9BQUFBLEVBQ0EsSUFBQTZvQixFQUFBN29CLEVBQUFzQyxNQUFBcEQsS0FBQW9wQixPQUdBLE9BRkFPLEVBQUF2akIsT0FBQSxHQUFBdWpCLEVBQUF4a0IsS0FBQSxJQUNBd2tCLEVBQUEsR0FBQUEsRUFBQSxHQUFBdGMsT0FBQXJOLEtBQUFtcEIsTUFBQSxLQUNBUSxFQUFBM2YsS0FBQWhLLEtBQUFvcEIsU0FNQSxDQUNBcG5CLElBQUEsZ0JBQ0FXLElBQUEsV0FDQSxPQUFBM0MsS0FBQTRwQiwyQkFBQTVwQixLQUFBd3JCLGdCQUFBeHJCLEtBQUFjLFFBQUE2SixRQUFBM0ssS0FBQW9wQixNQUFBLE1BRUF4a0IsSUFBQSxTQUFBMlQsR0FDQXpJLEdBQUF0QixHQUFBbUksRUFBQS9OLFdBQUEsZ0JBQUEyUCxFQUFBNU4sUUFBQSxJQUFBM0ssS0FBQW9wQixPQUFBcHBCLE1BQUEsS0FNQSxDQUNBZ0MsSUFBQSxhQUNBVyxJQUFBLFdBQ0EsT0FBQStULE9BQUExVyxLQUFBdVksZ0JBRUEzVCxJQUFBLFNBQUErSCxHQUNBbUQsR0FBQXRCLEdBQUFtSSxFQUFBL04sV0FBQSxnQkFBQXpHLE9BQUF3SyxHQUFBM00sTUFBQSxLQUlBLENBQ0FnQyxJQUFBLFNBQ0FXLElBQUEsV0FDQSxPQUFBM0MsS0FBQTRpQixZQUVBaGUsSUFBQSxTQUFBdW1CLEdBQ0FuckIsS0FBQTRpQixXQUFBdUksSUFPQSxDQUNBbnBCLElBQUEsZ0JBQ0FXLElBQUEsV0FDQSxPQUFBM0MsS0FBQTZyQixRQUFBLE1BQUE3ckIsS0FBQTRHLEtBQUE1RyxLQUFBNEcsSUFBQSxHQUFBLE1BQUE1RyxLQUFBb0gsS0FBQXBILEtBQUFvSCxJQUFBLE1BSUF1UCxFQWxYQSxHQW9YQUEsR0FBQXhELFNBQUEsQ0FDQWlXLE1BQUEsSUFDQU0sbUJBQUEsR0FDQUYsV0FBQSxDQUFBLEtBQ0FMLE1BQUEsRUFDQTBDLFFBQUEsRUFDQU4sZ0JBQUEsRUFDQUUsb0JBQUEsR0FFQTFyQixHQUFBNFcsYUFBQUEsR0FJQSxJQUFBRSxHQUVBLFdBR0EsU0FBQUEsSUFHQSxPQUZBbEosR0FBQTNOLEtBQUE2VyxHQUVBMUgsR0FBQW5QLEtBQUF3TyxHQUFBcUksR0FBQWlCLE1BQUE5WCxLQUFBbUcsWUFpQkEsT0F0QkFnSSxHQUFBMEksRUF1QkE3RCxJQWZBaEYsR0FBQTZJLEVBQUEsQ0FBQSxDQUNBN1UsSUFBQSxVQU1BbEIsTUFBQSxTQUFBZ1MsR0FDQUEsRUFBQXNELE9BQUF0RCxFQUFBc0MsU0FBQXRDLEVBQUFzRCxNQUVBNUcsR0FBQWhCLEdBQUFxSSxFQUFBak8sV0FBQSxVQUFBNUksTUFBQTZCLEtBQUE3QixLQUFBOFMsT0FJQStELEVBdkJBLEdBeUJBOVcsR0FBQThXLGVBQUFBLEdBR0EsSUFBQUQsR0FFQSxXQVlBLFNBQUFBLEVBQUE5RCxHQUNBLElBQUF1SCxFQU1BLE9BSkExTSxHQUFBM04sS0FBQTRXLElBRUF5RCxFQUFBbEwsR0FBQW5QLEtBQUF3TyxHQUFBb0ksR0FBQS9VLEtBQUE3QixLQUFBeUMsT0FBQXNJLE9BQUEsR0FBQTZMLEVBQUF6RCxTQUFBLEdBQUFMLE1BQ0FnWixZQUFBLEtBQ0F6UixFQW9TQSxPQXRUQWxNLEdBQUF5SSxFQXVUQTVELElBOVJBaEYsR0FBQTRJLEVBQUEsQ0FBQSxDQUNBNVUsSUFBQSxVQUNBbEIsTUFBQSxTQUFBZ1MsR0FDQXRELEdBQUFoQixHQUFBb0ksRUFBQWhPLFdBQUEsVUFBQTVJLE1BQUE2QixLQUFBN0IsS0FBQThTLEdBRUEsU0FBQUEsSUFFQTlTLEtBQUErckIsY0FBQTViLE1BQUFDLFFBQUEwQyxFQUFBc0QsTUFBQXRELEVBQUFzRCxLQUFBMkMsSUFDQS9CLElBQ0EsTUFPQSxDQUNBaFYsSUFBQSxpQkFDQWxCLE1BQUEsV0FDQSxJQUdBa3JCLEVBSEFqYSxFQUFBL1IsS0FBQWlzQixlQUFBblUsTUFBQTlYLEtBQUFtRyxXQVFBLE9BTkFuRyxLQUFBOHJCLGFBR0EvWixFQUFBVyxXQUFBc1osRUFBQWhzQixLQUFBOHJCLGFBQUFqWCxZQUFBaUQsTUFBQWtVLEVBQUE3bEIsWUFHQTRMLElBRUEsQ0FDQS9QLElBQUEsaUJBQ0FsQixNQUFBLFNBQUEsRUFBQSxHQUNBLElBa0JBeWhCLEVBbEJBcE8sRUFBQSxFQUFBaE8sVUFBQUMsYUFBQWpGLElBREEsRUFBQSxFQUNBLEdBQ0EyUyxFQUFBLEVBQUEzTixVQUFBQyxhQUFBakYsSUFGQSxFQUFBLEVBRUEsR0FDQStxQixFQUFBcFksRUFBQXZCLE1BQUEsTUFBQXVCLEVBQUFhLGlCQUFBYixFQUFBYSxpQkFBQTFCLE9BQUFqVCxLQUFBYyxNQUNBcXJCLEVBQUFuc0IsS0FBQWdWLGNBQ0FvWCxFQUFBdFksRUFBQXZCLE1BQUEsTUFBQXVCLEVBQUFhLGlCQUNBYixFQUFBYSxpQkFBQTBYLGVBQUFGLEVBQ0FHLEVBQUFILEVBQUE5b0IsTUFBQStvQixFQUFBaG1CLFFBQ0FtbUIsRUFBQXZzQixLQUFBOHJCLFlBQ0EvWixFQUFBLElBQUFELEdBQ0EwYSxFQUFBRCxHQUFBQSxFQUFBOWlCLE1BNEJBLE9BMUJBekosS0FBQThyQixZQUFBOXJCLEtBQUF5c0IsV0FBQXRZLEVBQUExUixPQUFBc0ksT0FBQSxHQUFBK0ksSUFFQTlULEtBQUE4ckIsY0FDQTlyQixLQUFBOHJCLGNBQUFTLEdBRUF2c0IsS0FBQThyQixZQUFBdlksUUFFQWdQLEVBQUF2aUIsS0FBQThyQixZQUFBclosT0FBQTJaLEVBQUEsQ0FDQWxXLEtBQUEsSUFFQW5FLEVBQUFJLFVBQUFvUSxFQUFBdlEsU0FBQTVMLE9BQUE4bEIsRUFBQTlsQixPQUVBa21CLElBRUF2YSxFQUFBSSxXQUFBblMsS0FBQThyQixZQUFBclosT0FBQTZaLEVBQUEsQ0FDQXBXLEtBQUEsRUFDQTNELE1BQUEsSUFDQUosWUFLQW5TLEtBQUE4ckIsWUFBQXJpQixNQUFBK2lCLEdBSUF6YSxJQUVBLENBQ0EvUCxJQUFBLHFCQUNBbEIsTUFBQSxXQUNBLElBQUFpUixFQUFBL1IsS0FBQWlzQixlQUFBblUsTUFBQTlYLEtBQUFtRyxXQU1BLE9BSkFuRyxLQUFBOHJCLGFBQ0EvWixFQUFBVyxVQUFBMVMsS0FBQThyQixZQUFBblosc0JBR0FaLElBTUEsQ0FDQS9QLElBQUEsYUFDQWxCLE1BQUEsU0FBQXFULEVBQUEsR0FDQSxJQUFBTCxFQUFBLEVBQUEzTixVQUFBQyxhQUFBakYsSUFEQSxFQUFBLEVBQ0EsR0FDQSxPQUFBbkIsS0FBQTBzQixTQUFBdlksRUFBQW5VLEtBQUE4VCxLQU1BLENBQ0E5UixJQUFBLGFBQ0FsQixNQUFBLFdBR0EsSUFGQSxJQUFBK2dCLEVBQUE4SyxFQUVBM0ssRUFBQTdiLFVBQUFDLE9BQUFxVyxFQUFBLElBQUF0TSxNQUFBNlIsR0FBQUMsRUFBQSxFQUFBQSxFQUFBRCxFQUFBQyxJQUNBeEYsRUFBQXdGLEdBQUE5YixVQUFBOGIsR0FHQSxPQUFBSixFQUFBclMsR0FBQWhCLEdBQUFvSSxFQUFBaE8sV0FBQSxhQUFBNUksT0FBQTZCLEtBQUFpVyxNQUFBK0osRUFBQSxDQUFBN2hCLE1BQUFvSyxPQUFBcVMsT0FBQXpjLEtBQUE4ckIsY0FBQWEsRUFBQTNzQixLQUFBOHJCLGFBQUF2WCxXQUFBdUQsTUFBQTZVLEVBQUFsUSxNQU1BLENBQ0F6YSxJQUFBLFFBQ0FsQixNQUFBLFdBQ0FkLEtBQUE4ckIsYUFBQTlyQixLQUFBOHJCLFlBQUF2WSxRQUNBdlQsS0FBQStyQixjQUFBeGdCLFFBQUEsU0FBQThXLEdBQ0EsT0FBQUEsRUFBQTlPLFlBT0EsQ0FDQXZSLElBQUEsU0FLQWxCLE1BQUEsV0FDQSxJQUdBOHJCLEVBSEE3YSxFQUFBLElBQUFELEdBU0EsT0FQQTlSLEtBQUE4ckIsYUFHQS9aLEVBQUFXLFdBQUFrYSxFQUFBNXNCLEtBQUE4ckIsYUFBQWhXLE9BQUFnQyxNQUFBOFUsRUFBQXptQixZQUNBdU0sVUFBQTFTLEtBQUFpc0Isa0JBR0FsYSxJQU1BLENBQ0EvUCxJQUFBLGVBS0FsQixNQUFBLFdBQ0EsSUFBQStyQixFQUVBLE9BQUE3c0IsS0FBQThyQixhQUFBZSxFQUFBN3NCLEtBQUE4ckIsYUFBQW5ZLGFBQUFtRSxNQUFBK1UsRUFBQTFtQixXQUFBLEtBTUEsQ0FDQW5FLElBQUEsY0FDQWxCLE1BQUEsV0FHQSxJQUZBLElBQUFnc0IsRUFBQUMsRUFFQUMsRUFBQTdtQixVQUFBQyxPQUFBcVcsRUFBQSxJQUFBdE0sTUFBQTZjLEdBQUFDLEVBQUEsRUFBQUEsRUFBQUQsRUFBQUMsSUFDQXhRLEVBQUF3USxHQUFBOW1CLFVBQUE4bUIsR0FHQSxPQUFBanRCLEtBQUE4ckIsYUFBQWdCLEVBQUE5c0IsS0FBQThyQixhQUFBbFcsWUFBQWtDLE1BQUFnVixFQUFBclEsSUFBQXNRLEVBQUF2ZCxHQUFBaEIsR0FBQW9JLEVBQUFoTyxXQUFBLGNBQUE1SSxPQUFBNkIsS0FBQWlXLE1BQUFpVixFQUFBLENBQUEvc0IsTUFBQW9LLE9BQUFxUyxNQU1BLENBQ0F6YSxJQUFBLFdBQ0FsQixNQUFBLFdBQ0FkLEtBQUE4ckIsYUFBQTlyQixLQUFBOHJCLFlBQUF0WSxXQUVBaEUsR0FBQWhCLEdBQUFvSSxFQUFBaE8sV0FBQSxXQUFBNUksTUFBQTZCLEtBQUE3QixRQU1BLENBQ0FnQyxJQUFBLGtCQUNBbEIsTUFBQSxXQUdBLElBRkEsSUFBQW9zQixFQUFBQyxFQUVBQyxFQUFBam5CLFVBQUFDLE9BQUFxVyxFQUFBLElBQUF0TSxNQUFBaWQsR0FBQUMsRUFBQSxFQUFBQSxFQUFBRCxFQUFBQyxJQUNBNVEsRUFBQTRRLEdBQUFsbkIsVUFBQWtuQixHQUdBLE9BQUFydEIsS0FBQThyQixhQUFBb0IsRUFBQWx0QixLQUFBOHJCLGFBQUFqVyxnQkFBQWlDLE1BQUFvVixFQUFBelEsSUFBQTBRLEVBQUEzZCxHQUFBaEIsR0FBQW9JLEVBQUFoTyxXQUFBLGtCQUFBNUksT0FBQTZCLEtBQUFpVyxNQUFBcVYsRUFBQSxDQUFBbnRCLE1BQUFvSyxPQUFBcVMsTUFFQSxDQUNBemEsSUFBQSxRQUNBVyxJQUFBLFdBQ0EsT0FBQTNDLEtBQUE4ckIsWUFBQTlyQixLQUFBOHJCLFlBQUFockIsTUFBQSxJQUVBOEQsSUFBQSxTQUFBOUQsR0FDQWdQLEdBQUF0QixHQUFBb0ksRUFBQWhPLFdBQUEsUUFBQTlILEVBQUFkLE1BQUEsS0FNQSxDQUNBZ0MsSUFBQSxnQkFDQVcsSUFBQSxXQUNBLE9BQUEzQyxLQUFBOHJCLFlBQUE5ckIsS0FBQThyQixZQUFBdlQsY0FBQSxJQUVBM1QsSUFBQSxTQUFBMlQsR0FDQXpJLEdBQUF0QixHQUFBb0ksRUFBQWhPLFdBQUEsZ0JBQUEyUCxFQUFBdlksTUFBQSxLQU1BLENBQ0FnQyxJQUFBLGFBQ0FXLElBQUEsV0FDQSxPQUFBM0MsS0FBQThyQixZQUFBOXJCLEtBQUE4ckIsWUFBQWxKLFdBQUEsSUFHQWhlLElBQUEsU0FBQTlELEdBQ0EsSUFBQXlYLEVBQUFwVyxPQUFBckIsR0FFQWQsS0FBQThyQixjQUNBOXJCLEtBQUE4ckIsWUFBQWxKLFdBQUE5aEIsRUFDQXlYLEVBQUF2WSxLQUFBOHJCLFlBQUF2VCxlQUdBdlksS0FBQXVZLGNBQUFBLElBTUEsQ0FDQXZXLElBQUEsYUFDQVcsSUFBQSxXQUNBLFFBQUEzQyxLQUFBOHJCLGFBQUE5ckIsS0FBQThyQixZQUFBMVQsYUFFQSxDQUNBcFcsSUFBQSxRQUNBVyxJQUFBLFdBQ0EsT0FBQUYsT0FBQXNJLE9BQUEsR0FBQXlFLEdBQUFoQixHQUFBb0ksRUFBQWhPLFdBQUEsUUFBQTVJLE1BQUEsQ0FDQXFzQixlQUFBcnNCLEtBQUFnVixjQUNBK1csY0FBQS9yQixLQUFBK3JCLGNBQUFoVCxJQUFBLFNBQUFzSixHQUNBLE9BQUFBLEVBQUE1WSxRQUVBNmpCLGVBQUF0dEIsS0FBQThyQixZQUNBQSxZQUFBOXJCLEtBQUE4ckIsYUFBQTlyQixLQUFBOHJCLFlBQUFyaUIsU0FHQTdFLElBQUEsU0FBQTZFLEdBQ0EsSUFBQXNpQixFQUFBdGlCLEVBQUFzaUIsY0FDQXVCLEVBQUE3akIsRUFBQTZqQixlQUNBeEIsRUFBQXJpQixFQUFBcWlCLFlBQ0FyTCxFQUFBM1IsR0FBQXJGLEVBQUEsQ0FBQSxnQkFBQSxpQkFBQSxnQkFFQXpKLEtBQUErckIsY0FBQXhnQixRQUFBLFNBQUE4VyxFQUFBa0wsR0FDQSxPQUFBbEwsRUFBQTVZLE1BQUFzaUIsRUFBQXdCLEtBR0EsTUFBQUQsSUFDQXR0QixLQUFBOHJCLFlBQUF3QixFQUNBdHRCLEtBQUE4ckIsWUFBQXJpQixNQUFBcWlCLEdBR0FoYyxHQUFBdEIsR0FBQW9JLEVBQUFoTyxXQUFBLFFBQUE2WCxFQUFBemdCLE1BQUEsS0FFQSxDQUNBZ0MsSUFBQSxZQUNBVyxJQUFBLFdBQ0EsT0FBQTNDLEtBQUE4ckIsWUFBQTlyQixLQUFBOHJCLFlBQUF0WCxVQUFBaEYsR0FBQWhCLEdBQUFvSSxFQUFBaE8sV0FBQSxZQUFBNUksT0FFQTRFLElBQUEsV0FDQWtTLFFBQUFDLEtBQUEsd0ZBSUFILEVBdlRBLEdBeVRBQSxHQUFBekQsU0FBQSxDQUNBdVosU0FBQSxTQUFBdlksRUFBQTNCLEVBQUFzQixHQUNBLEdBQUF0QixFQUFBdVosY0FBQTNsQixPQUFBLENBQ0EsSUFBQStsQixFQUFBM1osRUFBQXdDLGNBRUF3WSxFQUFBaGIsRUFBQXVaLGNBQUFoVCxJQUFBLFNBQUFzSixFQUFBbGIsR0FPQSxPQU5Ba2IsRUFBQTlPLFFBQ0E4TyxFQUFBNVAsT0FBQTBaLEVBQUEsQ0FDQWpXLEtBQUEsSUFFQW1NLEVBQUE1UCxPQUFBMEIsRUFBQUwsR0FFQSxDQUNBMlosT0FGQXBMLEVBQUFyTixjQUFBNU8sT0FHQWUsTUFBQUEsS0FPQSxPQUhBcW1CLEVBQUF6UyxLQUFBLFNBQUEyUyxFQUFBQyxHQUNBLE9BQUFBLEVBQUFGLE9BQUFDLEVBQUFELFNBRUFqYixFQUFBdVosY0FBQXlCLEVBQUEsR0FBQXJtQixVQUdBcEgsR0FBQTZXLGNBQUFBLEdBSUEsSUFBQWdYLEdBQUEsQ0FDQUMsT0FBQSxRQUNBQyxTQUFBLGdCQUNBQyxNQUFBLGNBSUEsU0FBQUMsR0FBQTVYLEdBQ0EsSUFBQS9ELEVBQUEsRUFBQWxNLFVBQUFDLGFBQUFqRixJQUFBZ0YsVUFBQSxHQUFBQSxVQUFBLEdBQUF5bkIsR0FBQUMsT0FDQS9NLEVBQUEsRUFBQTNhLFVBQUFDLGFBQUFqRixJQUFBZ0YsVUFBQSxHQUFBQSxVQUFBLEdBQUF5bkIsR0FBQUMsT0FDQXJiLEVBQUF3RSxHQUFBWixHQUNBLE9BQUEsU0FBQXRWLEdBQ0EsT0FBQTBSLEVBQUF5YixZQUFBLFNBQUE1TCxHQUVBLE9BREFBLEVBQUFoUSxHQUFBdlIsRUFDQXVoQixFQUFBdkIsTUFNQSxTQUFBb04sR0FBQXB0QixHQUNBLElBQUEsSUFBQWtoQixFQUFBN2IsVUFBQUMsT0FBQStuQixFQUFBLElBQUFoZSxNQUFBLEVBQUE2UixFQUFBQSxFQUFBLEVBQUEsR0FBQUMsRUFBQSxFQUFBQSxFQUFBRCxFQUFBQyxJQUNBa00sRUFBQWxNLEVBQUEsR0FBQTliLFVBQUE4YixHQUdBLE9BQUErTCxHQUFBbFcsV0FBQSxFQUFBcVcsRUFBQUgsQ0FBQWx0QixHQUVBZixHQUFBNnRCLFVBQUFBLEdBQ0E3dEIsR0FBQWl1QixXQUFBQSxHQUNBanVCLEdBQUFtdUIsS0FBQUEsR0FFQSxJQUNBaHVCLFdBQUFILE1BQUFBLEdBQ0EsTUFBQXNqQixJQUVBM2pCLEVBQUEra0IsK0JBQUFBLEdBQ0Eva0IsRUFBQThqQixnQkFBQUEsR0FDQTlqQixFQUFBcVQsVUFBQUEsR0FDQXJULEVBQUF1akIsWUFBQUEsR0FDQXZqQixFQUFBc1QsT0FBQUEsR0FDQXRULEVBQUErVyxXQUFBQSxHQUNBL1csRUFBQWtYLGNBQUFBLEdBQ0FsWCxFQUFBb3BCLFdBQUFBLEdBQ0FwcEIsRUFBQW1YLGVBQUFBLEdBQ0FuWCxFQUFBaVgsYUFBQUEsR0FDQWpYLEVBQUE2VyxjQUFBQSxHQUNBN1csRUFBQW1oQixZQUFBQSxHQUNBbmhCLEVBQUE0VyxhQUFBQSxHQUNBNVcsRUFBQWt1QixVQUFBQSxHQUNBbHVCLEVBQUFzWCxXQUFBQSxHQUNBdFgsRUFBQXN1QixXQUFBQSxHQUNBdHVCLEVBQUEwdUIsUUFBQXJ1QixHQUNBTCxFQUFBd3VCLEtBQUFBLEdBRUF6ckIsT0FBQUMsZUFBQWhELEVBQUEsYUFBQSxDQUFBb0IsT0FBQSIsImZpbGUiOiJsaWJzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG5cdHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IGZhY3RvcnkoZXhwb3J0cykgOlxuXHR0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoWydleHBvcnRzJ10sIGZhY3RvcnkpIDpcblx0KGdsb2JhbCA9IGdsb2JhbCB8fCBzZWxmLCBmYWN0b3J5KGdsb2JhbC5JTWFzayA9IHt9KSk7XG59KHRoaXMsIChmdW5jdGlvbiAoZXhwb3J0cykgeyAndXNlIHN0cmljdCc7XG5cblx0dmFyIGNvbW1vbmpzR2xvYmFsID0gdHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsVGhpcyA6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDoge307XG5cblx0ZnVuY3Rpb24gY3JlYXRlQ29tbW9uanNNb2R1bGUoZm4sIG1vZHVsZSkge1xuXHRcdHJldHVybiBtb2R1bGUgPSB7IGV4cG9ydHM6IHt9IH0sIGZuKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMpLCBtb2R1bGUuZXhwb3J0cztcblx0fVxuXG5cdHZhciBjaGVjayA9IGZ1bmN0aW9uIChpdCkge1xuXHQgIHJldHVybiBpdCAmJiBpdC5NYXRoID09IE1hdGggJiYgaXQ7XG5cdH07IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy84NiNpc3N1ZWNvbW1lbnQtMTE1NzU5MDI4XG5cblxuXHR2YXIgZ2xvYmFsXzEgPSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcblx0Y2hlY2sodHlwZW9mIGdsb2JhbFRoaXMgPT0gJ29iamVjdCcgJiYgZ2xvYmFsVGhpcykgfHwgY2hlY2sodHlwZW9mIHdpbmRvdyA9PSAnb2JqZWN0JyAmJiB3aW5kb3cpIHx8IGNoZWNrKHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYpIHx8IGNoZWNrKHR5cGVvZiBjb21tb25qc0dsb2JhbCA9PSAnb2JqZWN0JyAmJiBjb21tb25qc0dsb2JhbCkgfHwgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5ldy1mdW5jXG5cdEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cblx0dmFyIGZhaWxzID0gZnVuY3Rpb24gKGV4ZWMpIHtcblx0ICB0cnkge1xuXHQgICAgcmV0dXJuICEhZXhlYygpO1xuXHQgIH0gY2F0Y2ggKGVycm9yKSB7XG5cdCAgICByZXR1cm4gdHJ1ZTtcblx0ICB9XG5cdH07XG5cblx0Ly8gVGhhbmsncyBJRTggZm9yIGhpcyBmdW5ueSBkZWZpbmVQcm9wZXJ0eVxuXG5cblx0dmFyIGRlc2NyaXB0b3JzID0gIWZhaWxzKGZ1bmN0aW9uICgpIHtcblx0ICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAxLCB7XG5cdCAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgcmV0dXJuIDc7XG5cdCAgICB9XG5cdCAgfSlbMV0gIT0gNztcblx0fSk7XG5cblx0dmFyIG5hdGl2ZVByb3BlcnR5SXNFbnVtZXJhYmxlID0ge30ucHJvcGVydHlJc0VudW1lcmFibGU7XG5cdHZhciBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOyAvLyBOYXNob3JuIH4gSkRLOCBidWdcblxuXHR2YXIgTkFTSE9STl9CVUcgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgJiYgIW5hdGl2ZVByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoe1xuXHQgIDE6IDJcblx0fSwgMSk7IC8vIGBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlYCBtZXRob2QgaW1wbGVtZW50YXRpb25cblx0Ly8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtb2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eWlzZW51bWVyYWJsZVxuXG5cdHZhciBmID0gTkFTSE9STl9CVUcgPyBmdW5jdGlvbiBwcm9wZXJ0eUlzRW51bWVyYWJsZShWKSB7XG5cdCAgdmFyIGRlc2NyaXB0b3IgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGhpcywgVik7XG5cdCAgcmV0dXJuICEhZGVzY3JpcHRvciAmJiBkZXNjcmlwdG9yLmVudW1lcmFibGU7XG5cdH0gOiBuYXRpdmVQcm9wZXJ0eUlzRW51bWVyYWJsZTtcblxuXHR2YXIgb2JqZWN0UHJvcGVydHlJc0VudW1lcmFibGUgPSB7XG5cdFx0ZjogZlxuXHR9O1xuXG5cdHZhciBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IgPSBmdW5jdGlvbiAoYml0bWFwLCB2YWx1ZSkge1xuXHQgIHJldHVybiB7XG5cdCAgICBlbnVtZXJhYmxlOiAhKGJpdG1hcCAmIDEpLFxuXHQgICAgY29uZmlndXJhYmxlOiAhKGJpdG1hcCAmIDIpLFxuXHQgICAgd3JpdGFibGU6ICEoYml0bWFwICYgNCksXG5cdCAgICB2YWx1ZTogdmFsdWVcblx0ICB9O1xuXHR9O1xuXG5cdHZhciB0b1N0cmluZyA9IHt9LnRvU3RyaW5nO1xuXG5cdHZhciBjbGFzc29mUmF3ID0gZnVuY3Rpb24gKGl0KSB7XG5cdCAgcmV0dXJuIHRvU3RyaW5nLmNhbGwoaXQpLnNsaWNlKDgsIC0xKTtcblx0fTtcblxuXHR2YXIgc3BsaXQgPSAnJy5zcGxpdDsgLy8gZmFsbGJhY2sgZm9yIG5vbi1hcnJheS1saWtlIEVTMyBhbmQgbm9uLWVudW1lcmFibGUgb2xkIFY4IHN0cmluZ3NcblxuXHR2YXIgaW5kZXhlZE9iamVjdCA9IGZhaWxzKGZ1bmN0aW9uICgpIHtcblx0ICAvLyB0aHJvd3MgYW4gZXJyb3IgaW4gcmhpbm8sIHNlZSBodHRwczovL2dpdGh1Yi5jb20vbW96aWxsYS9yaGluby9pc3N1ZXMvMzQ2XG5cdCAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXByb3RvdHlwZS1idWlsdGluc1xuXHQgIHJldHVybiAhT2JqZWN0KCd6JykucHJvcGVydHlJc0VudW1lcmFibGUoMCk7XG5cdH0pID8gZnVuY3Rpb24gKGl0KSB7XG5cdCAgcmV0dXJuIGNsYXNzb2ZSYXcoaXQpID09ICdTdHJpbmcnID8gc3BsaXQuY2FsbChpdCwgJycpIDogT2JqZWN0KGl0KTtcblx0fSA6IE9iamVjdDtcblxuXHQvLyBgUmVxdWlyZU9iamVjdENvZXJjaWJsZWAgYWJzdHJhY3Qgb3BlcmF0aW9uXG5cdC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLXJlcXVpcmVvYmplY3Rjb2VyY2libGVcblx0dmFyIHJlcXVpcmVPYmplY3RDb2VyY2libGUgPSBmdW5jdGlvbiAoaXQpIHtcblx0ICBpZiAoaXQgPT0gdW5kZWZpbmVkKSB0aHJvdyBUeXBlRXJyb3IoXCJDYW4ndCBjYWxsIG1ldGhvZCBvbiBcIiArIGl0KTtcblx0ICByZXR1cm4gaXQ7XG5cdH07XG5cblx0Ly8gdG9PYmplY3Qgd2l0aCBmYWxsYmFjayBmb3Igbm9uLWFycmF5LWxpa2UgRVMzIHN0cmluZ3NcblxuXG5cblxuXHR2YXIgdG9JbmRleGVkT2JqZWN0ID0gZnVuY3Rpb24gKGl0KSB7XG5cdCAgcmV0dXJuIGluZGV4ZWRPYmplY3QocmVxdWlyZU9iamVjdENvZXJjaWJsZShpdCkpO1xuXHR9O1xuXG5cdHZhciBpc09iamVjdCA9IGZ1bmN0aW9uIChpdCkge1xuXHQgIHJldHVybiB0eXBlb2YgaXQgPT09ICdvYmplY3QnID8gaXQgIT09IG51bGwgOiB0eXBlb2YgaXQgPT09ICdmdW5jdGlvbic7XG5cdH07XG5cblx0Ly8gYFRvUHJpbWl0aXZlYCBhYnN0cmFjdCBvcGVyYXRpb25cblx0Ly8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtdG9wcmltaXRpdmVcblx0Ly8gaW5zdGVhZCBvZiB0aGUgRVM2IHNwZWMgdmVyc2lvbiwgd2UgZGlkbid0IGltcGxlbWVudCBAQHRvUHJpbWl0aXZlIGNhc2Vcblx0Ly8gYW5kIHRoZSBzZWNvbmQgYXJndW1lbnQgLSBmbGFnIC0gcHJlZmVycmVkIHR5cGUgaXMgYSBzdHJpbmdcblxuXG5cdHZhciB0b1ByaW1pdGl2ZSA9IGZ1bmN0aW9uIChpbnB1dCwgUFJFRkVSUkVEX1NUUklORykge1xuXHQgIGlmICghaXNPYmplY3QoaW5wdXQpKSByZXR1cm4gaW5wdXQ7XG5cdCAgdmFyIGZuLCB2YWw7XG5cdCAgaWYgKFBSRUZFUlJFRF9TVFJJTkcgJiYgdHlwZW9mIChmbiA9IGlucHV0LnRvU3RyaW5nKSA9PSAnZnVuY3Rpb24nICYmICFpc09iamVjdCh2YWwgPSBmbi5jYWxsKGlucHV0KSkpIHJldHVybiB2YWw7XG5cdCAgaWYgKHR5cGVvZiAoZm4gPSBpbnB1dC52YWx1ZU9mKSA9PSAnZnVuY3Rpb24nICYmICFpc09iamVjdCh2YWwgPSBmbi5jYWxsKGlucHV0KSkpIHJldHVybiB2YWw7XG5cdCAgaWYgKCFQUkVGRVJSRURfU1RSSU5HICYmIHR5cGVvZiAoZm4gPSBpbnB1dC50b1N0cmluZykgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpbnB1dCkpKSByZXR1cm4gdmFsO1xuXHQgIHRocm93IFR5cGVFcnJvcihcIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZVwiKTtcblx0fTtcblxuXHR2YXIgaGFzT3duUHJvcGVydHkgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxuXHR2YXIgaGFzID0gZnVuY3Rpb24gKGl0LCBrZXkpIHtcblx0ICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChpdCwga2V5KTtcblx0fTtcblxuXHR2YXIgZG9jdW1lbnQkMSA9IGdsb2JhbF8xLmRvY3VtZW50OyAvLyB0eXBlb2YgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCBpcyAnb2JqZWN0JyBpbiBvbGQgSUVcblxuXHR2YXIgRVhJU1RTID0gaXNPYmplY3QoZG9jdW1lbnQkMSkgJiYgaXNPYmplY3QoZG9jdW1lbnQkMS5jcmVhdGVFbGVtZW50KTtcblxuXHR2YXIgZG9jdW1lbnRDcmVhdGVFbGVtZW50ID0gZnVuY3Rpb24gKGl0KSB7XG5cdCAgcmV0dXJuIEVYSVNUUyA/IGRvY3VtZW50JDEuY3JlYXRlRWxlbWVudChpdCkgOiB7fTtcblx0fTtcblxuXHQvLyBUaGFuaydzIElFOCBmb3IgaGlzIGZ1bm55IGRlZmluZVByb3BlcnR5XG5cblxuXHR2YXIgaWU4RG9tRGVmaW5lID0gIWRlc2NyaXB0b3JzICYmICFmYWlscyhmdW5jdGlvbiAoKSB7XG5cdCAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShkb2N1bWVudENyZWF0ZUVsZW1lbnQoJ2RpdicpLCAnYScsIHtcblx0ICAgIGdldDogZnVuY3Rpb24gKCkge1xuXHQgICAgICByZXR1cm4gNztcblx0ICAgIH1cblx0ICB9KS5hICE9IDc7XG5cdH0pO1xuXG5cdHZhciBuYXRpdmVHZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOyAvLyBgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcmAgbWV0aG9kXG5cdC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLW9iamVjdC5nZXRvd25wcm9wZXJ0eWRlc2NyaXB0b3JcblxuXHR2YXIgZiQxID0gZGVzY3JpcHRvcnMgPyBuYXRpdmVHZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgOiBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTywgUCkge1xuXHQgIE8gPSB0b0luZGV4ZWRPYmplY3QoTyk7XG5cdCAgUCA9IHRvUHJpbWl0aXZlKFAsIHRydWUpO1xuXHQgIGlmIChpZThEb21EZWZpbmUpIHRyeSB7XG5cdCAgICByZXR1cm4gbmF0aXZlR2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE8sIFApO1xuXHQgIH0gY2F0Y2ggKGVycm9yKSB7XG5cdCAgICAvKiBlbXB0eSAqL1xuXHQgIH1cblx0ICBpZiAoaGFzKE8sIFApKSByZXR1cm4gY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yKCFvYmplY3RQcm9wZXJ0eUlzRW51bWVyYWJsZS5mLmNhbGwoTywgUCksIE9bUF0pO1xuXHR9O1xuXG5cdHZhciBvYmplY3RHZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSB7XG5cdFx0ZjogZiQxXG5cdH07XG5cblx0dmFyIGFuT2JqZWN0ID0gZnVuY3Rpb24gKGl0KSB7XG5cdCAgaWYgKCFpc09iamVjdChpdCkpIHtcblx0ICAgIHRocm93IFR5cGVFcnJvcihTdHJpbmcoaXQpICsgJyBpcyBub3QgYW4gb2JqZWN0Jyk7XG5cdCAgfVxuXG5cdCAgcmV0dXJuIGl0O1xuXHR9O1xuXG5cdHZhciBuYXRpdmVEZWZpbmVQcm9wZXJ0eSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTsgLy8gYE9iamVjdC5kZWZpbmVQcm9wZXJ0eWAgbWV0aG9kXG5cdC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLW9iamVjdC5kZWZpbmVwcm9wZXJ0eVxuXG5cdHZhciBmJDIgPSBkZXNjcmlwdG9ycyA/IG5hdGl2ZURlZmluZVByb3BlcnR5IDogZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcykge1xuXHQgIGFuT2JqZWN0KE8pO1xuXHQgIFAgPSB0b1ByaW1pdGl2ZShQLCB0cnVlKTtcblx0ICBhbk9iamVjdChBdHRyaWJ1dGVzKTtcblx0ICBpZiAoaWU4RG9tRGVmaW5lKSB0cnkge1xuXHQgICAgcmV0dXJuIG5hdGl2ZURlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpO1xuXHQgIH0gY2F0Y2ggKGVycm9yKSB7XG5cdCAgICAvKiBlbXB0eSAqL1xuXHQgIH1cblx0ICBpZiAoJ2dldCcgaW4gQXR0cmlidXRlcyB8fCAnc2V0JyBpbiBBdHRyaWJ1dGVzKSB0aHJvdyBUeXBlRXJyb3IoJ0FjY2Vzc29ycyBub3Qgc3VwcG9ydGVkJyk7XG5cdCAgaWYgKCd2YWx1ZScgaW4gQXR0cmlidXRlcykgT1tQXSA9IEF0dHJpYnV0ZXMudmFsdWU7XG5cdCAgcmV0dXJuIE87XG5cdH07XG5cblx0dmFyIG9iamVjdERlZmluZVByb3BlcnR5ID0ge1xuXHRcdGY6IGYkMlxuXHR9O1xuXG5cdHZhciBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkgPSBkZXNjcmlwdG9ycyA/IGZ1bmN0aW9uIChvYmplY3QsIGtleSwgdmFsdWUpIHtcblx0ICByZXR1cm4gb2JqZWN0RGVmaW5lUHJvcGVydHkuZihvYmplY3QsIGtleSwgY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yKDEsIHZhbHVlKSk7XG5cdH0gOiBmdW5jdGlvbiAob2JqZWN0LCBrZXksIHZhbHVlKSB7XG5cdCAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcblx0ICByZXR1cm4gb2JqZWN0O1xuXHR9O1xuXG5cdHZhciBzZXRHbG9iYWwgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuXHQgIHRyeSB7XG5cdCAgICBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkoZ2xvYmFsXzEsIGtleSwgdmFsdWUpO1xuXHQgIH0gY2F0Y2ggKGVycm9yKSB7XG5cdCAgICBnbG9iYWxfMVtrZXldID0gdmFsdWU7XG5cdCAgfVxuXG5cdCAgcmV0dXJuIHZhbHVlO1xuXHR9O1xuXG5cdHZhciBTSEFSRUQgPSAnX19jb3JlLWpzX3NoYXJlZF9fJztcblx0dmFyIHN0b3JlID0gZ2xvYmFsXzFbU0hBUkVEXSB8fCBzZXRHbG9iYWwoU0hBUkVELCB7fSk7XG5cdHZhciBzaGFyZWRTdG9yZSA9IHN0b3JlO1xuXG5cdHZhciBmdW5jdGlvblRvU3RyaW5nID0gRnVuY3Rpb24udG9TdHJpbmc7IC8vIHRoaXMgaGVscGVyIGJyb2tlbiBpbiBgMy40LjEtMy40LjRgLCBzbyB3ZSBjYW4ndCB1c2UgYHNoYXJlZGAgaGVscGVyXG5cblx0aWYgKHR5cGVvZiBzaGFyZWRTdG9yZS5pbnNwZWN0U291cmNlICE9ICdmdW5jdGlvbicpIHtcblx0ICBzaGFyZWRTdG9yZS5pbnNwZWN0U291cmNlID0gZnVuY3Rpb24gKGl0KSB7XG5cdCAgICByZXR1cm4gZnVuY3Rpb25Ub1N0cmluZy5jYWxsKGl0KTtcblx0ICB9O1xuXHR9XG5cblx0dmFyIGluc3BlY3RTb3VyY2UgPSBzaGFyZWRTdG9yZS5pbnNwZWN0U291cmNlO1xuXG5cdHZhciBXZWFrTWFwID0gZ2xvYmFsXzEuV2Vha01hcDtcblx0dmFyIG5hdGl2ZVdlYWtNYXAgPSB0eXBlb2YgV2Vha01hcCA9PT0gJ2Z1bmN0aW9uJyAmJiAvbmF0aXZlIGNvZGUvLnRlc3QoaW5zcGVjdFNvdXJjZShXZWFrTWFwKSk7XG5cblx0dmFyIHNoYXJlZCA9IGNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZ1bmN0aW9uIChtb2R1bGUpIHtcblx0KG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcblx0ICByZXR1cm4gc2hhcmVkU3RvcmVba2V5XSB8fCAoc2hhcmVkU3RvcmVba2V5XSA9IHZhbHVlICE9PSB1bmRlZmluZWQgPyB2YWx1ZSA6IHt9KTtcblx0fSkoJ3ZlcnNpb25zJywgW10pLnB1c2goe1xuXHQgIHZlcnNpb246ICczLjYuNCcsXG5cdCAgbW9kZTogICdnbG9iYWwnLFxuXHQgIGNvcHlyaWdodDogJ8KpIDIwMjAgRGVuaXMgUHVzaGthcmV2ICh6bG9pcm9jay5ydSknXG5cdH0pO1xuXHR9KTtcblxuXHR2YXIgaWQgPSAwO1xuXHR2YXIgcG9zdGZpeCA9IE1hdGgucmFuZG9tKCk7XG5cblx0dmFyIHVpZCA9IGZ1bmN0aW9uIChrZXkpIHtcblx0ICByZXR1cm4gJ1N5bWJvbCgnICsgU3RyaW5nKGtleSA9PT0gdW5kZWZpbmVkID8gJycgOiBrZXkpICsgJylfJyArICgrK2lkICsgcG9zdGZpeCkudG9TdHJpbmcoMzYpO1xuXHR9O1xuXG5cdHZhciBrZXlzID0gc2hhcmVkKCdrZXlzJyk7XG5cblx0dmFyIHNoYXJlZEtleSA9IGZ1bmN0aW9uIChrZXkpIHtcblx0ICByZXR1cm4ga2V5c1trZXldIHx8IChrZXlzW2tleV0gPSB1aWQoa2V5KSk7XG5cdH07XG5cblx0dmFyIGhpZGRlbktleXMgPSB7fTtcblxuXHR2YXIgV2Vha01hcCQxID0gZ2xvYmFsXzEuV2Vha01hcDtcblx0dmFyIHNldCwgZ2V0LCBoYXMkMTtcblxuXHR2YXIgZW5mb3JjZSA9IGZ1bmN0aW9uIChpdCkge1xuXHQgIHJldHVybiBoYXMkMShpdCkgPyBnZXQoaXQpIDogc2V0KGl0LCB7fSk7XG5cdH07XG5cblx0dmFyIGdldHRlckZvciA9IGZ1bmN0aW9uIChUWVBFKSB7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIChpdCkge1xuXHQgICAgdmFyIHN0YXRlO1xuXG5cdCAgICBpZiAoIWlzT2JqZWN0KGl0KSB8fCAoc3RhdGUgPSBnZXQoaXQpKS50eXBlICE9PSBUWVBFKSB7XG5cdCAgICAgIHRocm93IFR5cGVFcnJvcignSW5jb21wYXRpYmxlIHJlY2VpdmVyLCAnICsgVFlQRSArICcgcmVxdWlyZWQnKTtcblx0ICAgIH1cblxuXHQgICAgcmV0dXJuIHN0YXRlO1xuXHQgIH07XG5cdH07XG5cblx0aWYgKG5hdGl2ZVdlYWtNYXApIHtcblx0ICB2YXIgc3RvcmUkMSA9IG5ldyBXZWFrTWFwJDEoKTtcblx0ICB2YXIgd21nZXQgPSBzdG9yZSQxLmdldDtcblx0ICB2YXIgd21oYXMgPSBzdG9yZSQxLmhhcztcblx0ICB2YXIgd21zZXQgPSBzdG9yZSQxLnNldDtcblxuXHQgIHNldCA9IGZ1bmN0aW9uIChpdCwgbWV0YWRhdGEpIHtcblx0ICAgIHdtc2V0LmNhbGwoc3RvcmUkMSwgaXQsIG1ldGFkYXRhKTtcblx0ICAgIHJldHVybiBtZXRhZGF0YTtcblx0ICB9O1xuXG5cdCAgZ2V0ID0gZnVuY3Rpb24gKGl0KSB7XG5cdCAgICByZXR1cm4gd21nZXQuY2FsbChzdG9yZSQxLCBpdCkgfHwge307XG5cdCAgfTtcblxuXHQgIGhhcyQxID0gZnVuY3Rpb24gKGl0KSB7XG5cdCAgICByZXR1cm4gd21oYXMuY2FsbChzdG9yZSQxLCBpdCk7XG5cdCAgfTtcblx0fSBlbHNlIHtcblx0ICB2YXIgU1RBVEUgPSBzaGFyZWRLZXkoJ3N0YXRlJyk7XG5cdCAgaGlkZGVuS2V5c1tTVEFURV0gPSB0cnVlO1xuXG5cdCAgc2V0ID0gZnVuY3Rpb24gKGl0LCBtZXRhZGF0YSkge1xuXHQgICAgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5KGl0LCBTVEFURSwgbWV0YWRhdGEpO1xuXHQgICAgcmV0dXJuIG1ldGFkYXRhO1xuXHQgIH07XG5cblx0ICBnZXQgPSBmdW5jdGlvbiAoaXQpIHtcblx0ICAgIHJldHVybiBoYXMoaXQsIFNUQVRFKSA/IGl0W1NUQVRFXSA6IHt9O1xuXHQgIH07XG5cblx0ICBoYXMkMSA9IGZ1bmN0aW9uIChpdCkge1xuXHQgICAgcmV0dXJuIGhhcyhpdCwgU1RBVEUpO1xuXHQgIH07XG5cdH1cblxuXHR2YXIgaW50ZXJuYWxTdGF0ZSA9IHtcblx0ICBzZXQ6IHNldCxcblx0ICBnZXQ6IGdldCxcblx0ICBoYXM6IGhhcyQxLFxuXHQgIGVuZm9yY2U6IGVuZm9yY2UsXG5cdCAgZ2V0dGVyRm9yOiBnZXR0ZXJGb3Jcblx0fTtcblxuXHR2YXIgcmVkZWZpbmUgPSBjcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbiAobW9kdWxlKSB7XG5cdHZhciBnZXRJbnRlcm5hbFN0YXRlID0gaW50ZXJuYWxTdGF0ZS5nZXQ7XG5cdHZhciBlbmZvcmNlSW50ZXJuYWxTdGF0ZSA9IGludGVybmFsU3RhdGUuZW5mb3JjZTtcblx0dmFyIFRFTVBMQVRFID0gU3RyaW5nKFN0cmluZykuc3BsaXQoJ1N0cmluZycpO1xuXHQobW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoTywga2V5LCB2YWx1ZSwgb3B0aW9ucykge1xuXHQgIHZhciB1bnNhZmUgPSBvcHRpb25zID8gISFvcHRpb25zLnVuc2FmZSA6IGZhbHNlO1xuXHQgIHZhciBzaW1wbGUgPSBvcHRpb25zID8gISFvcHRpb25zLmVudW1lcmFibGUgOiBmYWxzZTtcblx0ICB2YXIgbm9UYXJnZXRHZXQgPSBvcHRpb25zID8gISFvcHRpb25zLm5vVGFyZ2V0R2V0IDogZmFsc2U7XG5cblx0ICBpZiAodHlwZW9mIHZhbHVlID09ICdmdW5jdGlvbicpIHtcblx0ICAgIGlmICh0eXBlb2Yga2V5ID09ICdzdHJpbmcnICYmICFoYXModmFsdWUsICduYW1lJykpIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eSh2YWx1ZSwgJ25hbWUnLCBrZXkpO1xuXHQgICAgZW5mb3JjZUludGVybmFsU3RhdGUodmFsdWUpLnNvdXJjZSA9IFRFTVBMQVRFLmpvaW4odHlwZW9mIGtleSA9PSAnc3RyaW5nJyA/IGtleSA6ICcnKTtcblx0ICB9XG5cblx0ICBpZiAoTyA9PT0gZ2xvYmFsXzEpIHtcblx0ICAgIGlmIChzaW1wbGUpIE9ba2V5XSA9IHZhbHVlO2Vsc2Ugc2V0R2xvYmFsKGtleSwgdmFsdWUpO1xuXHQgICAgcmV0dXJuO1xuXHQgIH0gZWxzZSBpZiAoIXVuc2FmZSkge1xuXHQgICAgZGVsZXRlIE9ba2V5XTtcblx0ICB9IGVsc2UgaWYgKCFub1RhcmdldEdldCAmJiBPW2tleV0pIHtcblx0ICAgIHNpbXBsZSA9IHRydWU7XG5cdCAgfVxuXG5cdCAgaWYgKHNpbXBsZSkgT1trZXldID0gdmFsdWU7ZWxzZSBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkoTywga2V5LCB2YWx1ZSk7IC8vIGFkZCBmYWtlIEZ1bmN0aW9uI3RvU3RyaW5nIGZvciBjb3JyZWN0IHdvcmsgd3JhcHBlZCBtZXRob2RzIC8gY29uc3RydWN0b3JzIHdpdGggbWV0aG9kcyBsaWtlIExvRGFzaCBpc05hdGl2ZVxuXHR9KShGdW5jdGlvbi5wcm90b3R5cGUsICd0b1N0cmluZycsIGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuXHQgIHJldHVybiB0eXBlb2YgdGhpcyA9PSAnZnVuY3Rpb24nICYmIGdldEludGVybmFsU3RhdGUodGhpcykuc291cmNlIHx8IGluc3BlY3RTb3VyY2UodGhpcyk7XG5cdH0pO1xuXHR9KTtcblxuXHR2YXIgcGF0aCA9IGdsb2JhbF8xO1xuXG5cdHZhciBhRnVuY3Rpb24gPSBmdW5jdGlvbiAodmFyaWFibGUpIHtcblx0ICByZXR1cm4gdHlwZW9mIHZhcmlhYmxlID09ICdmdW5jdGlvbicgPyB2YXJpYWJsZSA6IHVuZGVmaW5lZDtcblx0fTtcblxuXHR2YXIgZ2V0QnVpbHRJbiA9IGZ1bmN0aW9uIChuYW1lc3BhY2UsIG1ldGhvZCkge1xuXHQgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoIDwgMiA/IGFGdW5jdGlvbihwYXRoW25hbWVzcGFjZV0pIHx8IGFGdW5jdGlvbihnbG9iYWxfMVtuYW1lc3BhY2VdKSA6IHBhdGhbbmFtZXNwYWNlXSAmJiBwYXRoW25hbWVzcGFjZV1bbWV0aG9kXSB8fCBnbG9iYWxfMVtuYW1lc3BhY2VdICYmIGdsb2JhbF8xW25hbWVzcGFjZV1bbWV0aG9kXTtcblx0fTtcblxuXHR2YXIgY2VpbCA9IE1hdGguY2VpbDtcblx0dmFyIGZsb29yID0gTWF0aC5mbG9vcjsgLy8gYFRvSW50ZWdlcmAgYWJzdHJhY3Qgb3BlcmF0aW9uXG5cdC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLXRvaW50ZWdlclxuXG5cdHZhciB0b0ludGVnZXIgPSBmdW5jdGlvbiAoYXJndW1lbnQpIHtcblx0ICByZXR1cm4gaXNOYU4oYXJndW1lbnQgPSArYXJndW1lbnQpID8gMCA6IChhcmd1bWVudCA+IDAgPyBmbG9vciA6IGNlaWwpKGFyZ3VtZW50KTtcblx0fTtcblxuXHR2YXIgbWluID0gTWF0aC5taW47IC8vIGBUb0xlbmd0aGAgYWJzdHJhY3Qgb3BlcmF0aW9uXG5cdC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLXRvbGVuZ3RoXG5cblx0dmFyIHRvTGVuZ3RoID0gZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG5cdCAgcmV0dXJuIGFyZ3VtZW50ID4gMCA/IG1pbih0b0ludGVnZXIoYXJndW1lbnQpLCAweDFGRkZGRkZGRkZGRkZGKSA6IDA7IC8vIDIgKiogNTMgLSAxID09IDkwMDcxOTkyNTQ3NDA5OTFcblx0fTtcblxuXHR2YXIgbWF4ID0gTWF0aC5tYXg7XG5cdHZhciBtaW4kMSA9IE1hdGgubWluOyAvLyBIZWxwZXIgZm9yIGEgcG9wdWxhciByZXBlYXRpbmcgY2FzZSBvZiB0aGUgc3BlYzpcblx0Ly8gTGV0IGludGVnZXIgYmUgPyBUb0ludGVnZXIoaW5kZXgpLlxuXHQvLyBJZiBpbnRlZ2VyIDwgMCwgbGV0IHJlc3VsdCBiZSBtYXgoKGxlbmd0aCArIGludGVnZXIpLCAwKTsgZWxzZSBsZXQgcmVzdWx0IGJlIG1pbihpbnRlZ2VyLCBsZW5ndGgpLlxuXG5cdHZhciB0b0Fic29sdXRlSW5kZXggPSBmdW5jdGlvbiAoaW5kZXgsIGxlbmd0aCkge1xuXHQgIHZhciBpbnRlZ2VyID0gdG9JbnRlZ2VyKGluZGV4KTtcblx0ICByZXR1cm4gaW50ZWdlciA8IDAgPyBtYXgoaW50ZWdlciArIGxlbmd0aCwgMCkgOiBtaW4kMShpbnRlZ2VyLCBsZW5ndGgpO1xuXHR9O1xuXG5cdC8vIGBBcnJheS5wcm90b3R5cGUueyBpbmRleE9mLCBpbmNsdWRlcyB9YCBtZXRob2RzIGltcGxlbWVudGF0aW9uXG5cblxuXHR2YXIgY3JlYXRlTWV0aG9kID0gZnVuY3Rpb24gKElTX0lOQ0xVREVTKSB7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uICgkdGhpcywgZWwsIGZyb21JbmRleCkge1xuXHQgICAgdmFyIE8gPSB0b0luZGV4ZWRPYmplY3QoJHRoaXMpO1xuXHQgICAgdmFyIGxlbmd0aCA9IHRvTGVuZ3RoKE8ubGVuZ3RoKTtcblx0ICAgIHZhciBpbmRleCA9IHRvQWJzb2x1dGVJbmRleChmcm9tSW5kZXgsIGxlbmd0aCk7XG5cdCAgICB2YXIgdmFsdWU7IC8vIEFycmF5I2luY2x1ZGVzIHVzZXMgU2FtZVZhbHVlWmVybyBlcXVhbGl0eSBhbGdvcml0aG1cblx0ICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmVcblxuXHQgICAgaWYgKElTX0lOQ0xVREVTICYmIGVsICE9IGVsKSB3aGlsZSAobGVuZ3RoID4gaW5kZXgpIHtcblx0ICAgICAgdmFsdWUgPSBPW2luZGV4KytdOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VsZi1jb21wYXJlXG5cblx0ICAgICAgaWYgKHZhbHVlICE9IHZhbHVlKSByZXR1cm4gdHJ1ZTsgLy8gQXJyYXkjaW5kZXhPZiBpZ25vcmVzIGhvbGVzLCBBcnJheSNpbmNsdWRlcyAtIG5vdFxuXHQgICAgfSBlbHNlIGZvciAoOyBsZW5ndGggPiBpbmRleDsgaW5kZXgrKykge1xuXHQgICAgICBpZiAoKElTX0lOQ0xVREVTIHx8IGluZGV4IGluIE8pICYmIE9baW5kZXhdID09PSBlbCkgcmV0dXJuIElTX0lOQ0xVREVTIHx8IGluZGV4IHx8IDA7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gIUlTX0lOQ0xVREVTICYmIC0xO1xuXHQgIH07XG5cdH07XG5cblx0dmFyIGFycmF5SW5jbHVkZXMgPSB7XG5cdCAgLy8gYEFycmF5LnByb3RvdHlwZS5pbmNsdWRlc2AgbWV0aG9kXG5cdCAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLmluY2x1ZGVzXG5cdCAgaW5jbHVkZXM6IGNyZWF0ZU1ldGhvZCh0cnVlKSxcblx0ICAvLyBgQXJyYXkucHJvdG90eXBlLmluZGV4T2ZgIG1ldGhvZFxuXHQgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5pbmRleG9mXG5cdCAgaW5kZXhPZjogY3JlYXRlTWV0aG9kKGZhbHNlKVxuXHR9O1xuXG5cdHZhciBpbmRleE9mID0gYXJyYXlJbmNsdWRlcy5pbmRleE9mO1xuXG5cblxuXHR2YXIgb2JqZWN0S2V5c0ludGVybmFsID0gZnVuY3Rpb24gKG9iamVjdCwgbmFtZXMpIHtcblx0ICB2YXIgTyA9IHRvSW5kZXhlZE9iamVjdChvYmplY3QpO1xuXHQgIHZhciBpID0gMDtcblx0ICB2YXIgcmVzdWx0ID0gW107XG5cdCAgdmFyIGtleTtcblxuXHQgIGZvciAoa2V5IGluIE8pICFoYXMoaGlkZGVuS2V5cywga2V5KSAmJiBoYXMoTywga2V5KSAmJiByZXN1bHQucHVzaChrZXkpOyAvLyBEb24ndCBlbnVtIGJ1ZyAmIGhpZGRlbiBrZXlzXG5cblxuXHQgIHdoaWxlIChuYW1lcy5sZW5ndGggPiBpKSBpZiAoaGFzKE8sIGtleSA9IG5hbWVzW2krK10pKSB7XG5cdCAgICB+aW5kZXhPZihyZXN1bHQsIGtleSkgfHwgcmVzdWx0LnB1c2goa2V5KTtcblx0ICB9XG5cblx0ICByZXR1cm4gcmVzdWx0O1xuXHR9O1xuXG5cdC8vIElFOC0gZG9uJ3QgZW51bSBidWcga2V5c1xuXHR2YXIgZW51bUJ1Z0tleXMgPSBbJ2NvbnN0cnVjdG9yJywgJ2hhc093blByb3BlcnR5JywgJ2lzUHJvdG90eXBlT2YnLCAncHJvcGVydHlJc0VudW1lcmFibGUnLCAndG9Mb2NhbGVTdHJpbmcnLCAndG9TdHJpbmcnLCAndmFsdWVPZiddO1xuXG5cdHZhciBoaWRkZW5LZXlzJDEgPSBlbnVtQnVnS2V5cy5jb25jYXQoJ2xlbmd0aCcsICdwcm90b3R5cGUnKTsgLy8gYE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzYCBtZXRob2Rcblx0Ly8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtb2JqZWN0LmdldG93bnByb3BlcnR5bmFtZXNcblxuXHR2YXIgZiQzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgfHwgZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhPKSB7XG5cdCAgcmV0dXJuIG9iamVjdEtleXNJbnRlcm5hbChPLCBoaWRkZW5LZXlzJDEpO1xuXHR9O1xuXG5cdHZhciBvYmplY3RHZXRPd25Qcm9wZXJ0eU5hbWVzID0ge1xuXHRcdGY6IGYkM1xuXHR9O1xuXG5cdHZhciBmJDQgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xuXG5cdHZhciBvYmplY3RHZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSB7XG5cdFx0ZjogZiQ0XG5cdH07XG5cblx0Ly8gYWxsIG9iamVjdCBrZXlzLCBpbmNsdWRlcyBub24tZW51bWVyYWJsZSBhbmQgc3ltYm9sc1xuXG5cblx0dmFyIG93bktleXMgPSBnZXRCdWlsdEluKCdSZWZsZWN0JywgJ293bktleXMnKSB8fCBmdW5jdGlvbiBvd25LZXlzKGl0KSB7XG5cdCAgdmFyIGtleXMgPSBvYmplY3RHZXRPd25Qcm9wZXJ0eU5hbWVzLmYoYW5PYmplY3QoaXQpKTtcblx0ICB2YXIgZ2V0T3duUHJvcGVydHlTeW1ib2xzID0gb2JqZWN0R2V0T3duUHJvcGVydHlTeW1ib2xzLmY7XG5cdCAgcmV0dXJuIGdldE93blByb3BlcnR5U3ltYm9scyA/IGtleXMuY29uY2F0KGdldE93blByb3BlcnR5U3ltYm9scyhpdCkpIDoga2V5cztcblx0fTtcblxuXHR2YXIgY29weUNvbnN0cnVjdG9yUHJvcGVydGllcyA9IGZ1bmN0aW9uICh0YXJnZXQsIHNvdXJjZSkge1xuXHQgIHZhciBrZXlzID0gb3duS2V5cyhzb3VyY2UpO1xuXHQgIHZhciBkZWZpbmVQcm9wZXJ0eSA9IG9iamVjdERlZmluZVByb3BlcnR5LmY7XG5cdCAgdmFyIGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IG9iamVjdEdldE93blByb3BlcnR5RGVzY3JpcHRvci5mO1xuXG5cdCAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICB2YXIga2V5ID0ga2V5c1tpXTtcblx0ICAgIGlmICghaGFzKHRhcmdldCwga2V5KSkgZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpO1xuXHQgIH1cblx0fTtcblxuXHR2YXIgcmVwbGFjZW1lbnQgPSAvI3xcXC5wcm90b3R5cGVcXC4vO1xuXG5cdHZhciBpc0ZvcmNlZCA9IGZ1bmN0aW9uIChmZWF0dXJlLCBkZXRlY3Rpb24pIHtcblx0ICB2YXIgdmFsdWUgPSBkYXRhW25vcm1hbGl6ZShmZWF0dXJlKV07XG5cdCAgcmV0dXJuIHZhbHVlID09IFBPTFlGSUxMID8gdHJ1ZSA6IHZhbHVlID09IE5BVElWRSA/IGZhbHNlIDogdHlwZW9mIGRldGVjdGlvbiA9PSAnZnVuY3Rpb24nID8gZmFpbHMoZGV0ZWN0aW9uKSA6ICEhZGV0ZWN0aW9uO1xuXHR9O1xuXG5cdHZhciBub3JtYWxpemUgPSBpc0ZvcmNlZC5ub3JtYWxpemUgPSBmdW5jdGlvbiAoc3RyaW5nKSB7XG5cdCAgcmV0dXJuIFN0cmluZyhzdHJpbmcpLnJlcGxhY2UocmVwbGFjZW1lbnQsICcuJykudG9Mb3dlckNhc2UoKTtcblx0fTtcblxuXHR2YXIgZGF0YSA9IGlzRm9yY2VkLmRhdGEgPSB7fTtcblx0dmFyIE5BVElWRSA9IGlzRm9yY2VkLk5BVElWRSA9ICdOJztcblx0dmFyIFBPTFlGSUxMID0gaXNGb3JjZWQuUE9MWUZJTEwgPSAnUCc7XG5cdHZhciBpc0ZvcmNlZF8xID0gaXNGb3JjZWQ7XG5cblx0dmFyIGdldE93blByb3BlcnR5RGVzY3JpcHRvciQxID0gb2JqZWN0R2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLmY7XG5cblxuXG5cblxuXG5cblxuXG5cblx0Lypcblx0ICBvcHRpb25zLnRhcmdldCAgICAgIC0gbmFtZSBvZiB0aGUgdGFyZ2V0IG9iamVjdFxuXHQgIG9wdGlvbnMuZ2xvYmFsICAgICAgLSB0YXJnZXQgaXMgdGhlIGdsb2JhbCBvYmplY3Rcblx0ICBvcHRpb25zLnN0YXQgICAgICAgIC0gZXhwb3J0IGFzIHN0YXRpYyBtZXRob2RzIG9mIHRhcmdldFxuXHQgIG9wdGlvbnMucHJvdG8gICAgICAgLSBleHBvcnQgYXMgcHJvdG90eXBlIG1ldGhvZHMgb2YgdGFyZ2V0XG5cdCAgb3B0aW9ucy5yZWFsICAgICAgICAtIHJlYWwgcHJvdG90eXBlIG1ldGhvZCBmb3IgdGhlIGBwdXJlYCB2ZXJzaW9uXG5cdCAgb3B0aW9ucy5mb3JjZWQgICAgICAtIGV4cG9ydCBldmVuIGlmIHRoZSBuYXRpdmUgZmVhdHVyZSBpcyBhdmFpbGFibGVcblx0ICBvcHRpb25zLmJpbmQgICAgICAgIC0gYmluZCBtZXRob2RzIHRvIHRoZSB0YXJnZXQsIHJlcXVpcmVkIGZvciB0aGUgYHB1cmVgIHZlcnNpb25cblx0ICBvcHRpb25zLndyYXAgICAgICAgIC0gd3JhcCBjb25zdHJ1Y3RvcnMgdG8gcHJldmVudGluZyBnbG9iYWwgcG9sbHV0aW9uLCByZXF1aXJlZCBmb3IgdGhlIGBwdXJlYCB2ZXJzaW9uXG5cdCAgb3B0aW9ucy51bnNhZmUgICAgICAtIHVzZSB0aGUgc2ltcGxlIGFzc2lnbm1lbnQgb2YgcHJvcGVydHkgaW5zdGVhZCBvZiBkZWxldGUgKyBkZWZpbmVQcm9wZXJ0eVxuXHQgIG9wdGlvbnMuc2hhbSAgICAgICAgLSBhZGQgYSBmbGFnIHRvIG5vdCBjb21wbGV0ZWx5IGZ1bGwgcG9seWZpbGxzXG5cdCAgb3B0aW9ucy5lbnVtZXJhYmxlICAtIGV4cG9ydCBhcyBlbnVtZXJhYmxlIHByb3BlcnR5XG5cdCAgb3B0aW9ucy5ub1RhcmdldEdldCAtIHByZXZlbnQgY2FsbGluZyBhIGdldHRlciBvbiB0YXJnZXRcblx0Ki9cblxuXG5cdHZhciBfZXhwb3J0ID0gZnVuY3Rpb24gKG9wdGlvbnMsIHNvdXJjZSkge1xuXHQgIHZhciBUQVJHRVQgPSBvcHRpb25zLnRhcmdldDtcblx0ICB2YXIgR0xPQkFMID0gb3B0aW9ucy5nbG9iYWw7XG5cdCAgdmFyIFNUQVRJQyA9IG9wdGlvbnMuc3RhdDtcblx0ICB2YXIgRk9SQ0VELCB0YXJnZXQsIGtleSwgdGFyZ2V0UHJvcGVydHksIHNvdXJjZVByb3BlcnR5LCBkZXNjcmlwdG9yO1xuXG5cdCAgaWYgKEdMT0JBTCkge1xuXHQgICAgdGFyZ2V0ID0gZ2xvYmFsXzE7XG5cdCAgfSBlbHNlIGlmIChTVEFUSUMpIHtcblx0ICAgIHRhcmdldCA9IGdsb2JhbF8xW1RBUkdFVF0gfHwgc2V0R2xvYmFsKFRBUkdFVCwge30pO1xuXHQgIH0gZWxzZSB7XG5cdCAgICB0YXJnZXQgPSAoZ2xvYmFsXzFbVEFSR0VUXSB8fCB7fSkucHJvdG90eXBlO1xuXHQgIH1cblxuXHQgIGlmICh0YXJnZXQpIGZvciAoa2V5IGluIHNvdXJjZSkge1xuXHQgICAgc291cmNlUHJvcGVydHkgPSBzb3VyY2Vba2V5XTtcblxuXHQgICAgaWYgKG9wdGlvbnMubm9UYXJnZXRHZXQpIHtcblx0ICAgICAgZGVzY3JpcHRvciA9IGdldE93blByb3BlcnR5RGVzY3JpcHRvciQxKHRhcmdldCwga2V5KTtcblx0ICAgICAgdGFyZ2V0UHJvcGVydHkgPSBkZXNjcmlwdG9yICYmIGRlc2NyaXB0b3IudmFsdWU7XG5cdCAgICB9IGVsc2UgdGFyZ2V0UHJvcGVydHkgPSB0YXJnZXRba2V5XTtcblxuXHQgICAgRk9SQ0VEID0gaXNGb3JjZWRfMShHTE9CQUwgPyBrZXkgOiBUQVJHRVQgKyAoU1RBVElDID8gJy4nIDogJyMnKSArIGtleSwgb3B0aW9ucy5mb3JjZWQpOyAvLyBjb250YWluZWQgaW4gdGFyZ2V0XG5cblx0ICAgIGlmICghRk9SQ0VEICYmIHRhcmdldFByb3BlcnR5ICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgaWYgKHR5cGVvZiBzb3VyY2VQcm9wZXJ0eSA9PT0gdHlwZW9mIHRhcmdldFByb3BlcnR5KSBjb250aW51ZTtcblx0ICAgICAgY29weUNvbnN0cnVjdG9yUHJvcGVydGllcyhzb3VyY2VQcm9wZXJ0eSwgdGFyZ2V0UHJvcGVydHkpO1xuXHQgICAgfSAvLyBhZGQgYSBmbGFnIHRvIG5vdCBjb21wbGV0ZWx5IGZ1bGwgcG9seWZpbGxzXG5cblxuXHQgICAgaWYgKG9wdGlvbnMuc2hhbSB8fCB0YXJnZXRQcm9wZXJ0eSAmJiB0YXJnZXRQcm9wZXJ0eS5zaGFtKSB7XG5cdCAgICAgIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eShzb3VyY2VQcm9wZXJ0eSwgJ3NoYW0nLCB0cnVlKTtcblx0ICAgIH0gLy8gZXh0ZW5kIGdsb2JhbFxuXG5cblx0ICAgIHJlZGVmaW5lKHRhcmdldCwga2V5LCBzb3VyY2VQcm9wZXJ0eSwgb3B0aW9ucyk7XG5cdCAgfVxuXHR9O1xuXG5cdC8vIGBPYmplY3Qua2V5c2AgbWV0aG9kXG5cdC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLW9iamVjdC5rZXlzXG5cblxuXHR2YXIgb2JqZWN0S2V5cyA9IE9iamVjdC5rZXlzIHx8IGZ1bmN0aW9uIGtleXMoTykge1xuXHQgIHJldHVybiBvYmplY3RLZXlzSW50ZXJuYWwoTywgZW51bUJ1Z0tleXMpO1xuXHR9O1xuXG5cdC8vIGBUb09iamVjdGAgYWJzdHJhY3Qgb3BlcmF0aW9uXG5cdC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLXRvb2JqZWN0XG5cblxuXHR2YXIgdG9PYmplY3QgPSBmdW5jdGlvbiAoYXJndW1lbnQpIHtcblx0ICByZXR1cm4gT2JqZWN0KHJlcXVpcmVPYmplY3RDb2VyY2libGUoYXJndW1lbnQpKTtcblx0fTtcblxuXHR2YXIgbmF0aXZlQXNzaWduID0gT2JqZWN0LmFzc2lnbjtcblx0dmFyIGRlZmluZVByb3BlcnR5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5OyAvLyBgT2JqZWN0LmFzc2lnbmAgbWV0aG9kXG5cdC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLW9iamVjdC5hc3NpZ25cblxuXHR2YXIgb2JqZWN0QXNzaWduID0gIW5hdGl2ZUFzc2lnbiB8fCBmYWlscyhmdW5jdGlvbiAoKSB7XG5cdCAgLy8gc2hvdWxkIGhhdmUgY29ycmVjdCBvcmRlciBvZiBvcGVyYXRpb25zIChFZGdlIGJ1Zylcblx0ICBpZiAoZGVzY3JpcHRvcnMgJiYgbmF0aXZlQXNzaWduKHtcblx0ICAgIGI6IDFcblx0ICB9LCBuYXRpdmVBc3NpZ24oZGVmaW5lUHJvcGVydHkoe30sICdhJywge1xuXHQgICAgZW51bWVyYWJsZTogdHJ1ZSxcblx0ICAgIGdldDogZnVuY3Rpb24gKCkge1xuXHQgICAgICBkZWZpbmVQcm9wZXJ0eSh0aGlzLCAnYicsIHtcblx0ICAgICAgICB2YWx1ZTogMyxcblx0ICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZVxuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9KSwge1xuXHQgICAgYjogMlxuXHQgIH0pKS5iICE9PSAxKSByZXR1cm4gdHJ1ZTsgLy8gc2hvdWxkIHdvcmsgd2l0aCBzeW1ib2xzIGFuZCBzaG91bGQgaGF2ZSBkZXRlcm1pbmlzdGljIHByb3BlcnR5IG9yZGVyIChWOCBidWcpXG5cblx0ICB2YXIgQSA9IHt9O1xuXHQgIHZhciBCID0ge307IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuXG5cdCAgdmFyIHN5bWJvbCA9IFN5bWJvbCgpO1xuXHQgIHZhciBhbHBoYWJldCA9ICdhYmNkZWZnaGlqa2xtbm9wcXJzdCc7XG5cdCAgQVtzeW1ib2xdID0gNztcblx0ICBhbHBoYWJldC5zcGxpdCgnJykuZm9yRWFjaChmdW5jdGlvbiAoY2hyKSB7XG5cdCAgICBCW2Nocl0gPSBjaHI7XG5cdCAgfSk7XG5cdCAgcmV0dXJuIG5hdGl2ZUFzc2lnbih7fSwgQSlbc3ltYm9sXSAhPSA3IHx8IG9iamVjdEtleXMobmF0aXZlQXNzaWduKHt9LCBCKSkuam9pbignJykgIT0gYWxwaGFiZXQ7XG5cdH0pID8gZnVuY3Rpb24gYXNzaWduKHRhcmdldCwgc291cmNlKSB7XG5cdCAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuXHQgIHZhciBUID0gdG9PYmplY3QodGFyZ2V0KTtcblx0ICB2YXIgYXJndW1lbnRzTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcblx0ICB2YXIgaW5kZXggPSAxO1xuXHQgIHZhciBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBvYmplY3RHZXRPd25Qcm9wZXJ0eVN5bWJvbHMuZjtcblx0ICB2YXIgcHJvcGVydHlJc0VudW1lcmFibGUgPSBvYmplY3RQcm9wZXJ0eUlzRW51bWVyYWJsZS5mO1xuXG5cdCAgd2hpbGUgKGFyZ3VtZW50c0xlbmd0aCA+IGluZGV4KSB7XG5cdCAgICB2YXIgUyA9IGluZGV4ZWRPYmplY3QoYXJndW1lbnRzW2luZGV4KytdKTtcblx0ICAgIHZhciBrZXlzID0gZ2V0T3duUHJvcGVydHlTeW1ib2xzID8gb2JqZWN0S2V5cyhTKS5jb25jYXQoZ2V0T3duUHJvcGVydHlTeW1ib2xzKFMpKSA6IG9iamVjdEtleXMoUyk7XG5cdCAgICB2YXIgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG5cdCAgICB2YXIgaiA9IDA7XG5cdCAgICB2YXIga2V5O1xuXG5cdCAgICB3aGlsZSAobGVuZ3RoID4gaikge1xuXHQgICAgICBrZXkgPSBrZXlzW2orK107XG5cdCAgICAgIGlmICghZGVzY3JpcHRvcnMgfHwgcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChTLCBrZXkpKSBUW2tleV0gPSBTW2tleV07XG5cdCAgICB9XG5cdCAgfVxuXG5cdCAgcmV0dXJuIFQ7XG5cdH0gOiBuYXRpdmVBc3NpZ247XG5cblx0Ly8gYE9iamVjdC5hc3NpZ25gIG1ldGhvZFxuXHQvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1vYmplY3QuYXNzaWduXG5cblxuXHRfZXhwb3J0KHtcblx0ICB0YXJnZXQ6ICdPYmplY3QnLFxuXHQgIHN0YXQ6IHRydWUsXG5cdCAgZm9yY2VkOiBPYmplY3QuYXNzaWduICE9PSBvYmplY3RBc3NpZ25cblx0fSwge1xuXHQgIGFzc2lnbjogb2JqZWN0QXNzaWduXG5cdH0pO1xuXG5cdC8vIGBTdHJpbmcucHJvdG90eXBlLnJlcGVhdGAgbWV0aG9kIGltcGxlbWVudGF0aW9uXG5cdC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLXN0cmluZy5wcm90b3R5cGUucmVwZWF0XG5cblxuXHR2YXIgc3RyaW5nUmVwZWF0ID0gJycucmVwZWF0IHx8IGZ1bmN0aW9uIHJlcGVhdChjb3VudCkge1xuXHQgIHZhciBzdHIgPSBTdHJpbmcocmVxdWlyZU9iamVjdENvZXJjaWJsZSh0aGlzKSk7XG5cdCAgdmFyIHJlc3VsdCA9ICcnO1xuXHQgIHZhciBuID0gdG9JbnRlZ2VyKGNvdW50KTtcblx0ICBpZiAobiA8IDAgfHwgbiA9PSBJbmZpbml0eSkgdGhyb3cgUmFuZ2VFcnJvcignV3JvbmcgbnVtYmVyIG9mIHJlcGV0aXRpb25zJyk7XG5cblx0ICBmb3IgKDsgbiA+IDA7IChuID4+Pj0gMSkgJiYgKHN0ciArPSBzdHIpKSBpZiAobiAmIDEpIHJlc3VsdCArPSBzdHI7XG5cblx0ICByZXR1cm4gcmVzdWx0O1xuXHR9O1xuXG5cdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLXN0cmluZy1wYWQtc3RhcnQtZW5kXG5cblxuXG5cblxuXG5cdHZhciBjZWlsJDEgPSBNYXRoLmNlaWw7IC8vIGBTdHJpbmcucHJvdG90eXBlLnsgcGFkU3RhcnQsIHBhZEVuZCB9YCBtZXRob2RzIGltcGxlbWVudGF0aW9uXG5cblx0dmFyIGNyZWF0ZU1ldGhvZCQxID0gZnVuY3Rpb24gKElTX0VORCkge1xuXHQgIHJldHVybiBmdW5jdGlvbiAoJHRoaXMsIG1heExlbmd0aCwgZmlsbFN0cmluZykge1xuXHQgICAgdmFyIFMgPSBTdHJpbmcocmVxdWlyZU9iamVjdENvZXJjaWJsZSgkdGhpcykpO1xuXHQgICAgdmFyIHN0cmluZ0xlbmd0aCA9IFMubGVuZ3RoO1xuXHQgICAgdmFyIGZpbGxTdHIgPSBmaWxsU3RyaW5nID09PSB1bmRlZmluZWQgPyAnICcgOiBTdHJpbmcoZmlsbFN0cmluZyk7XG5cdCAgICB2YXIgaW50TWF4TGVuZ3RoID0gdG9MZW5ndGgobWF4TGVuZ3RoKTtcblx0ICAgIHZhciBmaWxsTGVuLCBzdHJpbmdGaWxsZXI7XG5cdCAgICBpZiAoaW50TWF4TGVuZ3RoIDw9IHN0cmluZ0xlbmd0aCB8fCBmaWxsU3RyID09ICcnKSByZXR1cm4gUztcblx0ICAgIGZpbGxMZW4gPSBpbnRNYXhMZW5ndGggLSBzdHJpbmdMZW5ndGg7XG5cdCAgICBzdHJpbmdGaWxsZXIgPSBzdHJpbmdSZXBlYXQuY2FsbChmaWxsU3RyLCBjZWlsJDEoZmlsbExlbiAvIGZpbGxTdHIubGVuZ3RoKSk7XG5cdCAgICBpZiAoc3RyaW5nRmlsbGVyLmxlbmd0aCA+IGZpbGxMZW4pIHN0cmluZ0ZpbGxlciA9IHN0cmluZ0ZpbGxlci5zbGljZSgwLCBmaWxsTGVuKTtcblx0ICAgIHJldHVybiBJU19FTkQgPyBTICsgc3RyaW5nRmlsbGVyIDogc3RyaW5nRmlsbGVyICsgUztcblx0ICB9O1xuXHR9O1xuXG5cdHZhciBzdHJpbmdQYWQgPSB7XG5cdCAgLy8gYFN0cmluZy5wcm90b3R5cGUucGFkU3RhcnRgIG1ldGhvZFxuXHQgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLXN0cmluZy5wcm90b3R5cGUucGFkc3RhcnRcblx0ICBzdGFydDogY3JlYXRlTWV0aG9kJDEoZmFsc2UpLFxuXHQgIC8vIGBTdHJpbmcucHJvdG90eXBlLnBhZEVuZGAgbWV0aG9kXG5cdCAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtc3RyaW5nLnByb3RvdHlwZS5wYWRlbmRcblx0ICBlbmQ6IGNyZWF0ZU1ldGhvZCQxKHRydWUpXG5cdH07XG5cblx0dmFyIGVuZ2luZVVzZXJBZ2VudCA9IGdldEJ1aWx0SW4oJ25hdmlnYXRvcicsICd1c2VyQWdlbnQnKSB8fCAnJztcblxuXHQvLyBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvMjgwXG5cdCAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgdW5pY29ybi9uby11bnNhZmUtcmVnZXhcblxuXG5cdHZhciBzdHJpbmdQYWRXZWJraXRCdWcgPSAvVmVyc2lvblxcLzEwXFwuXFxkKyhcXC5cXGQrKT8oIE1vYmlsZVxcL1xcdyspPyBTYWZhcmlcXC8vLnRlc3QoZW5naW5lVXNlckFnZW50KTtcblxuXHR2YXIgJHBhZEVuZCA9IHN0cmluZ1BhZC5lbmQ7XG5cblx0IC8vIGBTdHJpbmcucHJvdG90eXBlLnBhZEVuZGAgbWV0aG9kXG5cdC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLXN0cmluZy5wcm90b3R5cGUucGFkZW5kXG5cblxuXHRfZXhwb3J0KHtcblx0ICB0YXJnZXQ6ICdTdHJpbmcnLFxuXHQgIHByb3RvOiB0cnVlLFxuXHQgIGZvcmNlZDogc3RyaW5nUGFkV2Via2l0QnVnXG5cdH0sIHtcblx0ICBwYWRFbmQ6IGZ1bmN0aW9uIHBhZEVuZChtYXhMZW5ndGhcblx0ICAvKiAsIGZpbGxTdHJpbmcgPSAnICcgKi9cblx0ICApIHtcblx0ICAgIHJldHVybiAkcGFkRW5kKHRoaXMsIG1heExlbmd0aCwgYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQpO1xuXHQgIH1cblx0fSk7XG5cblx0dmFyICRwYWRTdGFydCA9IHN0cmluZ1BhZC5zdGFydDtcblxuXHQgLy8gYFN0cmluZy5wcm90b3R5cGUucGFkU3RhcnRgIG1ldGhvZFxuXHQvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1zdHJpbmcucHJvdG90eXBlLnBhZHN0YXJ0XG5cblxuXHRfZXhwb3J0KHtcblx0ICB0YXJnZXQ6ICdTdHJpbmcnLFxuXHQgIHByb3RvOiB0cnVlLFxuXHQgIGZvcmNlZDogc3RyaW5nUGFkV2Via2l0QnVnXG5cdH0sIHtcblx0ICBwYWRTdGFydDogZnVuY3Rpb24gcGFkU3RhcnQobWF4TGVuZ3RoXG5cdCAgLyogLCBmaWxsU3RyaW5nID0gJyAnICovXG5cdCAgKSB7XG5cdCAgICByZXR1cm4gJHBhZFN0YXJ0KHRoaXMsIG1heExlbmd0aCwgYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQpO1xuXHQgIH1cblx0fSk7XG5cblx0Ly8gYFN0cmluZy5wcm90b3R5cGUucmVwZWF0YCBtZXRob2Rcblx0Ly8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtc3RyaW5nLnByb3RvdHlwZS5yZXBlYXRcblxuXG5cdF9leHBvcnQoe1xuXHQgIHRhcmdldDogJ1N0cmluZycsXG5cdCAgcHJvdG86IHRydWVcblx0fSwge1xuXHQgIHJlcGVhdDogc3RyaW5nUmVwZWF0XG5cdH0pO1xuXG5cdC8vIGBnbG9iYWxUaGlzYCBvYmplY3Rcblx0Ly8gaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtZ2xvYmFsXG5cblxuXHRfZXhwb3J0KHtcblx0ICBnbG9iYWw6IHRydWVcblx0fSwge1xuXHQgIGdsb2JhbFRoaXM6IGdsb2JhbF8xXG5cdH0pO1xuXG5cdGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7XG5cdCAgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiO1xuXG5cdCAgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7XG5cdCAgICBfdHlwZW9mID0gZnVuY3Rpb24gKG9iaikge1xuXHQgICAgICByZXR1cm4gdHlwZW9mIG9iajtcblx0ICAgIH07XG5cdCAgfSBlbHNlIHtcblx0ICAgIF90eXBlb2YgPSBmdW5jdGlvbiAob2JqKSB7XG5cdCAgICAgIHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqO1xuXHQgICAgfTtcblx0ICB9XG5cblx0ICByZXR1cm4gX3R5cGVvZihvYmopO1xuXHR9XG5cblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuXHQgIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG5cdCAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuXHQgIH1cblx0fVxuXG5cdGZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcblx0ICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuXHQgICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuXHQgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuXHQgICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcblx0ICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcblx0ICB9XG5cdH1cblxuXHRmdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG5cdCAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG5cdCAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuXHQgIHJldHVybiBDb25zdHJ1Y3Rvcjtcblx0fVxuXG5cdGZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHtcblx0ICBpZiAoa2V5IGluIG9iaikge1xuXHQgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG5cdCAgICAgIHZhbHVlOiB2YWx1ZSxcblx0ICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcblx0ICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuXHQgICAgICB3cml0YWJsZTogdHJ1ZVxuXHQgICAgfSk7XG5cdCAgfSBlbHNlIHtcblx0ICAgIG9ialtrZXldID0gdmFsdWU7XG5cdCAgfVxuXG5cdCAgcmV0dXJuIG9iajtcblx0fVxuXG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuXHQgIGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHtcblx0ICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTtcblx0ICB9XG5cblx0ICBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHtcblx0ICAgIGNvbnN0cnVjdG9yOiB7XG5cdCAgICAgIHZhbHVlOiBzdWJDbGFzcyxcblx0ICAgICAgd3JpdGFibGU6IHRydWUsXG5cdCAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuXHQgICAgfVxuXHQgIH0pO1xuXHQgIGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpO1xuXHR9XG5cblx0ZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHtcblx0ICBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2Yobykge1xuXHQgICAgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTtcblx0ICB9O1xuXHQgIHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7XG5cdH1cblxuXHRmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkge1xuXHQgIF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkge1xuXHQgICAgby5fX3Byb3RvX18gPSBwO1xuXHQgICAgcmV0dXJuIG87XG5cdCAgfTtcblxuXHQgIHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7XG5cdH1cblxuXHRmdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7XG5cdCAgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307XG5cdCAgdmFyIHRhcmdldCA9IHt9O1xuXHQgIHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcblx0ICB2YXIga2V5LCBpO1xuXG5cdCAgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHtcblx0ICAgIGtleSA9IHNvdXJjZUtleXNbaV07XG5cdCAgICBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlO1xuXHQgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcblx0ICB9XG5cblx0ICByZXR1cm4gdGFyZ2V0O1xuXHR9XG5cblx0ZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHNvdXJjZSwgZXhjbHVkZWQpIHtcblx0ICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTtcblxuXHQgIHZhciB0YXJnZXQgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKTtcblxuXHQgIHZhciBrZXksIGk7XG5cblx0ICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuXHQgICAgdmFyIHNvdXJjZVN5bWJvbEtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSk7XG5cblx0ICAgIGZvciAoaSA9IDA7IGkgPCBzb3VyY2VTeW1ib2xLZXlzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIGtleSA9IHNvdXJjZVN5bWJvbEtleXNbaV07XG5cdCAgICAgIGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7XG5cdCAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHNvdXJjZSwga2V5KSkgY29udGludWU7XG5cdCAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG5cdCAgICB9XG5cdCAgfVxuXG5cdCAgcmV0dXJuIHRhcmdldDtcblx0fVxuXG5cdGZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikge1xuXHQgIGlmIChzZWxmID09PSB2b2lkIDApIHtcblx0ICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtcblx0ICB9XG5cblx0ICByZXR1cm4gc2VsZjtcblx0fVxuXG5cdGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHtcblx0ICBpZiAoY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHtcblx0ICAgIHJldHVybiBjYWxsO1xuXHQgIH1cblxuXHQgIHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpO1xuXHR9XG5cblx0ZnVuY3Rpb24gX3N1cGVyUHJvcEJhc2Uob2JqZWN0LCBwcm9wZXJ0eSkge1xuXHQgIHdoaWxlICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpKSB7XG5cdCAgICBvYmplY3QgPSBfZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTtcblx0ICAgIGlmIChvYmplY3QgPT09IG51bGwpIGJyZWFrO1xuXHQgIH1cblxuXHQgIHJldHVybiBvYmplY3Q7XG5cdH1cblxuXHRmdW5jdGlvbiBfZ2V0KHRhcmdldCwgcHJvcGVydHksIHJlY2VpdmVyKSB7XG5cdCAgaWYgKHR5cGVvZiBSZWZsZWN0ICE9PSBcInVuZGVmaW5lZFwiICYmIFJlZmxlY3QuZ2V0KSB7XG5cdCAgICBfZ2V0ID0gUmVmbGVjdC5nZXQ7XG5cdCAgfSBlbHNlIHtcblx0ICAgIF9nZXQgPSBmdW5jdGlvbiBfZ2V0KHRhcmdldCwgcHJvcGVydHksIHJlY2VpdmVyKSB7XG5cdCAgICAgIHZhciBiYXNlID0gX3N1cGVyUHJvcEJhc2UodGFyZ2V0LCBwcm9wZXJ0eSk7XG5cblx0ICAgICAgaWYgKCFiYXNlKSByZXR1cm47XG5cdCAgICAgIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihiYXNlLCBwcm9wZXJ0eSk7XG5cblx0ICAgICAgaWYgKGRlc2MuZ2V0KSB7XG5cdCAgICAgICAgcmV0dXJuIGRlc2MuZ2V0LmNhbGwocmVjZWl2ZXIpO1xuXHQgICAgICB9XG5cblx0ICAgICAgcmV0dXJuIGRlc2MudmFsdWU7XG5cdCAgICB9O1xuXHQgIH1cblxuXHQgIHJldHVybiBfZ2V0KHRhcmdldCwgcHJvcGVydHksIHJlY2VpdmVyIHx8IHRhcmdldCk7XG5cdH1cblxuXHRmdW5jdGlvbiBzZXQkMSh0YXJnZXQsIHByb3BlcnR5LCB2YWx1ZSwgcmVjZWl2ZXIpIHtcblx0ICBpZiAodHlwZW9mIFJlZmxlY3QgIT09IFwidW5kZWZpbmVkXCIgJiYgUmVmbGVjdC5zZXQpIHtcblx0ICAgIHNldCQxID0gUmVmbGVjdC5zZXQ7XG5cdCAgfSBlbHNlIHtcblx0ICAgIHNldCQxID0gZnVuY3Rpb24gc2V0KHRhcmdldCwgcHJvcGVydHksIHZhbHVlLCByZWNlaXZlcikge1xuXHQgICAgICB2YXIgYmFzZSA9IF9zdXBlclByb3BCYXNlKHRhcmdldCwgcHJvcGVydHkpO1xuXG5cdCAgICAgIHZhciBkZXNjO1xuXG5cdCAgICAgIGlmIChiYXNlKSB7XG5cdCAgICAgICAgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYmFzZSwgcHJvcGVydHkpO1xuXG5cdCAgICAgICAgaWYgKGRlc2Muc2V0KSB7XG5cdCAgICAgICAgICBkZXNjLnNldC5jYWxsKHJlY2VpdmVyLCB2YWx1ZSk7XG5cdCAgICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgICB9IGVsc2UgaWYgKCFkZXNjLndyaXRhYmxlKSB7XG5cdCAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cblx0ICAgICAgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocmVjZWl2ZXIsIHByb3BlcnR5KTtcblxuXHQgICAgICBpZiAoZGVzYykge1xuXHQgICAgICAgIGlmICghZGVzYy53cml0YWJsZSkge1xuXHQgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIGRlc2MudmFsdWUgPSB2YWx1ZTtcblx0ICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocmVjZWl2ZXIsIHByb3BlcnR5LCBkZXNjKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBfZGVmaW5lUHJvcGVydHkocmVjZWl2ZXIsIHByb3BlcnR5LCB2YWx1ZSk7XG5cdCAgICAgIH1cblxuXHQgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH07XG5cdCAgfVxuXG5cdCAgcmV0dXJuIHNldCQxKHRhcmdldCwgcHJvcGVydHksIHZhbHVlLCByZWNlaXZlcik7XG5cdH1cblxuXHRmdW5jdGlvbiBfc2V0KHRhcmdldCwgcHJvcGVydHksIHZhbHVlLCByZWNlaXZlciwgaXNTdHJpY3QpIHtcblx0ICB2YXIgcyA9IHNldCQxKHRhcmdldCwgcHJvcGVydHksIHZhbHVlLCByZWNlaXZlciB8fCB0YXJnZXQpO1xuXG5cdCAgaWYgKCFzICYmIGlzU3RyaWN0KSB7XG5cdCAgICB0aHJvdyBuZXcgRXJyb3IoJ2ZhaWxlZCB0byBzZXQgcHJvcGVydHknKTtcblx0ICB9XG5cblx0ICByZXR1cm4gdmFsdWU7XG5cdH1cblxuXHRmdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHtcblx0ICByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpO1xuXHR9XG5cblx0ZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikge1xuXHQgIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7XG5cdH1cblxuXHRmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7XG5cdCAgaWYgKCEoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhcnIpID09PSBcIltvYmplY3QgQXJndW1lbnRzXVwiKSkge1xuXHQgICAgcmV0dXJuO1xuXHQgIH1cblxuXHQgIHZhciBfYXJyID0gW107XG5cdCAgdmFyIF9uID0gdHJ1ZTtcblx0ICB2YXIgX2QgPSBmYWxzZTtcblx0ICB2YXIgX2UgPSB1bmRlZmluZWQ7XG5cblx0ICB0cnkge1xuXHQgICAgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkge1xuXHQgICAgICBfYXJyLnB1c2goX3MudmFsdWUpO1xuXG5cdCAgICAgIGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhaztcblx0ICAgIH1cblx0ICB9IGNhdGNoIChlcnIpIHtcblx0ICAgIF9kID0gdHJ1ZTtcblx0ICAgIF9lID0gZXJyO1xuXHQgIH0gZmluYWxseSB7XG5cdCAgICB0cnkge1xuXHQgICAgICBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdICE9IG51bGwpIF9pW1wicmV0dXJuXCJdKCk7XG5cdCAgICB9IGZpbmFsbHkge1xuXHQgICAgICBpZiAoX2QpIHRocm93IF9lO1xuXHQgICAgfVxuXHQgIH1cblxuXHQgIHJldHVybiBfYXJyO1xuXHR9XG5cblx0ZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHtcblx0ICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZVwiKTtcblx0fVxuXG5cdC8qKiBDaGVja3MgaWYgdmFsdWUgaXMgc3RyaW5nICovXG5cdGZ1bmN0aW9uIGlzU3RyaW5nKHN0cikge1xuXHQgIHJldHVybiB0eXBlb2Ygc3RyID09PSAnc3RyaW5nJyB8fCBzdHIgaW5zdGFuY2VvZiBTdHJpbmc7XG5cdH1cblx0LyoqXHJcblx0ICBEaXJlY3Rpb25cclxuXHQgIEBwcm9wIHtzdHJpbmd9IE5PTkVcclxuXHQgIEBwcm9wIHtzdHJpbmd9IExFRlRcclxuXHQgIEBwcm9wIHtzdHJpbmd9IEZPUkNFX0xFRlRcclxuXHQgIEBwcm9wIHtzdHJpbmd9IFJJR0hUXHJcblx0ICBAcHJvcCB7c3RyaW5nfSBGT1JDRV9SSUdIVFxyXG5cdCovXG5cblx0dmFyIERJUkVDVElPTiA9IHtcblx0ICBOT05FOiAnTk9ORScsXG5cdCAgTEVGVDogJ0xFRlQnLFxuXHQgIEZPUkNFX0xFRlQ6ICdGT1JDRV9MRUZUJyxcblx0ICBSSUdIVDogJ1JJR0hUJyxcblx0ICBGT1JDRV9SSUdIVDogJ0ZPUkNFX1JJR0hUJ1xuXHR9O1xuXHQvKiogKi9cblxuXHRmdW5jdGlvbiBmb3JjZURpcmVjdGlvbihkaXJlY3Rpb24pIHtcblx0ICBzd2l0Y2ggKGRpcmVjdGlvbikge1xuXHQgICAgY2FzZSBESVJFQ1RJT04uTEVGVDpcblx0ICAgICAgcmV0dXJuIERJUkVDVElPTi5GT1JDRV9MRUZUO1xuXG5cdCAgICBjYXNlIERJUkVDVElPTi5SSUdIVDpcblx0ICAgICAgcmV0dXJuIERJUkVDVElPTi5GT1JDRV9SSUdIVDtcblxuXHQgICAgZGVmYXVsdDpcblx0ICAgICAgcmV0dXJuIGRpcmVjdGlvbjtcblx0ICB9XG5cdH1cblx0LyoqIEVzY2FwZXMgcmVndWxhciBleHByZXNzaW9uIGNvbnRyb2wgY2hhcnMgKi9cblxuXHRmdW5jdGlvbiBlc2NhcGVSZWdFeHAoc3RyKSB7XG5cdCAgcmV0dXJuIHN0ci5yZXBsYWNlKC8oWy4qKz9ePSE6JHt9KCl8W1xcXS9cXFxcXSkvZywgJ1xcXFwkMScpO1xuXHR9IC8vIGNsb25lZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9lcG9iZXJlemtpbi9mYXN0LWRlZXAtZXF1YWwgd2l0aCBzbWFsbCBjaGFuZ2VzXG5cblx0ZnVuY3Rpb24gb2JqZWN0SW5jbHVkZXMoYiwgYSkge1xuXHQgIGlmIChhID09PSBiKSByZXR1cm4gdHJ1ZTtcblx0ICB2YXIgYXJyQSA9IEFycmF5LmlzQXJyYXkoYSksXG5cdCAgICAgIGFyckIgPSBBcnJheS5pc0FycmF5KGIpLFxuXHQgICAgICBpO1xuXG5cdCAgaWYgKGFyckEgJiYgYXJyQikge1xuXHQgICAgaWYgKGEubGVuZ3RoICE9IGIubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG5cblx0ICAgIGZvciAoaSA9IDA7IGkgPCBhLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIGlmICghb2JqZWN0SW5jbHVkZXMoYVtpXSwgYltpXSkpIHJldHVybiBmYWxzZTtcblx0ICAgIH1cblxuXHQgICAgcmV0dXJuIHRydWU7XG5cdCAgfVxuXG5cdCAgaWYgKGFyckEgIT0gYXJyQikgcmV0dXJuIGZhbHNlO1xuXG5cdCAgaWYgKGEgJiYgYiAmJiBfdHlwZW9mKGEpID09PSAnb2JqZWN0JyAmJiBfdHlwZW9mKGIpID09PSAnb2JqZWN0Jykge1xuXHQgICAgdmFyIGRhdGVBID0gYSBpbnN0YW5jZW9mIERhdGUsXG5cdCAgICAgICAgZGF0ZUIgPSBiIGluc3RhbmNlb2YgRGF0ZTtcblx0ICAgIGlmIChkYXRlQSAmJiBkYXRlQikgcmV0dXJuIGEuZ2V0VGltZSgpID09IGIuZ2V0VGltZSgpO1xuXHQgICAgaWYgKGRhdGVBICE9IGRhdGVCKSByZXR1cm4gZmFsc2U7XG5cdCAgICB2YXIgcmVnZXhwQSA9IGEgaW5zdGFuY2VvZiBSZWdFeHAsXG5cdCAgICAgICAgcmVnZXhwQiA9IGIgaW5zdGFuY2VvZiBSZWdFeHA7XG5cdCAgICBpZiAocmVnZXhwQSAmJiByZWdleHBCKSByZXR1cm4gYS50b1N0cmluZygpID09IGIudG9TdHJpbmcoKTtcblx0ICAgIGlmIChyZWdleHBBICE9IHJlZ2V4cEIpIHJldHVybiBmYWxzZTtcblx0ICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoYSk7IC8vIGlmIChrZXlzLmxlbmd0aCAhPT0gT2JqZWN0LmtleXMoYikubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG5cblx0ICAgIGZvciAoaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIGtleXNbaV0pKSByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cblx0ICAgIGZvciAoaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIGlmICghb2JqZWN0SW5jbHVkZXMoYltrZXlzW2ldXSwgYVtrZXlzW2ldXSkpIHJldHVybiBmYWxzZTtcblx0ICAgIH1cblxuXHQgICAgcmV0dXJuIHRydWU7XG5cdCAgfSBlbHNlIGlmIChhICYmIGIgJiYgdHlwZW9mIGEgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGIgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgIHJldHVybiBhLnRvU3RyaW5nKCkgPT09IGIudG9TdHJpbmcoKTtcblx0ICB9XG5cblx0ICByZXR1cm4gZmFsc2U7XG5cdH1cblx0LyoqIFNlbGVjdGlvbiByYW5nZSAqL1xuXG5cdC8qKiBQcm92aWRlcyBkZXRhaWxzIG9mIGNoYW5naW5nIGlucHV0ICovXG5cblx0dmFyIEFjdGlvbkRldGFpbHMgPVxuXHQvKiNfX1BVUkVfXyovXG5cdGZ1bmN0aW9uICgpIHtcblx0ICAvKiogQ3VycmVudCBpbnB1dCB2YWx1ZSAqL1xuXG5cdCAgLyoqIEN1cnJlbnQgY3Vyc29yIHBvc2l0aW9uICovXG5cblx0ICAvKiogT2xkIGlucHV0IHZhbHVlICovXG5cblx0ICAvKiogT2xkIHNlbGVjdGlvbiAqL1xuXHQgIGZ1bmN0aW9uIEFjdGlvbkRldGFpbHModmFsdWUsIGN1cnNvclBvcywgb2xkVmFsdWUsIG9sZFNlbGVjdGlvbikge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFjdGlvbkRldGFpbHMpO1xuXG5cdCAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG5cdCAgICB0aGlzLmN1cnNvclBvcyA9IGN1cnNvclBvcztcblx0ICAgIHRoaXMub2xkVmFsdWUgPSBvbGRWYWx1ZTtcblx0ICAgIHRoaXMub2xkU2VsZWN0aW9uID0gb2xkU2VsZWN0aW9uOyAvLyBkb3VibGUgY2hlY2sgaWYgbGVmdCBwYXJ0IHdhcyBjaGFuZ2VkIChhdXRvZmlsbGluZywgb3RoZXIgbm9uLXN0YW5kYXJkIGlucHV0IHRyaWdnZXJzKVxuXG5cdCAgICB3aGlsZSAodGhpcy52YWx1ZS5zbGljZSgwLCB0aGlzLnN0YXJ0Q2hhbmdlUG9zKSAhPT0gdGhpcy5vbGRWYWx1ZS5zbGljZSgwLCB0aGlzLnN0YXJ0Q2hhbmdlUG9zKSkge1xuXHQgICAgICAtLXRoaXMub2xkU2VsZWN0aW9uLnN0YXJ0O1xuXHQgICAgfVxuXHQgIH1cblx0ICAvKipcclxuXHQgICAgU3RhcnQgY2hhbmdpbmcgcG9zaXRpb25cclxuXHQgICAgQHJlYWRvbmx5XHJcblx0ICAqL1xuXG5cblx0ICBfY3JlYXRlQ2xhc3MoQWN0aW9uRGV0YWlscywgW3tcblx0ICAgIGtleTogXCJzdGFydENoYW5nZVBvc1wiLFxuXHQgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdCAgICAgIHJldHVybiBNYXRoLm1pbih0aGlzLmN1cnNvclBvcywgdGhpcy5vbGRTZWxlY3Rpb24uc3RhcnQpO1xuXHQgICAgfVxuXHQgICAgLyoqXHJcblx0ICAgICAgSW5zZXJ0ZWQgc3ltYm9scyBjb3VudFxyXG5cdCAgICAgIEByZWFkb25seVxyXG5cdCAgICAqL1xuXG5cdCAgfSwge1xuXHQgICAga2V5OiBcImluc2VydGVkQ291bnRcIixcblx0ICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5jdXJzb3JQb3MgLSB0aGlzLnN0YXJ0Q2hhbmdlUG9zO1xuXHQgICAgfVxuXHQgICAgLyoqXHJcblx0ICAgICAgSW5zZXJ0ZWQgc3ltYm9sc1xyXG5cdCAgICAgIEByZWFkb25seVxyXG5cdCAgICAqL1xuXG5cdCAgfSwge1xuXHQgICAga2V5OiBcImluc2VydGVkXCIsXG5cdCAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMudmFsdWUuc3Vic3RyKHRoaXMuc3RhcnRDaGFuZ2VQb3MsIHRoaXMuaW5zZXJ0ZWRDb3VudCk7XG5cdCAgICB9XG5cdCAgICAvKipcclxuXHQgICAgICBSZW1vdmVkIHN5bWJvbHMgY291bnRcclxuXHQgICAgICBAcmVhZG9ubHlcclxuXHQgICAgKi9cblxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJyZW1vdmVkQ291bnRcIixcblx0ICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgICAvLyBNYXRoLm1heCBmb3Igb3Bwb3NpdGUgb3BlcmF0aW9uXG5cdCAgICAgIHJldHVybiBNYXRoLm1heCh0aGlzLm9sZFNlbGVjdGlvbi5lbmQgLSB0aGlzLnN0YXJ0Q2hhbmdlUG9zIHx8IC8vIGZvciBEZWxldGVcblx0ICAgICAgdGhpcy5vbGRWYWx1ZS5sZW5ndGggLSB0aGlzLnZhbHVlLmxlbmd0aCwgMCk7XG5cdCAgICB9XG5cdCAgICAvKipcclxuXHQgICAgICBSZW1vdmVkIHN5bWJvbHNcclxuXHQgICAgICBAcmVhZG9ubHlcclxuXHQgICAgKi9cblxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJyZW1vdmVkXCIsXG5cdCAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMub2xkVmFsdWUuc3Vic3RyKHRoaXMuc3RhcnRDaGFuZ2VQb3MsIHRoaXMucmVtb3ZlZENvdW50KTtcblx0ICAgIH1cblx0ICAgIC8qKlxyXG5cdCAgICAgIFVuY2hhbmdlZCBoZWFkIHN5bWJvbHNcclxuXHQgICAgICBAcmVhZG9ubHlcclxuXHQgICAgKi9cblxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJoZWFkXCIsXG5cdCAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMudmFsdWUuc3Vic3RyaW5nKDAsIHRoaXMuc3RhcnRDaGFuZ2VQb3MpO1xuXHQgICAgfVxuXHQgICAgLyoqXHJcblx0ICAgICAgVW5jaGFuZ2VkIHRhaWwgc3ltYm9sc1xyXG5cdCAgICAgIEByZWFkb25seVxyXG5cdCAgICAqL1xuXG5cdCAgfSwge1xuXHQgICAga2V5OiBcInRhaWxcIixcblx0ICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgICByZXR1cm4gdGhpcy52YWx1ZS5zdWJzdHJpbmcodGhpcy5zdGFydENoYW5nZVBvcyArIHRoaXMuaW5zZXJ0ZWRDb3VudCk7XG5cdCAgICB9XG5cdCAgICAvKipcclxuXHQgICAgICBSZW1vdmUgZGlyZWN0aW9uXHJcblx0ICAgICAgQHJlYWRvbmx5XHJcblx0ICAgICovXG5cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwicmVtb3ZlRGlyZWN0aW9uXCIsXG5cdCAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgaWYgKCF0aGlzLnJlbW92ZWRDb3VudCB8fCB0aGlzLmluc2VydGVkQ291bnQpIHJldHVybiBESVJFQ1RJT04uTk9ORTsgLy8gYWxpZ24gcmlnaHQgaWYgZGVsZXRlIGF0IHJpZ2h0IG9yIGlmIHJhbmdlIHJlbW92ZWQgKGV2ZW50IHdpdGggYmFja3NwYWNlKVxuXG5cdCAgICAgIHJldHVybiB0aGlzLm9sZFNlbGVjdGlvbi5lbmQgPT09IHRoaXMuY3Vyc29yUG9zIHx8IHRoaXMub2xkU2VsZWN0aW9uLnN0YXJ0ID09PSB0aGlzLmN1cnNvclBvcyA/IERJUkVDVElPTi5SSUdIVCA6IERJUkVDVElPTi5MRUZUO1xuXHQgICAgfVxuXHQgIH1dKTtcblxuXHQgIHJldHVybiBBY3Rpb25EZXRhaWxzO1xuXHR9KCk7XG5cblx0LyoqXHJcblx0ICBQcm92aWRlcyBkZXRhaWxzIG9mIGNoYW5naW5nIG1vZGVsIHZhbHVlXHJcblx0ICBAcGFyYW0ge09iamVjdH0gW2RldGFpbHNdXHJcblx0ICBAcGFyYW0ge3N0cmluZ30gW2RldGFpbHMuaW5zZXJ0ZWRdIC0gSW5zZXJ0ZWQgc3ltYm9sc1xyXG5cdCAgQHBhcmFtIHtib29sZWFufSBbZGV0YWlscy5za2lwXSAtIENhbiBza2lwIGNoYXJzXHJcblx0ICBAcGFyYW0ge251bWJlcn0gW2RldGFpbHMucmVtb3ZlQ291bnRdIC0gUmVtb3ZlZCBzeW1ib2xzIGNvdW50XHJcblx0ICBAcGFyYW0ge251bWJlcn0gW2RldGFpbHMudGFpbFNoaWZ0XSAtIEFkZGl0aW9uYWwgb2Zmc2V0IGlmIGFueSBjaGFuZ2VzIG9jY3VycmVkIGJlZm9yZSB0YWlsXHJcblx0Ki9cblx0dmFyIENoYW5nZURldGFpbHMgPVxuXHQvKiNfX1BVUkVfXyovXG5cdGZ1bmN0aW9uICgpIHtcblx0ICAvKiogSW5zZXJ0ZWQgc3ltYm9scyAqL1xuXG5cdCAgLyoqIENhbiBza2lwIGNoYXJzICovXG5cblx0ICAvKiogQWRkaXRpb25hbCBvZmZzZXQgaWYgYW55IGNoYW5nZXMgb2NjdXJyZWQgYmVmb3JlIHRhaWwgKi9cblxuXHQgIC8qKiBSYXcgaW5zZXJ0ZWQgaXMgdXNlZCBieSBkeW5hbWljIG1hc2sgKi9cblx0ICBmdW5jdGlvbiBDaGFuZ2VEZXRhaWxzKGRldGFpbHMpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDaGFuZ2VEZXRhaWxzKTtcblxuXHQgICAgT2JqZWN0LmFzc2lnbih0aGlzLCB7XG5cdCAgICAgIGluc2VydGVkOiAnJyxcblx0ICAgICAgcmF3SW5zZXJ0ZWQ6ICcnLFxuXHQgICAgICBza2lwOiBmYWxzZSxcblx0ICAgICAgdGFpbFNoaWZ0OiAwXG5cdCAgICB9LCBkZXRhaWxzKTtcblx0ICB9XG5cdCAgLyoqXHJcblx0ICAgIEFnZ3JlZ2F0ZSBjaGFuZ2VzXHJcblx0ICAgIEByZXR1cm5zIHtDaGFuZ2VEZXRhaWxzfSBgdGhpc2BcclxuXHQgICovXG5cblxuXHQgIF9jcmVhdGVDbGFzcyhDaGFuZ2VEZXRhaWxzLCBbe1xuXHQgICAga2V5OiBcImFnZ3JlZ2F0ZVwiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGFnZ3JlZ2F0ZShkZXRhaWxzKSB7XG5cdCAgICAgIHRoaXMucmF3SW5zZXJ0ZWQgKz0gZGV0YWlscy5yYXdJbnNlcnRlZDtcblx0ICAgICAgdGhpcy5za2lwID0gdGhpcy5za2lwIHx8IGRldGFpbHMuc2tpcDtcblx0ICAgICAgdGhpcy5pbnNlcnRlZCArPSBkZXRhaWxzLmluc2VydGVkO1xuXHQgICAgICB0aGlzLnRhaWxTaGlmdCArPSBkZXRhaWxzLnRhaWxTaGlmdDtcblx0ICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9XG5cdCAgICAvKiogVG90YWwgb2Zmc2V0IGNvbnNpZGVyaW5nIGFsbCBjaGFuZ2VzICovXG5cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwib2Zmc2V0XCIsXG5cdCAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMudGFpbFNoaWZ0ICsgdGhpcy5pbnNlcnRlZC5sZW5ndGg7XG5cdCAgICB9XG5cdCAgfV0pO1xuXG5cdCAgcmV0dXJuIENoYW5nZURldGFpbHM7XG5cdH0oKTtcblxuXHQvKiogUHJvdmlkZXMgZGV0YWlscyBvZiBjb250aW51b3VzIGV4dHJhY3RlZCB0YWlsICovXG5cdHZhciBDb250aW51b3VzVGFpbERldGFpbHMgPVxuXHQvKiNfX1BVUkVfXyovXG5cdGZ1bmN0aW9uICgpIHtcblx0ICAvKiogVGFpbCB2YWx1ZSBhcyBzdHJpbmcgKi9cblxuXHQgIC8qKiBUYWlsIHN0YXJ0IHBvc2l0aW9uICovXG5cblx0ICAvKiogU3RhcnQgcG9zaXRpb24gKi9cblx0ICBmdW5jdGlvbiBDb250aW51b3VzVGFpbERldGFpbHMoKSB7XG5cdCAgICB2YXIgdmFsdWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICcnO1xuXHQgICAgdmFyIGZyb20gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7XG5cdCAgICB2YXIgc3RvcCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyID8gYXJndW1lbnRzWzJdIDogdW5kZWZpbmVkO1xuXG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ29udGludW91c1RhaWxEZXRhaWxzKTtcblxuXHQgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuXHQgICAgdGhpcy5mcm9tID0gZnJvbTtcblx0ICAgIHRoaXMuc3RvcCA9IHN0b3A7XG5cdCAgfVxuXG5cdCAgX2NyZWF0ZUNsYXNzKENvbnRpbnVvdXNUYWlsRGV0YWlscywgW3tcblx0ICAgIGtleTogXCJ0b1N0cmluZ1wiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuXHQgICAgICByZXR1cm4gdGhpcy52YWx1ZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiZXh0ZW5kXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZXh0ZW5kKHRhaWwpIHtcblx0ICAgICAgdGhpcy52YWx1ZSArPSBTdHJpbmcodGFpbCk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiBcImFwcGVuZFRvXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gYXBwZW5kVG8obWFza2VkKSB7XG5cdCAgICAgIHJldHVybiBtYXNrZWQuYXBwZW5kKHRoaXMudG9TdHJpbmcoKSwge1xuXHQgICAgICAgIHRhaWw6IHRydWVcblx0ICAgICAgfSkuYWdncmVnYXRlKG1hc2tlZC5fYXBwZW5kUGxhY2Vob2xkZXIoKSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiBcInNoaWZ0QmVmb3JlXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2hpZnRCZWZvcmUocG9zKSB7XG5cdCAgICAgIGlmICh0aGlzLmZyb20gPj0gcG9zIHx8ICF0aGlzLnZhbHVlLmxlbmd0aCkgcmV0dXJuICcnO1xuXHQgICAgICB2YXIgc2hpZnRDaGFyID0gdGhpcy52YWx1ZVswXTtcblx0ICAgICAgdGhpcy52YWx1ZSA9IHRoaXMudmFsdWUuc2xpY2UoMSk7XG5cdCAgICAgIHJldHVybiBzaGlmdENoYXI7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiBcInN0YXRlXCIsXG5cdCAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgcmV0dXJuIHtcblx0ICAgICAgICB2YWx1ZTogdGhpcy52YWx1ZSxcblx0ICAgICAgICBmcm9tOiB0aGlzLmZyb20sXG5cdCAgICAgICAgc3RvcDogdGhpcy5zdG9wXG5cdCAgICAgIH07XG5cdCAgICB9LFxuXHQgICAgc2V0OiBmdW5jdGlvbiBzZXQoc3RhdGUpIHtcblx0ICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLCBzdGF0ZSk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXG5cdCAgcmV0dXJuIENvbnRpbnVvdXNUYWlsRGV0YWlscztcblx0fSgpO1xuXG5cdC8qKlxyXG5cdCAqIEFwcGxpZXMgbWFzayBvbiBlbGVtZW50LlxyXG5cdCAqIEBjb25zdHJ1Y3RvclxyXG5cdCAqIEBwYXJhbSB7SFRNTElucHV0RWxlbWVudHxIVE1MVGV4dEFyZWFFbGVtZW50fE1hc2tFbGVtZW50fSBlbCAtIEVsZW1lbnQgdG8gYXBwbHkgbWFza1xyXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIC0gQ3VzdG9tIG1hc2sgb3B0aW9uc1xyXG5cdCAqIEByZXR1cm4ge0lucHV0TWFza31cclxuXHQgKi9cblx0ZnVuY3Rpb24gSU1hc2soZWwpIHtcblx0ICB2YXIgb3B0cyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG5cdCAgLy8gY3VycmVudGx5IGF2YWlsYWJsZSBvbmx5IGZvciBpbnB1dC1saWtlIGVsZW1lbnRzXG5cdCAgcmV0dXJuIG5ldyBJTWFzay5JbnB1dE1hc2soZWwsIG9wdHMpO1xuXHR9XG5cblx0LyoqIFN1cHBvcnRlZCBtYXNrIHR5cGUgKi9cblxuXHQvKiogUHJvdmlkZXMgY29tbW9uIG1hc2tpbmcgc3R1ZmYgKi9cblx0dmFyIE1hc2tlZCA9XG5cdC8qI19fUFVSRV9fKi9cblx0ZnVuY3Rpb24gKCkge1xuXHQgIC8vICRTaGFwZTxNYXNrZWRPcHRpb25zPjsgVE9ETyBhZnRlciBmaXggaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL2Zsb3cvaXNzdWVzLzQ3NzNcblxuXHQgIC8qKiBAdHlwZSB7TWFza30gKi9cblxuXHQgIC8qKiAqL1xuXHQgIC8vICRGbG93Rml4TWUgbm8gaWRlYXNcblxuXHQgIC8qKiBUcmFuc2Zvcm1zIHZhbHVlIGJlZm9yZSBtYXNrIHByb2Nlc3NpbmcgKi9cblxuXHQgIC8qKiBWYWxpZGF0ZXMgaWYgdmFsdWUgaXMgYWNjZXB0YWJsZSAqL1xuXG5cdCAgLyoqIERvZXMgYWRkaXRpb25hbCBwcm9jZXNzaW5nIGluIHRoZSBlbmQgb2YgZWRpdGluZyAqL1xuXG5cdCAgLyoqIEZvcm1hdCB0eXBlZCB2YWx1ZSB0byBzdHJpbmcgKi9cblxuXHQgIC8qKiBQYXJzZSBzdHJnaW4gdG8gZ2V0IHR5cGVkIHZhbHVlICovXG5cblx0ICAvKiogRW5hYmxlIGNoYXJhY3RlcnMgb3ZlcndyaXRpbmcgKi9cblxuXHQgIC8qKiAqL1xuXHQgIGZ1bmN0aW9uIE1hc2tlZChvcHRzKSB7XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWFza2VkKTtcblxuXHQgICAgdGhpcy5fdmFsdWUgPSAnJztcblxuXHQgICAgdGhpcy5fdXBkYXRlKE9iamVjdC5hc3NpZ24oe30sIE1hc2tlZC5ERUZBVUxUUywge30sIG9wdHMpKTtcblxuXHQgICAgdGhpcy5pc0luaXRpYWxpemVkID0gdHJ1ZTtcblx0ICB9XG5cdCAgLyoqIFNldHMgYW5kIGFwcGxpZXMgbmV3IG9wdGlvbnMgKi9cblxuXG5cdCAgX2NyZWF0ZUNsYXNzKE1hc2tlZCwgW3tcblx0ICAgIGtleTogXCJ1cGRhdGVPcHRpb25zXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlT3B0aW9ucyhvcHRzKSB7XG5cdCAgICAgIGlmICghT2JqZWN0LmtleXMob3B0cykubGVuZ3RoKSByZXR1cm47XG5cdCAgICAgIHRoaXMud2l0aFZhbHVlUmVmcmVzaCh0aGlzLl91cGRhdGUuYmluZCh0aGlzLCBvcHRzKSk7XG5cdCAgICB9XG5cdCAgICAvKipcclxuXHQgICAgICBTZXRzIG5ldyBvcHRpb25zXHJcblx0ICAgICAgQHByb3RlY3RlZFxyXG5cdCAgICAqL1xuXG5cdCAgfSwge1xuXHQgICAga2V5OiBcIl91cGRhdGVcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfdXBkYXRlKG9wdHMpIHtcblx0ICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLCBvcHRzKTtcblx0ICAgIH1cblx0ICAgIC8qKiBNYXNrIHN0YXRlICovXG5cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwicmVzZXRcIixcblxuXHQgICAgLyoqIFJlc2V0cyB2YWx1ZSAqL1xuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlc2V0KCkge1xuXHQgICAgICB0aGlzLl92YWx1ZSA9ICcnO1xuXHQgICAgfVxuXHQgICAgLyoqICovXG5cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwicmVzb2x2ZVwiLFxuXG5cdCAgICAvKiogUmVzb2x2ZSBuZXcgdmFsdWUgKi9cblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZXNvbHZlKHZhbHVlKSB7XG5cdCAgICAgIHRoaXMucmVzZXQoKTtcblx0ICAgICAgdGhpcy5hcHBlbmQodmFsdWUsIHtcblx0ICAgICAgICBpbnB1dDogdHJ1ZVxuXHQgICAgICB9LCAnJyk7XG5cdCAgICAgIHRoaXMuZG9Db21taXQoKTtcblx0ICAgICAgcmV0dXJuIHRoaXMudmFsdWU7XG5cdCAgICB9XG5cdCAgICAvKiogKi9cblxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJuZWFyZXN0SW5wdXRQb3NcIixcblxuXHQgICAgLyoqIEZpbmRzIG5lYXJlc3QgaW5wdXQgcG9zaXRpb24gaW4gZGlyZWN0aW9uICovXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gbmVhcmVzdElucHV0UG9zKGN1cnNvclBvcywgZGlyZWN0aW9uKSB7XG5cdCAgICAgIHJldHVybiBjdXJzb3JQb3M7XG5cdCAgICB9XG5cdCAgICAvKiogRXh0cmFjdHMgdmFsdWUgaW4gcmFuZ2UgY29uc2lkZXJpbmcgZmxhZ3MgKi9cblxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJleHRyYWN0SW5wdXRcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBleHRyYWN0SW5wdXQoKSB7XG5cdCAgICAgIHZhciBmcm9tUG9zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuXHQgICAgICB2YXIgdG9Qb3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHRoaXMudmFsdWUubGVuZ3RoO1xuXHQgICAgICByZXR1cm4gdGhpcy52YWx1ZS5zbGljZShmcm9tUG9zLCB0b1Bvcyk7XG5cdCAgICB9XG5cdCAgICAvKiogRXh0cmFjdHMgdGFpbCBpbiByYW5nZSAqL1xuXG5cdCAgfSwge1xuXHQgICAga2V5OiBcImV4dHJhY3RUYWlsXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZXh0cmFjdFRhaWwoKSB7XG5cdCAgICAgIHZhciBmcm9tUG9zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuXHQgICAgICB2YXIgdG9Qb3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHRoaXMudmFsdWUubGVuZ3RoO1xuXHQgICAgICByZXR1cm4gbmV3IENvbnRpbnVvdXNUYWlsRGV0YWlscyh0aGlzLmV4dHJhY3RJbnB1dChmcm9tUG9zLCB0b1BvcyksIGZyb21Qb3MpO1xuXHQgICAgfVxuXHQgICAgLyoqIEFwcGVuZHMgdGFpbCAqL1xuXHQgICAgLy8gJEZsb3dGaXhNZSBubyBpZGVhc1xuXG5cdCAgfSwge1xuXHQgICAga2V5OiBcImFwcGVuZFRhaWxcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBhcHBlbmRUYWlsKHRhaWwpIHtcblx0ICAgICAgaWYgKGlzU3RyaW5nKHRhaWwpKSB0YWlsID0gbmV3IENvbnRpbnVvdXNUYWlsRGV0YWlscyhTdHJpbmcodGFpbCkpO1xuXHQgICAgICByZXR1cm4gdGFpbC5hcHBlbmRUbyh0aGlzKTtcblx0ICAgIH1cblx0ICAgIC8qKiBBcHBlbmRzIGNoYXIgKi9cblxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJfYXBwZW5kQ2hhclJhd1wiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9hcHBlbmRDaGFyUmF3KGNoKSB7XG5cdCAgICAgIHZhciBmbGFncyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG5cdCAgICAgIGNoID0gdGhpcy5kb1ByZXBhcmUoY2gsIGZsYWdzKTtcblx0ICAgICAgaWYgKCFjaCkgcmV0dXJuIG5ldyBDaGFuZ2VEZXRhaWxzKCk7XG5cdCAgICAgIHRoaXMuX3ZhbHVlICs9IGNoO1xuXHQgICAgICByZXR1cm4gbmV3IENoYW5nZURldGFpbHMoe1xuXHQgICAgICAgIGluc2VydGVkOiBjaCxcblx0ICAgICAgICByYXdJbnNlcnRlZDogY2hcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgICAvKiogQXBwZW5kcyBjaGFyICovXG5cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiX2FwcGVuZENoYXJcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfYXBwZW5kQ2hhcihjaCkge1xuXHQgICAgICB2YXIgZmxhZ3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuXHQgICAgICB2YXIgY2hlY2tUYWlsID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgPyBhcmd1bWVudHNbMl0gOiB1bmRlZmluZWQ7XG5cdCAgICAgIHZhciBjb25zaXN0ZW50U3RhdGUgPSB0aGlzLnN0YXRlO1xuXG5cdCAgICAgIHZhciBkZXRhaWxzID0gdGhpcy5fYXBwZW5kQ2hhclJhdyhjaCwgZmxhZ3MpO1xuXG5cdCAgICAgIGlmIChkZXRhaWxzLmluc2VydGVkKSB7XG5cdCAgICAgICAgdmFyIGNvbnNpc3RlbnRUYWlsO1xuXHQgICAgICAgIHZhciBhcHBlbmRlZCA9IHRoaXMuZG9WYWxpZGF0ZShmbGFncykgIT09IGZhbHNlO1xuXG5cdCAgICAgICAgaWYgKGFwcGVuZGVkICYmIGNoZWNrVGFpbCAhPSBudWxsKSB7XG5cdCAgICAgICAgICAvLyB2YWxpZGF0aW9uIG9rLCBjaGVjayB0YWlsXG5cdCAgICAgICAgICB2YXIgYmVmb3JlVGFpbFN0YXRlID0gdGhpcy5zdGF0ZTtcblxuXHQgICAgICAgICAgaWYgKHRoaXMub3ZlcndyaXRlKSB7XG5cdCAgICAgICAgICAgIGNvbnNpc3RlbnRUYWlsID0gY2hlY2tUYWlsLnN0YXRlO1xuXHQgICAgICAgICAgICBjaGVja1RhaWwuc2hpZnRCZWZvcmUodGhpcy52YWx1ZS5sZW5ndGgpO1xuXHQgICAgICAgICAgfVxuXG5cdCAgICAgICAgICB2YXIgdGFpbERldGFpbHMgPSB0aGlzLmFwcGVuZFRhaWwoY2hlY2tUYWlsKTtcblx0ICAgICAgICAgIGFwcGVuZGVkID0gdGFpbERldGFpbHMucmF3SW5zZXJ0ZWQgPT09IGNoZWNrVGFpbC50b1N0cmluZygpOyAvLyBpZiBvaywgcm9sbGJhY2sgc3RhdGUgYWZ0ZXIgdGFpbFxuXG5cdCAgICAgICAgICBpZiAoYXBwZW5kZWQgJiYgdGFpbERldGFpbHMuaW5zZXJ0ZWQpIHRoaXMuc3RhdGUgPSBiZWZvcmVUYWlsU3RhdGU7XG5cdCAgICAgICAgfSAvLyByZXZlcnQgYWxsIGlmIHNvbWV0aGluZyB3ZW50IHdyb25nXG5cblxuXHQgICAgICAgIGlmICghYXBwZW5kZWQpIHtcblx0ICAgICAgICAgIGRldGFpbHMgPSBuZXcgQ2hhbmdlRGV0YWlscygpO1xuXHQgICAgICAgICAgdGhpcy5zdGF0ZSA9IGNvbnNpc3RlbnRTdGF0ZTtcblx0ICAgICAgICAgIGlmIChjaGVja1RhaWwgJiYgY29uc2lzdGVudFRhaWwpIGNoZWNrVGFpbC5zdGF0ZSA9IGNvbnNpc3RlbnRUYWlsO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXG5cdCAgICAgIHJldHVybiBkZXRhaWxzO1xuXHQgICAgfVxuXHQgICAgLyoqIEFwcGVuZHMgb3B0aW9uYWwgcGxhY2Vob2xkZXIgYXQgZW5kICovXG5cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiX2FwcGVuZFBsYWNlaG9sZGVyXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2FwcGVuZFBsYWNlaG9sZGVyKCkge1xuXHQgICAgICByZXR1cm4gbmV3IENoYW5nZURldGFpbHMoKTtcblx0ICAgIH1cblx0ICAgIC8qKiBBcHBlbmRzIHN5bWJvbHMgY29uc2lkZXJpbmcgZmxhZ3MgKi9cblx0ICAgIC8vICRGbG93Rml4TWUgbm8gaWRlYXNcblxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJhcHBlbmRcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBhcHBlbmQoc3RyLCBmbGFncywgdGFpbCkge1xuXHQgICAgICBpZiAoIWlzU3RyaW5nKHN0cikpIHRocm93IG5ldyBFcnJvcigndmFsdWUgc2hvdWxkIGJlIHN0cmluZycpO1xuXHQgICAgICB2YXIgZGV0YWlscyA9IG5ldyBDaGFuZ2VEZXRhaWxzKCk7XG5cdCAgICAgIHZhciBjaGVja1RhaWwgPSBpc1N0cmluZyh0YWlsKSA/IG5ldyBDb250aW51b3VzVGFpbERldGFpbHMoU3RyaW5nKHRhaWwpKSA6IHRhaWw7XG5cdCAgICAgIGlmIChmbGFncy50YWlsKSBmbGFncy5fYmVmb3JlVGFpbFN0YXRlID0gdGhpcy5zdGF0ZTtcblxuXHQgICAgICBmb3IgKHZhciBjaSA9IDA7IGNpIDwgc3RyLmxlbmd0aDsgKytjaSkge1xuXHQgICAgICAgIGRldGFpbHMuYWdncmVnYXRlKHRoaXMuX2FwcGVuZENoYXIoc3RyW2NpXSwgZmxhZ3MsIGNoZWNrVGFpbCkpO1xuXHQgICAgICB9IC8vIGFwcGVuZCB0YWlsIGJ1dCBhZ2dyZWdhdGUgb25seSB0YWlsU2hpZnRcblxuXG5cdCAgICAgIGlmIChjaGVja1RhaWwgIT0gbnVsbCkge1xuXHQgICAgICAgIGRldGFpbHMudGFpbFNoaWZ0ICs9IHRoaXMuYXBwZW5kVGFpbChjaGVja1RhaWwpLnRhaWxTaGlmdDsgLy8gVE9ETyBpdCdzIGEgZ29vZCBpZGVhIHRvIGNsZWFyIHN0YXRlIGFmdGVyIGFwcGVuZGluZyBlbmRzXG5cdCAgICAgICAgLy8gYnV0IGl0IGNhdXNlcyBidWdzIHdoZW4gb25lIGFwcGVuZCBjYWxscyBhbm90aGVyICh3aGVuIGR5bmFtaWMgZGlzcGF0Y2ggc2V0IHJhd0lucHV0VmFsdWUpXG5cdCAgICAgICAgLy8gdGhpcy5fcmVzZXRCZWZvcmVUYWlsU3RhdGUoKTtcblx0ICAgICAgfVxuXG5cdCAgICAgIHJldHVybiBkZXRhaWxzO1xuXHQgICAgfVxuXHQgICAgLyoqICovXG5cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwicmVtb3ZlXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xuXHQgICAgICB2YXIgZnJvbVBvcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMDtcblx0ICAgICAgdmFyIHRvUG9zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB0aGlzLnZhbHVlLmxlbmd0aDtcblx0ICAgICAgdGhpcy5fdmFsdWUgPSB0aGlzLnZhbHVlLnNsaWNlKDAsIGZyb21Qb3MpICsgdGhpcy52YWx1ZS5zbGljZSh0b1Bvcyk7XG5cdCAgICAgIHJldHVybiBuZXcgQ2hhbmdlRGV0YWlscygpO1xuXHQgICAgfVxuXHQgICAgLyoqIENhbGxzIGZ1bmN0aW9uIGFuZCByZWFwcGxpZXMgY3VycmVudCB2YWx1ZSAqL1xuXG5cdCAgfSwge1xuXHQgICAga2V5OiBcIndpdGhWYWx1ZVJlZnJlc2hcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiB3aXRoVmFsdWVSZWZyZXNoKGZuKSB7XG5cdCAgICAgIGlmICh0aGlzLl9yZWZyZXNoaW5nIHx8ICF0aGlzLmlzSW5pdGlhbGl6ZWQpIHJldHVybiBmbigpO1xuXHQgICAgICB0aGlzLl9yZWZyZXNoaW5nID0gdHJ1ZTtcblx0ICAgICAgdmFyIHJhd0lucHV0ID0gdGhpcy5yYXdJbnB1dFZhbHVlO1xuXHQgICAgICB2YXIgdmFsdWUgPSB0aGlzLnZhbHVlO1xuXHQgICAgICB2YXIgcmV0ID0gZm4oKTtcblx0ICAgICAgdGhpcy5yYXdJbnB1dFZhbHVlID0gcmF3SW5wdXQ7IC8vIGFwcGVuZCBsb3N0IHRyYWlsaW5nIGNoYXJzIGF0IGVuZFxuXG5cdCAgICAgIGlmICh0aGlzLnZhbHVlICE9PSB2YWx1ZSAmJiB2YWx1ZS5pbmRleE9mKHRoaXMudmFsdWUpID09PSAwKSB7XG5cdCAgICAgICAgdGhpcy5hcHBlbmQodmFsdWUuc2xpY2UodGhpcy52YWx1ZS5sZW5ndGgpLCB7fSwgJycpO1xuXHQgICAgICB9XG5cblx0ICAgICAgZGVsZXRlIHRoaXMuX3JlZnJlc2hpbmc7XG5cdCAgICAgIHJldHVybiByZXQ7XG5cdCAgICB9XG5cdCAgICAvKiogKi9cblxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJydW5Jc29sYXRlZFwiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJ1bklzb2xhdGVkKGZuKSB7XG5cdCAgICAgIGlmICh0aGlzLl9pc29sYXRlZCB8fCAhdGhpcy5pc0luaXRpYWxpemVkKSByZXR1cm4gZm4odGhpcyk7XG5cdCAgICAgIHRoaXMuX2lzb2xhdGVkID0gdHJ1ZTtcblx0ICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcblx0ICAgICAgdmFyIHJldCA9IGZuKHRoaXMpO1xuXHQgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG5cdCAgICAgIGRlbGV0ZSB0aGlzLl9pc29sYXRlZDtcblx0ICAgICAgcmV0dXJuIHJldDtcblx0ICAgIH1cblx0ICAgIC8qKlxyXG5cdCAgICAgIFByZXBhcmVzIHN0cmluZyBiZWZvcmUgbWFzayBwcm9jZXNzaW5nXHJcblx0ICAgICAgQHByb3RlY3RlZFxyXG5cdCAgICAqL1xuXG5cdCAgfSwge1xuXHQgICAga2V5OiBcImRvUHJlcGFyZVwiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGRvUHJlcGFyZShzdHIpIHtcblx0ICAgICAgdmFyIGZsYWdzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcblx0ICAgICAgcmV0dXJuIHRoaXMucHJlcGFyZSA/IHRoaXMucHJlcGFyZShzdHIsIHRoaXMsIGZsYWdzKSA6IHN0cjtcblx0ICAgIH1cblx0ICAgIC8qKlxyXG5cdCAgICAgIFZhbGlkYXRlcyBpZiB2YWx1ZSBpcyBhY2NlcHRhYmxlXHJcblx0ICAgICAgQHByb3RlY3RlZFxyXG5cdCAgICAqL1xuXG5cdCAgfSwge1xuXHQgICAga2V5OiBcImRvVmFsaWRhdGVcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBkb1ZhbGlkYXRlKGZsYWdzKSB7XG5cdCAgICAgIHJldHVybiAoIXRoaXMudmFsaWRhdGUgfHwgdGhpcy52YWxpZGF0ZSh0aGlzLnZhbHVlLCB0aGlzLCBmbGFncykpICYmICghdGhpcy5wYXJlbnQgfHwgdGhpcy5wYXJlbnQuZG9WYWxpZGF0ZShmbGFncykpO1xuXHQgICAgfVxuXHQgICAgLyoqXHJcblx0ICAgICAgRG9lcyBhZGRpdGlvbmFsIHByb2Nlc3NpbmcgaW4gdGhlIGVuZCBvZiBlZGl0aW5nXHJcblx0ICAgICAgQHByb3RlY3RlZFxyXG5cdCAgICAqL1xuXG5cdCAgfSwge1xuXHQgICAga2V5OiBcImRvQ29tbWl0XCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZG9Db21taXQoKSB7XG5cdCAgICAgIGlmICh0aGlzLmNvbW1pdCkgdGhpcy5jb21taXQodGhpcy52YWx1ZSwgdGhpcyk7XG5cdCAgICB9XG5cdCAgICAvKiogKi9cblxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJkb0Zvcm1hdFwiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGRvRm9ybWF0KHZhbHVlKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLmZvcm1hdCA/IHRoaXMuZm9ybWF0KHZhbHVlLCB0aGlzKSA6IHZhbHVlO1xuXHQgICAgfVxuXHQgICAgLyoqICovXG5cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiZG9QYXJzZVwiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGRvUGFyc2Uoc3RyKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLnBhcnNlID8gdGhpcy5wYXJzZShzdHIsIHRoaXMpIDogc3RyO1xuXHQgICAgfVxuXHQgICAgLyoqICovXG5cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwic3BsaWNlXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc3BsaWNlKHN0YXJ0LCBkZWxldGVDb3VudCwgaW5zZXJ0ZWQsIHJlbW92ZURpcmVjdGlvbikge1xuXHQgICAgICB2YXIgdGFpbFBvcyA9IHN0YXJ0ICsgZGVsZXRlQ291bnQ7XG5cdCAgICAgIHZhciB0YWlsID0gdGhpcy5leHRyYWN0VGFpbCh0YWlsUG9zKTtcblx0ICAgICAgdmFyIHN0YXJ0Q2hhbmdlUG9zID0gdGhpcy5uZWFyZXN0SW5wdXRQb3Moc3RhcnQsIHJlbW92ZURpcmVjdGlvbik7XG5cdCAgICAgIHZhciBjaGFuZ2VEZXRhaWxzID0gbmV3IENoYW5nZURldGFpbHMoe1xuXHQgICAgICAgIHRhaWxTaGlmdDogc3RhcnRDaGFuZ2VQb3MgLSBzdGFydCAvLyBhZGp1c3QgdGFpbFNoaWZ0IGlmIHN0YXJ0IHdhcyBhbGlnbmVkXG5cblx0ICAgICAgfSkuYWdncmVnYXRlKHRoaXMucmVtb3ZlKHN0YXJ0Q2hhbmdlUG9zKSkuYWdncmVnYXRlKHRoaXMuYXBwZW5kKGluc2VydGVkLCB7XG5cdCAgICAgICAgaW5wdXQ6IHRydWVcblx0ICAgICAgfSwgdGFpbCkpO1xuXHQgICAgICByZXR1cm4gY2hhbmdlRGV0YWlscztcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwic3RhdGVcIixcblx0ICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgICByZXR1cm4ge1xuXHQgICAgICAgIF92YWx1ZTogdGhpcy52YWx1ZVxuXHQgICAgICB9O1xuXHQgICAgfSxcblx0ICAgIHNldDogZnVuY3Rpb24gc2V0KHN0YXRlKSB7XG5cdCAgICAgIHRoaXMuX3ZhbHVlID0gc3RhdGUuX3ZhbHVlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJ2YWx1ZVwiLFxuXHQgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLl92YWx1ZTtcblx0ICAgIH0sXG5cdCAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuXHQgICAgICB0aGlzLnJlc29sdmUodmFsdWUpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJ1bm1hc2tlZFZhbHVlXCIsXG5cdCAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMudmFsdWU7XG5cdCAgICB9LFxuXHQgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcblx0ICAgICAgdGhpcy5yZXNldCgpO1xuXHQgICAgICB0aGlzLmFwcGVuZCh2YWx1ZSwge30sICcnKTtcblx0ICAgICAgdGhpcy5kb0NvbW1pdCgpO1xuXHQgICAgfVxuXHQgICAgLyoqICovXG5cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwidHlwZWRWYWx1ZVwiLFxuXHQgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLmRvUGFyc2UodGhpcy52YWx1ZSk7XG5cdCAgICB9LFxuXHQgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcblx0ICAgICAgdGhpcy52YWx1ZSA9IHRoaXMuZG9Gb3JtYXQodmFsdWUpO1xuXHQgICAgfVxuXHQgICAgLyoqIFZhbHVlIHRoYXQgaW5jbHVkZXMgcmF3IHVzZXIgaW5wdXQgKi9cblxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJyYXdJbnB1dFZhbHVlXCIsXG5cdCAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuZXh0cmFjdElucHV0KDAsIHRoaXMudmFsdWUubGVuZ3RoLCB7XG5cdCAgICAgICAgcmF3OiB0cnVlXG5cdCAgICAgIH0pO1xuXHQgICAgfSxcblx0ICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG5cdCAgICAgIHRoaXMucmVzZXQoKTtcblx0ICAgICAgdGhpcy5hcHBlbmQodmFsdWUsIHtcblx0ICAgICAgICByYXc6IHRydWVcblx0ICAgICAgfSwgJycpO1xuXHQgICAgICB0aGlzLmRvQ29tbWl0KCk7XG5cdCAgICB9XG5cdCAgICAvKiogKi9cblxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJpc0NvbXBsZXRlXCIsXG5cdCAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9XG5cdCAgfV0pO1xuXG5cdCAgcmV0dXJuIE1hc2tlZDtcblx0fSgpO1xuXHRNYXNrZWQuREVGQVVMVFMgPSB7XG5cdCAgZm9ybWF0OiBmdW5jdGlvbiBmb3JtYXQodikge1xuXHQgICAgcmV0dXJuIHY7XG5cdCAgfSxcblx0ICBwYXJzZTogZnVuY3Rpb24gcGFyc2Uodikge1xuXHQgICAgcmV0dXJuIHY7XG5cdCAgfVxuXHR9O1xuXHRJTWFzay5NYXNrZWQgPSBNYXNrZWQ7XG5cblx0LyoqIEdldCBNYXNrZWQgY2xhc3MgYnkgbWFzayB0eXBlICovXG5cblx0ZnVuY3Rpb24gbWFza2VkQ2xhc3MobWFzaykge1xuXHQgIGlmIChtYXNrID09IG51bGwpIHtcblx0ICAgIHRocm93IG5ldyBFcnJvcignbWFzayBwcm9wZXJ0eSBzaG91bGQgYmUgZGVmaW5lZCcpO1xuXHQgIH0gLy8gJEZsb3dGaXhNZVxuXG5cblx0ICBpZiAobWFzayBpbnN0YW5jZW9mIFJlZ0V4cCkgcmV0dXJuIElNYXNrLk1hc2tlZFJlZ0V4cDsgLy8gJEZsb3dGaXhNZVxuXG5cdCAgaWYgKGlzU3RyaW5nKG1hc2spKSByZXR1cm4gSU1hc2suTWFza2VkUGF0dGVybjsgLy8gJEZsb3dGaXhNZVxuXG5cdCAgaWYgKG1hc2sgaW5zdGFuY2VvZiBEYXRlIHx8IG1hc2sgPT09IERhdGUpIHJldHVybiBJTWFzay5NYXNrZWREYXRlOyAvLyAkRmxvd0ZpeE1lXG5cblx0ICBpZiAobWFzayBpbnN0YW5jZW9mIE51bWJlciB8fCB0eXBlb2YgbWFzayA9PT0gJ251bWJlcicgfHwgbWFzayA9PT0gTnVtYmVyKSByZXR1cm4gSU1hc2suTWFza2VkTnVtYmVyOyAvLyAkRmxvd0ZpeE1lXG5cblx0ICBpZiAoQXJyYXkuaXNBcnJheShtYXNrKSB8fCBtYXNrID09PSBBcnJheSkgcmV0dXJuIElNYXNrLk1hc2tlZER5bmFtaWM7IC8vICRGbG93Rml4TWVcblxuXHQgIGlmIChJTWFzay5NYXNrZWQgJiYgbWFzay5wcm90b3R5cGUgaW5zdGFuY2VvZiBJTWFzay5NYXNrZWQpIHJldHVybiBtYXNrOyAvLyAkRmxvd0ZpeE1lXG5cblx0ICBpZiAobWFzayBpbnN0YW5jZW9mIEZ1bmN0aW9uKSByZXR1cm4gSU1hc2suTWFza2VkRnVuY3Rpb247IC8vICRGbG93Rml4TWVcblxuXHQgIGlmIChtYXNrIGluc3RhbmNlb2YgSU1hc2suTWFza2VkKSByZXR1cm4gbWFzay5jb25zdHJ1Y3Rvcjtcblx0ICBjb25zb2xlLndhcm4oJ01hc2sgbm90IGZvdW5kIGZvciBtYXNrJywgbWFzayk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuXHQgIC8vICRGbG93Rml4TWVcblxuXHQgIHJldHVybiBJTWFzay5NYXNrZWQ7XG5cdH1cblx0LyoqIENyZWF0ZXMgbmV3IHtAbGluayBNYXNrZWR9IGRlcGVuZGluZyBvbiBtYXNrIHR5cGUgKi9cblxuXHRmdW5jdGlvbiBjcmVhdGVNYXNrKG9wdHMpIHtcblx0ICAvLyAkRmxvd0ZpeE1lXG5cdCAgaWYgKElNYXNrLk1hc2tlZCAmJiBvcHRzIGluc3RhbmNlb2YgSU1hc2suTWFza2VkKSByZXR1cm4gb3B0cztcblx0ICBvcHRzID0gT2JqZWN0LmFzc2lnbih7fSwgb3B0cyk7XG5cdCAgdmFyIG1hc2sgPSBvcHRzLm1hc2s7IC8vICRGbG93Rml4TWVcblxuXHQgIGlmIChJTWFzay5NYXNrZWQgJiYgbWFzayBpbnN0YW5jZW9mIElNYXNrLk1hc2tlZCkgcmV0dXJuIG1hc2s7XG5cdCAgdmFyIE1hc2tlZENsYXNzID0gbWFza2VkQ2xhc3MobWFzayk7XG5cdCAgaWYgKCFNYXNrZWRDbGFzcykgdGhyb3cgbmV3IEVycm9yKCdNYXNrZWQgY2xhc3MgaXMgbm90IGZvdW5kIGZvciBwcm92aWRlZCBtYXNrLCBhcHByb3ByaWF0ZSBtb2R1bGUgbmVlZHMgdG8gYmUgaW1wb3J0IG1hbnVhbGx5IGJlZm9yZSBjcmVhdGluZyBtYXNrLicpO1xuXHQgIHJldHVybiBuZXcgTWFza2VkQ2xhc3Mob3B0cyk7XG5cdH1cblx0SU1hc2suY3JlYXRlTWFzayA9IGNyZWF0ZU1hc2s7XG5cblx0dmFyIERFRkFVTFRfSU5QVVRfREVGSU5JVElPTlMgPSB7XG5cdCAgJzAnOiAvXFxkLyxcblx0ICAnYSc6IC9bXFx1MDA0MS1cXHUwMDVBXFx1MDA2MS1cXHUwMDdBXFx1MDBBQVxcdTAwQjVcXHUwMEJBXFx1MDBDMC1cXHUwMEQ2XFx1MDBEOC1cXHUwMEY2XFx1MDBGOC1cXHUwMkMxXFx1MDJDNi1cXHUwMkQxXFx1MDJFMC1cXHUwMkU0XFx1MDJFQ1xcdTAyRUVcXHUwMzcwLVxcdTAzNzRcXHUwMzc2XFx1MDM3N1xcdTAzN0EtXFx1MDM3RFxcdTAzODZcXHUwMzg4LVxcdTAzOEFcXHUwMzhDXFx1MDM4RS1cXHUwM0ExXFx1MDNBMy1cXHUwM0Y1XFx1MDNGNy1cXHUwNDgxXFx1MDQ4QS1cXHUwNTI3XFx1MDUzMS1cXHUwNTU2XFx1MDU1OVxcdTA1NjEtXFx1MDU4N1xcdTA1RDAtXFx1MDVFQVxcdTA1RjAtXFx1MDVGMlxcdTA2MjAtXFx1MDY0QVxcdTA2NkVcXHUwNjZGXFx1MDY3MS1cXHUwNkQzXFx1MDZENVxcdTA2RTVcXHUwNkU2XFx1MDZFRVxcdTA2RUZcXHUwNkZBLVxcdTA2RkNcXHUwNkZGXFx1MDcxMFxcdTA3MTItXFx1MDcyRlxcdTA3NEQtXFx1MDdBNVxcdTA3QjFcXHUwN0NBLVxcdTA3RUFcXHUwN0Y0XFx1MDdGNVxcdTA3RkFcXHUwODAwLVxcdTA4MTVcXHUwODFBXFx1MDgyNFxcdTA4MjhcXHUwODQwLVxcdTA4NThcXHUwOEEwXFx1MDhBMi1cXHUwOEFDXFx1MDkwNC1cXHUwOTM5XFx1MDkzRFxcdTA5NTBcXHUwOTU4LVxcdTA5NjFcXHUwOTcxLVxcdTA5NzdcXHUwOTc5LVxcdTA5N0ZcXHUwOTg1LVxcdTA5OENcXHUwOThGXFx1MDk5MFxcdTA5OTMtXFx1MDlBOFxcdTA5QUEtXFx1MDlCMFxcdTA5QjJcXHUwOUI2LVxcdTA5QjlcXHUwOUJEXFx1MDlDRVxcdTA5RENcXHUwOUREXFx1MDlERi1cXHUwOUUxXFx1MDlGMFxcdTA5RjFcXHUwQTA1LVxcdTBBMEFcXHUwQTBGXFx1MEExMFxcdTBBMTMtXFx1MEEyOFxcdTBBMkEtXFx1MEEzMFxcdTBBMzJcXHUwQTMzXFx1MEEzNVxcdTBBMzZcXHUwQTM4XFx1MEEzOVxcdTBBNTktXFx1MEE1Q1xcdTBBNUVcXHUwQTcyLVxcdTBBNzRcXHUwQTg1LVxcdTBBOERcXHUwQThGLVxcdTBBOTFcXHUwQTkzLVxcdTBBQThcXHUwQUFBLVxcdTBBQjBcXHUwQUIyXFx1MEFCM1xcdTBBQjUtXFx1MEFCOVxcdTBBQkRcXHUwQUQwXFx1MEFFMFxcdTBBRTFcXHUwQjA1LVxcdTBCMENcXHUwQjBGXFx1MEIxMFxcdTBCMTMtXFx1MEIyOFxcdTBCMkEtXFx1MEIzMFxcdTBCMzJcXHUwQjMzXFx1MEIzNS1cXHUwQjM5XFx1MEIzRFxcdTBCNUNcXHUwQjVEXFx1MEI1Ri1cXHUwQjYxXFx1MEI3MVxcdTBCODNcXHUwQjg1LVxcdTBCOEFcXHUwQjhFLVxcdTBCOTBcXHUwQjkyLVxcdTBCOTVcXHUwQjk5XFx1MEI5QVxcdTBCOUNcXHUwQjlFXFx1MEI5RlxcdTBCQTNcXHUwQkE0XFx1MEJBOC1cXHUwQkFBXFx1MEJBRS1cXHUwQkI5XFx1MEJEMFxcdTBDMDUtXFx1MEMwQ1xcdTBDMEUtXFx1MEMxMFxcdTBDMTItXFx1MEMyOFxcdTBDMkEtXFx1MEMzM1xcdTBDMzUtXFx1MEMzOVxcdTBDM0RcXHUwQzU4XFx1MEM1OVxcdTBDNjBcXHUwQzYxXFx1MEM4NS1cXHUwQzhDXFx1MEM4RS1cXHUwQzkwXFx1MEM5Mi1cXHUwQ0E4XFx1MENBQS1cXHUwQ0IzXFx1MENCNS1cXHUwQ0I5XFx1MENCRFxcdTBDREVcXHUwQ0UwXFx1MENFMVxcdTBDRjFcXHUwQ0YyXFx1MEQwNS1cXHUwRDBDXFx1MEQwRS1cXHUwRDEwXFx1MEQxMi1cXHUwRDNBXFx1MEQzRFxcdTBENEVcXHUwRDYwXFx1MEQ2MVxcdTBEN0EtXFx1MEQ3RlxcdTBEODUtXFx1MEQ5NlxcdTBEOUEtXFx1MERCMVxcdTBEQjMtXFx1MERCQlxcdTBEQkRcXHUwREMwLVxcdTBEQzZcXHUwRTAxLVxcdTBFMzBcXHUwRTMyXFx1MEUzM1xcdTBFNDAtXFx1MEU0NlxcdTBFODFcXHUwRTgyXFx1MEU4NFxcdTBFODdcXHUwRTg4XFx1MEU4QVxcdTBFOERcXHUwRTk0LVxcdTBFOTdcXHUwRTk5LVxcdTBFOUZcXHUwRUExLVxcdTBFQTNcXHUwRUE1XFx1MEVBN1xcdTBFQUFcXHUwRUFCXFx1MEVBRC1cXHUwRUIwXFx1MEVCMlxcdTBFQjNcXHUwRUJEXFx1MEVDMC1cXHUwRUM0XFx1MEVDNlxcdTBFREMtXFx1MEVERlxcdTBGMDBcXHUwRjQwLVxcdTBGNDdcXHUwRjQ5LVxcdTBGNkNcXHUwRjg4LVxcdTBGOENcXHUxMDAwLVxcdTEwMkFcXHUxMDNGXFx1MTA1MC1cXHUxMDU1XFx1MTA1QS1cXHUxMDVEXFx1MTA2MVxcdTEwNjVcXHUxMDY2XFx1MTA2RS1cXHUxMDcwXFx1MTA3NS1cXHUxMDgxXFx1MTA4RVxcdTEwQTAtXFx1MTBDNVxcdTEwQzdcXHUxMENEXFx1MTBEMC1cXHUxMEZBXFx1MTBGQy1cXHUxMjQ4XFx1MTI0QS1cXHUxMjREXFx1MTI1MC1cXHUxMjU2XFx1MTI1OFxcdTEyNUEtXFx1MTI1RFxcdTEyNjAtXFx1MTI4OFxcdTEyOEEtXFx1MTI4RFxcdTEyOTAtXFx1MTJCMFxcdTEyQjItXFx1MTJCNVxcdTEyQjgtXFx1MTJCRVxcdTEyQzBcXHUxMkMyLVxcdTEyQzVcXHUxMkM4LVxcdTEyRDZcXHUxMkQ4LVxcdTEzMTBcXHUxMzEyLVxcdTEzMTVcXHUxMzE4LVxcdTEzNUFcXHUxMzgwLVxcdTEzOEZcXHUxM0EwLVxcdTEzRjRcXHUxNDAxLVxcdTE2NkNcXHUxNjZGLVxcdTE2N0ZcXHUxNjgxLVxcdTE2OUFcXHUxNkEwLVxcdTE2RUFcXHUxNzAwLVxcdTE3MENcXHUxNzBFLVxcdTE3MTFcXHUxNzIwLVxcdTE3MzFcXHUxNzQwLVxcdTE3NTFcXHUxNzYwLVxcdTE3NkNcXHUxNzZFLVxcdTE3NzBcXHUxNzgwLVxcdTE3QjNcXHUxN0Q3XFx1MTdEQ1xcdTE4MjAtXFx1MTg3N1xcdTE4ODAtXFx1MThBOFxcdTE4QUFcXHUxOEIwLVxcdTE4RjVcXHUxOTAwLVxcdTE5MUNcXHUxOTUwLVxcdTE5NkRcXHUxOTcwLVxcdTE5NzRcXHUxOTgwLVxcdTE5QUJcXHUxOUMxLVxcdTE5QzdcXHUxQTAwLVxcdTFBMTZcXHUxQTIwLVxcdTFBNTRcXHUxQUE3XFx1MUIwNS1cXHUxQjMzXFx1MUI0NS1cXHUxQjRCXFx1MUI4My1cXHUxQkEwXFx1MUJBRVxcdTFCQUZcXHUxQkJBLVxcdTFCRTVcXHUxQzAwLVxcdTFDMjNcXHUxQzRELVxcdTFDNEZcXHUxQzVBLVxcdTFDN0RcXHUxQ0U5LVxcdTFDRUNcXHUxQ0VFLVxcdTFDRjFcXHUxQ0Y1XFx1MUNGNlxcdTFEMDAtXFx1MURCRlxcdTFFMDAtXFx1MUYxNVxcdTFGMTgtXFx1MUYxRFxcdTFGMjAtXFx1MUY0NVxcdTFGNDgtXFx1MUY0RFxcdTFGNTAtXFx1MUY1N1xcdTFGNTlcXHUxRjVCXFx1MUY1RFxcdTFGNUYtXFx1MUY3RFxcdTFGODAtXFx1MUZCNFxcdTFGQjYtXFx1MUZCQ1xcdTFGQkVcXHUxRkMyLVxcdTFGQzRcXHUxRkM2LVxcdTFGQ0NcXHUxRkQwLVxcdTFGRDNcXHUxRkQ2LVxcdTFGREJcXHUxRkUwLVxcdTFGRUNcXHUxRkYyLVxcdTFGRjRcXHUxRkY2LVxcdTFGRkNcXHUyMDcxXFx1MjA3RlxcdTIwOTAtXFx1MjA5Q1xcdTIxMDJcXHUyMTA3XFx1MjEwQS1cXHUyMTEzXFx1MjExNVxcdTIxMTktXFx1MjExRFxcdTIxMjRcXHUyMTI2XFx1MjEyOFxcdTIxMkEtXFx1MjEyRFxcdTIxMkYtXFx1MjEzOVxcdTIxM0MtXFx1MjEzRlxcdTIxNDUtXFx1MjE0OVxcdTIxNEVcXHUyMTgzXFx1MjE4NFxcdTJDMDAtXFx1MkMyRVxcdTJDMzAtXFx1MkM1RVxcdTJDNjAtXFx1MkNFNFxcdTJDRUItXFx1MkNFRVxcdTJDRjJcXHUyQ0YzXFx1MkQwMC1cXHUyRDI1XFx1MkQyN1xcdTJEMkRcXHUyRDMwLVxcdTJENjdcXHUyRDZGXFx1MkQ4MC1cXHUyRDk2XFx1MkRBMC1cXHUyREE2XFx1MkRBOC1cXHUyREFFXFx1MkRCMC1cXHUyREI2XFx1MkRCOC1cXHUyREJFXFx1MkRDMC1cXHUyREM2XFx1MkRDOC1cXHUyRENFXFx1MkREMC1cXHUyREQ2XFx1MkREOC1cXHUyRERFXFx1MkUyRlxcdTMwMDVcXHUzMDA2XFx1MzAzMS1cXHUzMDM1XFx1MzAzQlxcdTMwM0NcXHUzMDQxLVxcdTMwOTZcXHUzMDlELVxcdTMwOUZcXHUzMEExLVxcdTMwRkFcXHUzMEZDLVxcdTMwRkZcXHUzMTA1LVxcdTMxMkRcXHUzMTMxLVxcdTMxOEVcXHUzMUEwLVxcdTMxQkFcXHUzMUYwLVxcdTMxRkZcXHUzNDAwLVxcdTREQjVcXHU0RTAwLVxcdTlGQ0NcXHVBMDAwLVxcdUE0OENcXHVBNEQwLVxcdUE0RkRcXHVBNTAwLVxcdUE2MENcXHVBNjEwLVxcdUE2MUZcXHVBNjJBXFx1QTYyQlxcdUE2NDAtXFx1QTY2RVxcdUE2N0YtXFx1QTY5N1xcdUE2QTAtXFx1QTZFNVxcdUE3MTctXFx1QTcxRlxcdUE3MjItXFx1QTc4OFxcdUE3OEItXFx1QTc4RVxcdUE3OTAtXFx1QTc5M1xcdUE3QTAtXFx1QTdBQVxcdUE3RjgtXFx1QTgwMVxcdUE4MDMtXFx1QTgwNVxcdUE4MDctXFx1QTgwQVxcdUE4MEMtXFx1QTgyMlxcdUE4NDAtXFx1QTg3M1xcdUE4ODItXFx1QThCM1xcdUE4RjItXFx1QThGN1xcdUE4RkJcXHVBOTBBLVxcdUE5MjVcXHVBOTMwLVxcdUE5NDZcXHVBOTYwLVxcdUE5N0NcXHVBOTg0LVxcdUE5QjJcXHVBOUNGXFx1QUEwMC1cXHVBQTI4XFx1QUE0MC1cXHVBQTQyXFx1QUE0NC1cXHVBQTRCXFx1QUE2MC1cXHVBQTc2XFx1QUE3QVxcdUFBODAtXFx1QUFBRlxcdUFBQjFcXHVBQUI1XFx1QUFCNlxcdUFBQjktXFx1QUFCRFxcdUFBQzBcXHVBQUMyXFx1QUFEQi1cXHVBQUREXFx1QUFFMC1cXHVBQUVBXFx1QUFGMi1cXHVBQUY0XFx1QUIwMS1cXHVBQjA2XFx1QUIwOS1cXHVBQjBFXFx1QUIxMS1cXHVBQjE2XFx1QUIyMC1cXHVBQjI2XFx1QUIyOC1cXHVBQjJFXFx1QUJDMC1cXHVBQkUyXFx1QUMwMC1cXHVEN0EzXFx1RDdCMC1cXHVEN0M2XFx1RDdDQi1cXHVEN0ZCXFx1RjkwMC1cXHVGQTZEXFx1RkE3MC1cXHVGQUQ5XFx1RkIwMC1cXHVGQjA2XFx1RkIxMy1cXHVGQjE3XFx1RkIxRFxcdUZCMUYtXFx1RkIyOFxcdUZCMkEtXFx1RkIzNlxcdUZCMzgtXFx1RkIzQ1xcdUZCM0VcXHVGQjQwXFx1RkI0MVxcdUZCNDNcXHVGQjQ0XFx1RkI0Ni1cXHVGQkIxXFx1RkJEMy1cXHVGRDNEXFx1RkQ1MC1cXHVGRDhGXFx1RkQ5Mi1cXHVGREM3XFx1RkRGMC1cXHVGREZCXFx1RkU3MC1cXHVGRTc0XFx1RkU3Ni1cXHVGRUZDXFx1RkYyMS1cXHVGRjNBXFx1RkY0MS1cXHVGRjVBXFx1RkY2Ni1cXHVGRkJFXFx1RkZDMi1cXHVGRkM3XFx1RkZDQS1cXHVGRkNGXFx1RkZEMi1cXHVGRkQ3XFx1RkZEQS1cXHVGRkRDXS8sXG5cdCAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjIwNzUwNzBcblx0ICAnKic6IC8uL1xuXHR9O1xuXHQvKiogKi9cblxuXHR2YXIgUGF0dGVybklucHV0RGVmaW5pdGlvbiA9XG5cdC8qI19fUFVSRV9fKi9cblx0ZnVuY3Rpb24gKCkge1xuXHQgIC8qKiAqL1xuXG5cdCAgLyoqICovXG5cblx0ICAvKiogKi9cblxuXHQgIC8qKiAqL1xuXG5cdCAgLyoqICovXG5cblx0ICAvKiogKi9cblx0ICBmdW5jdGlvbiBQYXR0ZXJuSW5wdXREZWZpbml0aW9uKG9wdHMpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQYXR0ZXJuSW5wdXREZWZpbml0aW9uKTtcblxuXHQgICAgdmFyIG1hc2sgPSBvcHRzLm1hc2ssXG5cdCAgICAgICAgYmxvY2tPcHRzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKG9wdHMsIFtcIm1hc2tcIl0pO1xuXG5cdCAgICB0aGlzLm1hc2tlZCA9IGNyZWF0ZU1hc2soe1xuXHQgICAgICBtYXNrOiBtYXNrXG5cdCAgICB9KTtcblx0ICAgIE9iamVjdC5hc3NpZ24odGhpcywgYmxvY2tPcHRzKTtcblx0ICB9XG5cblx0ICBfY3JlYXRlQ2xhc3MoUGF0dGVybklucHV0RGVmaW5pdGlvbiwgW3tcblx0ICAgIGtleTogXCJyZXNldFwiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlc2V0KCkge1xuXHQgICAgICB0aGlzLl9pc0ZpbGxlZCA9IGZhbHNlO1xuXHQgICAgICB0aGlzLm1hc2tlZC5yZXNldCgpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJyZW1vdmVcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG5cdCAgICAgIHZhciBmcm9tUG9zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuXHQgICAgICB2YXIgdG9Qb3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHRoaXMudmFsdWUubGVuZ3RoO1xuXG5cdCAgICAgIGlmIChmcm9tUG9zID09PSAwICYmIHRvUG9zID49IDEpIHtcblx0ICAgICAgICB0aGlzLl9pc0ZpbGxlZCA9IGZhbHNlO1xuXHQgICAgICAgIHJldHVybiB0aGlzLm1hc2tlZC5yZW1vdmUoZnJvbVBvcywgdG9Qb3MpO1xuXHQgICAgICB9XG5cblx0ICAgICAgcmV0dXJuIG5ldyBDaGFuZ2VEZXRhaWxzKCk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiBcIl9hcHBlbmRDaGFyXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2FwcGVuZENoYXIoc3RyKSB7XG5cdCAgICAgIHZhciBmbGFncyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG5cdCAgICAgIGlmICh0aGlzLl9pc0ZpbGxlZCkgcmV0dXJuIG5ldyBDaGFuZ2VEZXRhaWxzKCk7XG5cdCAgICAgIHZhciBzdGF0ZSA9IHRoaXMubWFza2VkLnN0YXRlOyAvLyBzaW11bGF0ZSBpbnB1dFxuXG5cdCAgICAgIHZhciBkZXRhaWxzID0gdGhpcy5tYXNrZWQuX2FwcGVuZENoYXIoc3RyLCBmbGFncyk7XG5cblx0ICAgICAgaWYgKGRldGFpbHMuaW5zZXJ0ZWQgJiYgdGhpcy5kb1ZhbGlkYXRlKGZsYWdzKSA9PT0gZmFsc2UpIHtcblx0ICAgICAgICBkZXRhaWxzLmluc2VydGVkID0gZGV0YWlscy5yYXdJbnNlcnRlZCA9ICcnO1xuXHQgICAgICAgIHRoaXMubWFza2VkLnN0YXRlID0gc3RhdGU7XG5cdCAgICAgIH1cblxuXHQgICAgICBpZiAoIWRldGFpbHMuaW5zZXJ0ZWQgJiYgIXRoaXMuaXNPcHRpb25hbCAmJiAhdGhpcy5sYXp5ICYmICFmbGFncy5pbnB1dCkge1xuXHQgICAgICAgIGRldGFpbHMuaW5zZXJ0ZWQgPSB0aGlzLnBsYWNlaG9sZGVyQ2hhcjtcblx0ICAgICAgfVxuXG5cdCAgICAgIGRldGFpbHMuc2tpcCA9ICFkZXRhaWxzLmluc2VydGVkICYmICF0aGlzLmlzT3B0aW9uYWw7XG5cdCAgICAgIHRoaXMuX2lzRmlsbGVkID0gQm9vbGVhbihkZXRhaWxzLmluc2VydGVkKTtcblx0ICAgICAgcmV0dXJuIGRldGFpbHM7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiBcImFwcGVuZFwiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGFwcGVuZCgpIHtcblx0ICAgICAgdmFyIF90aGlzJG1hc2tlZDtcblxuXHQgICAgICByZXR1cm4gKF90aGlzJG1hc2tlZCA9IHRoaXMubWFza2VkKS5hcHBlbmQuYXBwbHkoX3RoaXMkbWFza2VkLCBhcmd1bWVudHMpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJfYXBwZW5kUGxhY2Vob2xkZXJcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfYXBwZW5kUGxhY2Vob2xkZXIoKSB7XG5cdCAgICAgIHZhciBkZXRhaWxzID0gbmV3IENoYW5nZURldGFpbHMoKTtcblx0ICAgICAgaWYgKHRoaXMuX2lzRmlsbGVkIHx8IHRoaXMuaXNPcHRpb25hbCkgcmV0dXJuIGRldGFpbHM7XG5cdCAgICAgIHRoaXMuX2lzRmlsbGVkID0gdHJ1ZTtcblx0ICAgICAgZGV0YWlscy5pbnNlcnRlZCA9IHRoaXMucGxhY2Vob2xkZXJDaGFyO1xuXHQgICAgICByZXR1cm4gZGV0YWlscztcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiZXh0cmFjdFRhaWxcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBleHRyYWN0VGFpbCgpIHtcblx0ICAgICAgdmFyIF90aGlzJG1hc2tlZDI7XG5cblx0ICAgICAgcmV0dXJuIChfdGhpcyRtYXNrZWQyID0gdGhpcy5tYXNrZWQpLmV4dHJhY3RUYWlsLmFwcGx5KF90aGlzJG1hc2tlZDIsIGFyZ3VtZW50cyk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiBcImFwcGVuZFRhaWxcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBhcHBlbmRUYWlsKCkge1xuXHQgICAgICB2YXIgX3RoaXMkbWFza2VkMztcblxuXHQgICAgICByZXR1cm4gKF90aGlzJG1hc2tlZDMgPSB0aGlzLm1hc2tlZCkuYXBwZW5kVGFpbC5hcHBseShfdGhpcyRtYXNrZWQzLCBhcmd1bWVudHMpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJleHRyYWN0SW5wdXRcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBleHRyYWN0SW5wdXQoKSB7XG5cdCAgICAgIHZhciBmcm9tUG9zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuXHQgICAgICB2YXIgdG9Qb3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHRoaXMudmFsdWUubGVuZ3RoO1xuXHQgICAgICB2YXIgZmxhZ3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMiA/IGFyZ3VtZW50c1syXSA6IHVuZGVmaW5lZDtcblx0ICAgICAgcmV0dXJuIHRoaXMubWFza2VkLmV4dHJhY3RJbnB1dChmcm9tUG9zLCB0b1BvcywgZmxhZ3MpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJuZWFyZXN0SW5wdXRQb3NcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBuZWFyZXN0SW5wdXRQb3MoY3Vyc29yUG9zKSB7XG5cdCAgICAgIHZhciBkaXJlY3Rpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IERJUkVDVElPTi5OT05FO1xuXHQgICAgICB2YXIgbWluUG9zID0gMDtcblx0ICAgICAgdmFyIG1heFBvcyA9IHRoaXMudmFsdWUubGVuZ3RoO1xuXHQgICAgICB2YXIgYm91bmRQb3MgPSBNYXRoLm1pbihNYXRoLm1heChjdXJzb3JQb3MsIG1pblBvcyksIG1heFBvcyk7XG5cblx0ICAgICAgc3dpdGNoIChkaXJlY3Rpb24pIHtcblx0ICAgICAgICBjYXNlIERJUkVDVElPTi5MRUZUOlxuXHQgICAgICAgIGNhc2UgRElSRUNUSU9OLkZPUkNFX0xFRlQ6XG5cdCAgICAgICAgICByZXR1cm4gdGhpcy5pc0NvbXBsZXRlID8gYm91bmRQb3MgOiBtaW5Qb3M7XG5cblx0ICAgICAgICBjYXNlIERJUkVDVElPTi5SSUdIVDpcblx0ICAgICAgICBjYXNlIERJUkVDVElPTi5GT1JDRV9SSUdIVDpcblx0ICAgICAgICAgIHJldHVybiB0aGlzLmlzQ29tcGxldGUgPyBib3VuZFBvcyA6IG1heFBvcztcblxuXHQgICAgICAgIGNhc2UgRElSRUNUSU9OLk5PTkU6XG5cdCAgICAgICAgZGVmYXVsdDpcblx0ICAgICAgICAgIHJldHVybiBib3VuZFBvcztcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJkb1ZhbGlkYXRlXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZG9WYWxpZGF0ZSgpIHtcblx0ICAgICAgdmFyIF90aGlzJG1hc2tlZDQsIF90aGlzJHBhcmVudDtcblxuXHQgICAgICByZXR1cm4gKF90aGlzJG1hc2tlZDQgPSB0aGlzLm1hc2tlZCkuZG9WYWxpZGF0ZS5hcHBseShfdGhpcyRtYXNrZWQ0LCBhcmd1bWVudHMpICYmICghdGhpcy5wYXJlbnQgfHwgKF90aGlzJHBhcmVudCA9IHRoaXMucGFyZW50KS5kb1ZhbGlkYXRlLmFwcGx5KF90aGlzJHBhcmVudCwgYXJndW1lbnRzKSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiBcImRvQ29tbWl0XCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZG9Db21taXQoKSB7XG5cdCAgICAgIHRoaXMubWFza2VkLmRvQ29tbWl0KCk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiBcInZhbHVlXCIsXG5cdCAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMubWFza2VkLnZhbHVlIHx8ICh0aGlzLl9pc0ZpbGxlZCAmJiAhdGhpcy5pc09wdGlvbmFsID8gdGhpcy5wbGFjZWhvbGRlckNoYXIgOiAnJyk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiBcInVubWFza2VkVmFsdWVcIixcblx0ICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5tYXNrZWQudW5tYXNrZWRWYWx1ZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiaXNDb21wbGV0ZVwiLFxuXHQgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdCAgICAgIHJldHVybiBCb29sZWFuKHRoaXMubWFza2VkLnZhbHVlKSB8fCB0aGlzLmlzT3B0aW9uYWw7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiBcInN0YXRlXCIsXG5cdCAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgcmV0dXJuIHtcblx0ICAgICAgICBtYXNrZWQ6IHRoaXMubWFza2VkLnN0YXRlLFxuXHQgICAgICAgIF9pc0ZpbGxlZDogdGhpcy5faXNGaWxsZWRcblx0ICAgICAgfTtcblx0ICAgIH0sXG5cdCAgICBzZXQ6IGZ1bmN0aW9uIHNldChzdGF0ZSkge1xuXHQgICAgICB0aGlzLm1hc2tlZC5zdGF0ZSA9IHN0YXRlLm1hc2tlZDtcblx0ICAgICAgdGhpcy5faXNGaWxsZWQgPSBzdGF0ZS5faXNGaWxsZWQ7XG5cdCAgICB9XG5cdCAgfV0pO1xuXG5cdCAgcmV0dXJuIFBhdHRlcm5JbnB1dERlZmluaXRpb247XG5cdH0oKTtcblxuXHR2YXIgUGF0dGVybkZpeGVkRGVmaW5pdGlvbiA9XG5cdC8qI19fUFVSRV9fKi9cblx0ZnVuY3Rpb24gKCkge1xuXHQgIC8qKiAqL1xuXG5cdCAgLyoqICovXG5cblx0ICAvKiogKi9cblxuXHQgIC8qKiAqL1xuXHQgIGZ1bmN0aW9uIFBhdHRlcm5GaXhlZERlZmluaXRpb24ob3B0cykge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBhdHRlcm5GaXhlZERlZmluaXRpb24pO1xuXG5cdCAgICBPYmplY3QuYXNzaWduKHRoaXMsIG9wdHMpO1xuXHQgICAgdGhpcy5fdmFsdWUgPSAnJztcblx0ICB9XG5cblx0ICBfY3JlYXRlQ2xhc3MoUGF0dGVybkZpeGVkRGVmaW5pdGlvbiwgW3tcblx0ICAgIGtleTogXCJyZXNldFwiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlc2V0KCkge1xuXHQgICAgICB0aGlzLl9pc1Jhd0lucHV0ID0gZmFsc2U7XG5cdCAgICAgIHRoaXMuX3ZhbHVlID0gJyc7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiBcInJlbW92ZVwiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcblx0ICAgICAgdmFyIGZyb21Qb3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7XG5cdCAgICAgIHZhciB0b1BvcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdGhpcy5fdmFsdWUubGVuZ3RoO1xuXHQgICAgICB0aGlzLl92YWx1ZSA9IHRoaXMuX3ZhbHVlLnNsaWNlKDAsIGZyb21Qb3MpICsgdGhpcy5fdmFsdWUuc2xpY2UodG9Qb3MpO1xuXHQgICAgICBpZiAoIXRoaXMuX3ZhbHVlKSB0aGlzLl9pc1Jhd0lucHV0ID0gZmFsc2U7XG5cdCAgICAgIHJldHVybiBuZXcgQ2hhbmdlRGV0YWlscygpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJuZWFyZXN0SW5wdXRQb3NcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBuZWFyZXN0SW5wdXRQb3MoY3Vyc29yUG9zKSB7XG5cdCAgICAgIHZhciBkaXJlY3Rpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IERJUkVDVElPTi5OT05FO1xuXHQgICAgICB2YXIgbWluUG9zID0gMDtcblx0ICAgICAgdmFyIG1heFBvcyA9IHRoaXMuX3ZhbHVlLmxlbmd0aDtcblxuXHQgICAgICBzd2l0Y2ggKGRpcmVjdGlvbikge1xuXHQgICAgICAgIGNhc2UgRElSRUNUSU9OLkxFRlQ6XG5cdCAgICAgICAgY2FzZSBESVJFQ1RJT04uRk9SQ0VfTEVGVDpcblx0ICAgICAgICAgIHJldHVybiBtaW5Qb3M7XG5cblx0ICAgICAgICBjYXNlIERJUkVDVElPTi5OT05FOlxuXHQgICAgICAgIGNhc2UgRElSRUNUSU9OLlJJR0hUOlxuXHQgICAgICAgIGNhc2UgRElSRUNUSU9OLkZPUkNFX1JJR0hUOlxuXHQgICAgICAgIGRlZmF1bHQ6XG5cdCAgICAgICAgICByZXR1cm4gbWF4UG9zO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiBcImV4dHJhY3RJbnB1dFwiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGV4dHJhY3RJbnB1dCgpIHtcblx0ICAgICAgdmFyIGZyb21Qb3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7XG5cdCAgICAgIHZhciB0b1BvcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdGhpcy5fdmFsdWUubGVuZ3RoO1xuXHQgICAgICB2YXIgZmxhZ3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuXHQgICAgICByZXR1cm4gZmxhZ3MucmF3ICYmIHRoaXMuX2lzUmF3SW5wdXQgJiYgdGhpcy5fdmFsdWUuc2xpY2UoZnJvbVBvcywgdG9Qb3MpIHx8ICcnO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJfYXBwZW5kQ2hhclwiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9hcHBlbmRDaGFyKHN0cikge1xuXHQgICAgICB2YXIgZmxhZ3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuXHQgICAgICB2YXIgZGV0YWlscyA9IG5ldyBDaGFuZ2VEZXRhaWxzKCk7XG5cdCAgICAgIGlmICh0aGlzLl92YWx1ZSkgcmV0dXJuIGRldGFpbHM7XG5cdCAgICAgIHZhciBhcHBlbmRlZCA9IHRoaXMuY2hhciA9PT0gc3RyWzBdO1xuXHQgICAgICB2YXIgaXNSZXNvbHZlZCA9IGFwcGVuZGVkICYmICh0aGlzLmlzVW5tYXNraW5nIHx8IGZsYWdzLmlucHV0IHx8IGZsYWdzLnJhdykgJiYgIWZsYWdzLnRhaWw7XG5cdCAgICAgIGlmIChpc1Jlc29sdmVkKSBkZXRhaWxzLnJhd0luc2VydGVkID0gdGhpcy5jaGFyO1xuXHQgICAgICB0aGlzLl92YWx1ZSA9IGRldGFpbHMuaW5zZXJ0ZWQgPSB0aGlzLmNoYXI7XG5cdCAgICAgIHRoaXMuX2lzUmF3SW5wdXQgPSBpc1Jlc29sdmVkICYmIChmbGFncy5yYXcgfHwgZmxhZ3MuaW5wdXQpO1xuXHQgICAgICByZXR1cm4gZGV0YWlscztcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiX2FwcGVuZFBsYWNlaG9sZGVyXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2FwcGVuZFBsYWNlaG9sZGVyKCkge1xuXHQgICAgICB2YXIgZGV0YWlscyA9IG5ldyBDaGFuZ2VEZXRhaWxzKCk7XG5cdCAgICAgIGlmICh0aGlzLl92YWx1ZSkgcmV0dXJuIGRldGFpbHM7XG5cdCAgICAgIHRoaXMuX3ZhbHVlID0gZGV0YWlscy5pbnNlcnRlZCA9IHRoaXMuY2hhcjtcblx0ICAgICAgcmV0dXJuIGRldGFpbHM7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiBcImV4dHJhY3RUYWlsXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZXh0cmFjdFRhaWwoKSB7XG5cdCAgICAgIHZhciB0b1BvcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdGhpcy52YWx1ZS5sZW5ndGg7XG5cdCAgICAgIHJldHVybiBuZXcgQ29udGludW91c1RhaWxEZXRhaWxzKCcnKTtcblx0ICAgIH0gLy8gJEZsb3dGaXhNZSBubyBpZGVhc1xuXG5cdCAgfSwge1xuXHQgICAga2V5OiBcImFwcGVuZFRhaWxcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBhcHBlbmRUYWlsKHRhaWwpIHtcblx0ICAgICAgaWYgKGlzU3RyaW5nKHRhaWwpKSB0YWlsID0gbmV3IENvbnRpbnVvdXNUYWlsRGV0YWlscyhTdHJpbmcodGFpbCkpO1xuXHQgICAgICByZXR1cm4gdGFpbC5hcHBlbmRUbyh0aGlzKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiYXBwZW5kXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gYXBwZW5kKHN0ciwgZmxhZ3MsIHRhaWwpIHtcblx0ICAgICAgdmFyIGRldGFpbHMgPSB0aGlzLl9hcHBlbmRDaGFyKHN0ciwgZmxhZ3MpO1xuXG5cdCAgICAgIGlmICh0YWlsICE9IG51bGwpIHtcblx0ICAgICAgICBkZXRhaWxzLnRhaWxTaGlmdCArPSB0aGlzLmFwcGVuZFRhaWwodGFpbCkudGFpbFNoaWZ0O1xuXHQgICAgICB9XG5cblx0ICAgICAgcmV0dXJuIGRldGFpbHM7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiBcImRvQ29tbWl0XCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZG9Db21taXQoKSB7fVxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJ2YWx1ZVwiLFxuXHQgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLl92YWx1ZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwidW5tYXNrZWRWYWx1ZVwiLFxuXHQgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLmlzVW5tYXNraW5nID8gdGhpcy52YWx1ZSA6ICcnO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJpc0NvbXBsZXRlXCIsXG5cdCAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiBcInN0YXRlXCIsXG5cdCAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgcmV0dXJuIHtcblx0ICAgICAgICBfdmFsdWU6IHRoaXMuX3ZhbHVlLFxuXHQgICAgICAgIF9pc1Jhd0lucHV0OiB0aGlzLl9pc1Jhd0lucHV0XG5cdCAgICAgIH07XG5cdCAgICB9LFxuXHQgICAgc2V0OiBmdW5jdGlvbiBzZXQoc3RhdGUpIHtcblx0ICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLCBzdGF0ZSk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXG5cdCAgcmV0dXJuIFBhdHRlcm5GaXhlZERlZmluaXRpb247XG5cdH0oKTtcblxuXHR2YXIgQ2h1bmtzVGFpbERldGFpbHMgPVxuXHQvKiNfX1BVUkVfXyovXG5cdGZ1bmN0aW9uICgpIHtcblx0ICAvKiogKi9cblx0ICBmdW5jdGlvbiBDaHVua3NUYWlsRGV0YWlscygpIHtcblx0ICAgIHZhciBjaHVua3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IFtdO1xuXHQgICAgdmFyIGZyb20gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7XG5cblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDaHVua3NUYWlsRGV0YWlscyk7XG5cblx0ICAgIHRoaXMuY2h1bmtzID0gY2h1bmtzO1xuXHQgICAgdGhpcy5mcm9tID0gZnJvbTtcblx0ICB9XG5cblx0ICBfY3JlYXRlQ2xhc3MoQ2h1bmtzVGFpbERldGFpbHMsIFt7XG5cdCAgICBrZXk6IFwidG9TdHJpbmdcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiB0b1N0cmluZygpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuY2h1bmtzLm1hcChTdHJpbmcpLmpvaW4oJycpO1xuXHQgICAgfSAvLyAkRmxvd0ZpeE1lIG5vIGlkZWFzXG5cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiZXh0ZW5kXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZXh0ZW5kKHRhaWxDaHVuaykge1xuXHQgICAgICBpZiAoIVN0cmluZyh0YWlsQ2h1bmspKSByZXR1cm47XG5cdCAgICAgIGlmIChpc1N0cmluZyh0YWlsQ2h1bmspKSB0YWlsQ2h1bmsgPSBuZXcgQ29udGludW91c1RhaWxEZXRhaWxzKFN0cmluZyh0YWlsQ2h1bmspKTtcblx0ICAgICAgdmFyIGxhc3RDaHVuayA9IHRoaXMuY2h1bmtzW3RoaXMuY2h1bmtzLmxlbmd0aCAtIDFdO1xuXHQgICAgICB2YXIgZXh0ZW5kTGFzdCA9IGxhc3RDaHVuayAmJiAoIC8vIGlmIHN0b3BzIGFyZSBzYW1lIG9yIHRhaWwgaGFzIG5vIHN0b3Bcblx0ICAgICAgbGFzdENodW5rLnN0b3AgPT09IHRhaWxDaHVuay5zdG9wIHx8IHRhaWxDaHVuay5zdG9wID09IG51bGwpICYmIC8vIGlmIHRhaWwgY2h1bmsgZ29lcyBqdXN0IGFmdGVyIGxhc3QgY2h1bmtcblx0ICAgICAgdGFpbENodW5rLmZyb20gPT09IGxhc3RDaHVuay5mcm9tICsgbGFzdENodW5rLnRvU3RyaW5nKCkubGVuZ3RoO1xuXG5cdCAgICAgIGlmICh0YWlsQ2h1bmsgaW5zdGFuY2VvZiBDb250aW51b3VzVGFpbERldGFpbHMpIHtcblx0ICAgICAgICAvLyBjaGVjayB0aGUgYWJpbGl0eSB0byBleHRlbmQgcHJldmlvdXMgY2h1bmtcblx0ICAgICAgICBpZiAoZXh0ZW5kTGFzdCkge1xuXHQgICAgICAgICAgLy8gZXh0ZW5kIHByZXZpb3VzIGNodW5rXG5cdCAgICAgICAgICBsYXN0Q2h1bmsuZXh0ZW5kKHRhaWxDaHVuay50b1N0cmluZygpKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgLy8gYXBwZW5kIG5ldyBjaHVua1xuXHQgICAgICAgICAgdGhpcy5jaHVua3MucHVzaCh0YWlsQ2h1bmspO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSBlbHNlIGlmICh0YWlsQ2h1bmsgaW5zdGFuY2VvZiBDaHVua3NUYWlsRGV0YWlscykge1xuXHQgICAgICAgIGlmICh0YWlsQ2h1bmsuc3RvcCA9PSBudWxsKSB7XG5cdCAgICAgICAgICAvLyB1bndyYXAgZmxvYXRpbmcgY2h1bmtzIHRvIHBhcmVudCwga2VlcGluZyBgZnJvbWAgcG9zXG5cdCAgICAgICAgICB2YXIgZmlyc3RUYWlsQ2h1bms7XG5cblx0ICAgICAgICAgIHdoaWxlICh0YWlsQ2h1bmsuY2h1bmtzLmxlbmd0aCAmJiB0YWlsQ2h1bmsuY2h1bmtzWzBdLnN0b3AgPT0gbnVsbCkge1xuXHQgICAgICAgICAgICBmaXJzdFRhaWxDaHVuayA9IHRhaWxDaHVuay5jaHVua3Muc2hpZnQoKTtcblx0ICAgICAgICAgICAgZmlyc3RUYWlsQ2h1bmsuZnJvbSArPSB0YWlsQ2h1bmsuZnJvbTtcblx0ICAgICAgICAgICAgdGhpcy5leHRlbmQoZmlyc3RUYWlsQ2h1bmspO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0gLy8gaWYgdGFpbCBjaHVuayBzdGlsbCBoYXMgdmFsdWVcblxuXG5cdCAgICAgICAgaWYgKHRhaWxDaHVuay50b1N0cmluZygpKSB7XG5cdCAgICAgICAgICAvLyBpZiBjaHVua3MgY29udGFpbnMgc3RvcHMsIHRoZW4gcG9wdXAgc3RvcCB0byBjb250YWluZXJcblx0ICAgICAgICAgIHRhaWxDaHVuay5zdG9wID0gdGFpbENodW5rLmJsb2NrSW5kZXg7XG5cdCAgICAgICAgICB0aGlzLmNodW5rcy5wdXNoKHRhaWxDaHVuayk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiBcImFwcGVuZFRvXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gYXBwZW5kVG8obWFza2VkKSB7XG5cdCAgICAgIC8vICRGbG93Rml4TWVcblx0ICAgICAgaWYgKCEobWFza2VkIGluc3RhbmNlb2YgSU1hc2suTWFza2VkUGF0dGVybikpIHtcblx0ICAgICAgICB2YXIgdGFpbCA9IG5ldyBDb250aW51b3VzVGFpbERldGFpbHModGhpcy50b1N0cmluZygpKTtcblx0ICAgICAgICByZXR1cm4gdGFpbC5hcHBlbmRUbyhtYXNrZWQpO1xuXHQgICAgICB9XG5cblx0ICAgICAgdmFyIGRldGFpbHMgPSBuZXcgQ2hhbmdlRGV0YWlscygpO1xuXG5cdCAgICAgIGZvciAodmFyIGNpID0gMDsgY2kgPCB0aGlzLmNodW5rcy5sZW5ndGggJiYgIWRldGFpbHMuc2tpcDsgKytjaSkge1xuXHQgICAgICAgIHZhciBjaHVuayA9IHRoaXMuY2h1bmtzW2NpXTtcblxuXHQgICAgICAgIHZhciBsYXN0QmxvY2tJdGVyID0gbWFza2VkLl9tYXBQb3NUb0Jsb2NrKG1hc2tlZC52YWx1ZS5sZW5ndGgpO1xuXG5cdCAgICAgICAgdmFyIHN0b3AgPSBjaHVuay5zdG9wO1xuXHQgICAgICAgIHZhciBjaHVua0Jsb2NrID0gdm9pZCAwO1xuXG5cdCAgICAgICAgaWYgKHN0b3AgIT0gbnVsbCAmJiAoIC8vIGlmIGJsb2NrIG5vdCBmb3VuZCBvciBzdG9wIGlzIGJlaGluZCBsYXN0QmxvY2tcblx0ICAgICAgICAhbGFzdEJsb2NrSXRlciB8fCBsYXN0QmxvY2tJdGVyLmluZGV4IDw9IHN0b3ApKSB7XG5cdCAgICAgICAgICBpZiAoY2h1bmsgaW5zdGFuY2VvZiBDaHVua3NUYWlsRGV0YWlscyB8fCAvLyBmb3IgY29udGludW91cyBibG9jayBhbHNvIGNoZWNrIGlmIHN0b3AgaXMgZXhpc3Rcblx0ICAgICAgICAgIG1hc2tlZC5fc3RvcHMuaW5kZXhPZihzdG9wKSA+PSAwKSB7XG5cdCAgICAgICAgICAgIGRldGFpbHMuYWdncmVnYXRlKG1hc2tlZC5fYXBwZW5kUGxhY2Vob2xkZXIoc3RvcCkpO1xuXHQgICAgICAgICAgfVxuXG5cdCAgICAgICAgICBjaHVua0Jsb2NrID0gY2h1bmsgaW5zdGFuY2VvZiBDaHVua3NUYWlsRGV0YWlscyAmJiBtYXNrZWQuX2Jsb2Nrc1tzdG9wXTtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICBpZiAoY2h1bmtCbG9jaykge1xuXHQgICAgICAgICAgdmFyIHRhaWxEZXRhaWxzID0gY2h1bmtCbG9jay5hcHBlbmRUYWlsKGNodW5rKTtcblx0ICAgICAgICAgIHRhaWxEZXRhaWxzLnNraXAgPSBmYWxzZTsgLy8gYWx3YXlzIGlnbm9yZSBza2lwLCBpdCB3aWxsIGJlIHNldCBvbiBsYXN0XG5cblx0ICAgICAgICAgIGRldGFpbHMuYWdncmVnYXRlKHRhaWxEZXRhaWxzKTtcblx0ICAgICAgICAgIG1hc2tlZC5fdmFsdWUgKz0gdGFpbERldGFpbHMuaW5zZXJ0ZWQ7IC8vIGdldCBub3QgaW5zZXJ0ZWQgY2hhcnNcblxuXHQgICAgICAgICAgdmFyIHJlbWFpbkNoYXJzID0gY2h1bmsudG9TdHJpbmcoKS5zbGljZSh0YWlsRGV0YWlscy5yYXdJbnNlcnRlZC5sZW5ndGgpO1xuXHQgICAgICAgICAgaWYgKHJlbWFpbkNoYXJzKSBkZXRhaWxzLmFnZ3JlZ2F0ZShtYXNrZWQuYXBwZW5kKHJlbWFpbkNoYXJzLCB7XG5cdCAgICAgICAgICAgIHRhaWw6IHRydWVcblx0ICAgICAgICAgIH0pKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgZGV0YWlscy5hZ2dyZWdhdGUobWFza2VkLmFwcGVuZChjaHVuay50b1N0cmluZygpLCB7XG5cdCAgICAgICAgICAgIHRhaWw6IHRydWVcblx0ICAgICAgICAgIH0pKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIGRldGFpbHM7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiBcInNoaWZ0QmVmb3JlXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2hpZnRCZWZvcmUocG9zKSB7XG5cdCAgICAgIGlmICh0aGlzLmZyb20gPj0gcG9zIHx8ICF0aGlzLmNodW5rcy5sZW5ndGgpIHJldHVybiAnJztcblx0ICAgICAgdmFyIGNodW5rU2hpZnRQb3MgPSBwb3MgLSB0aGlzLmZyb207XG5cdCAgICAgIHZhciBjaSA9IDA7XG5cblx0ICAgICAgd2hpbGUgKGNpIDwgdGhpcy5jaHVua3MubGVuZ3RoKSB7XG5cdCAgICAgICAgdmFyIGNodW5rID0gdGhpcy5jaHVua3NbY2ldO1xuXHQgICAgICAgIHZhciBzaGlmdENoYXIgPSBjaHVuay5zaGlmdEJlZm9yZShjaHVua1NoaWZ0UG9zKTtcblxuXHQgICAgICAgIGlmIChjaHVuay50b1N0cmluZygpKSB7XG5cdCAgICAgICAgICAvLyBjaHVuayBzdGlsbCBjb250YWlucyB2YWx1ZVxuXHQgICAgICAgICAgLy8gYnV0IG5vdCBzaGlmdGVkIC0gbWVhbnMgbm8gbW9yZSBhdmFpbGFibGUgY2hhcnMgdG8gc2hpZnRcblx0ICAgICAgICAgIGlmICghc2hpZnRDaGFyKSBicmVhaztcblx0ICAgICAgICAgICsrY2k7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIC8vIGNsZWFuIGlmIGNodW5rIGhhcyBubyB2YWx1ZVxuXHQgICAgICAgICAgdGhpcy5jaHVua3Muc3BsaWNlKGNpLCAxKTtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICBpZiAoc2hpZnRDaGFyKSByZXR1cm4gc2hpZnRDaGFyO1xuXHQgICAgICB9XG5cblx0ICAgICAgcmV0dXJuICcnO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJzdGF0ZVwiLFxuXHQgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdCAgICAgIHJldHVybiB7XG5cdCAgICAgICAgY2h1bmtzOiB0aGlzLmNodW5rcy5tYXAoZnVuY3Rpb24gKGMpIHtcblx0ICAgICAgICAgIHJldHVybiBjLnN0YXRlO1xuXHQgICAgICAgIH0pLFxuXHQgICAgICAgIGZyb206IHRoaXMuZnJvbSxcblx0ICAgICAgICBzdG9wOiB0aGlzLnN0b3AsXG5cdCAgICAgICAgYmxvY2tJbmRleDogdGhpcy5ibG9ja0luZGV4XG5cdCAgICAgIH07XG5cdCAgICB9LFxuXHQgICAgc2V0OiBmdW5jdGlvbiBzZXQoc3RhdGUpIHtcblx0ICAgICAgdmFyIGNodW5rcyA9IHN0YXRlLmNodW5rcyxcblx0ICAgICAgICAgIHByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHN0YXRlLCBbXCJjaHVua3NcIl0pO1xuXG5cdCAgICAgIE9iamVjdC5hc3NpZ24odGhpcywgcHJvcHMpO1xuXHQgICAgICB0aGlzLmNodW5rcyA9IGNodW5rcy5tYXAoZnVuY3Rpb24gKGNzdGF0ZSkge1xuXHQgICAgICAgIHZhciBjaHVuayA9IFwiY2h1bmtzXCIgaW4gY3N0YXRlID8gbmV3IENodW5rc1RhaWxEZXRhaWxzKCkgOiBuZXcgQ29udGludW91c1RhaWxEZXRhaWxzKCk7IC8vICRGbG93Rml4TWUgYWxyZWFkeSBjaGVja2VkIGFib3ZlXG5cblx0ICAgICAgICBjaHVuay5zdGF0ZSA9IGNzdGF0ZTtcblx0ICAgICAgICByZXR1cm4gY2h1bms7XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH1dKTtcblxuXHQgIHJldHVybiBDaHVua3NUYWlsRGV0YWlscztcblx0fSgpO1xuXG5cdC8qKiBNYXNraW5nIGJ5IFJlZ0V4cCAqL1xuXG5cdHZhciBNYXNrZWRSZWdFeHAgPVxuXHQvKiNfX1BVUkVfXyovXG5cdGZ1bmN0aW9uIChfTWFza2VkKSB7XG5cdCAgX2luaGVyaXRzKE1hc2tlZFJlZ0V4cCwgX01hc2tlZCk7XG5cblx0ICBmdW5jdGlvbiBNYXNrZWRSZWdFeHAoKSB7XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWFza2VkUmVnRXhwKTtcblxuXHQgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihNYXNrZWRSZWdFeHApLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXHQgIH1cblxuXHQgIF9jcmVhdGVDbGFzcyhNYXNrZWRSZWdFeHAsIFt7XG5cdCAgICBrZXk6IFwiX3VwZGF0ZVwiLFxuXG5cdCAgICAvKipcclxuXHQgICAgICBAb3ZlcnJpZGVcclxuXHQgICAgICBAcGFyYW0ge09iamVjdH0gb3B0c1xyXG5cdCAgICAqL1xuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF91cGRhdGUob3B0cykge1xuXHQgICAgICBpZiAob3B0cy5tYXNrKSBvcHRzLnZhbGlkYXRlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG5cdCAgICAgICAgcmV0dXJuIHZhbHVlLnNlYXJjaChvcHRzLm1hc2spID49IDA7XG5cdCAgICAgIH07XG5cblx0ICAgICAgX2dldChfZ2V0UHJvdG90eXBlT2YoTWFza2VkUmVnRXhwLnByb3RvdHlwZSksIFwiX3VwZGF0ZVwiLCB0aGlzKS5jYWxsKHRoaXMsIG9wdHMpO1xuXHQgICAgfVxuXHQgIH1dKTtcblxuXHQgIHJldHVybiBNYXNrZWRSZWdFeHA7XG5cdH0oTWFza2VkKTtcblx0SU1hc2suTWFza2VkUmVnRXhwID0gTWFza2VkUmVnRXhwO1xuXG5cdC8qKlxyXG5cdCAgUGF0dGVybiBtYXNrXHJcblx0ICBAcGFyYW0ge09iamVjdH0gb3B0c1xyXG5cdCAgQHBhcmFtIHtPYmplY3R9IG9wdHMuYmxvY2tzXHJcblx0ICBAcGFyYW0ge09iamVjdH0gb3B0cy5kZWZpbml0aW9uc1xyXG5cdCAgQHBhcmFtIHtzdHJpbmd9IG9wdHMucGxhY2Vob2xkZXJDaGFyXHJcblx0ICBAcGFyYW0ge2Jvb2xlYW59IG9wdHMubGF6eVxyXG5cdCovXG5cdHZhciBNYXNrZWRQYXR0ZXJuID1cblx0LyojX19QVVJFX18qL1xuXHRmdW5jdGlvbiAoX01hc2tlZCkge1xuXHQgIF9pbmhlcml0cyhNYXNrZWRQYXR0ZXJuLCBfTWFza2VkKTtcblxuXHQgIC8qKiAqL1xuXG5cdCAgLyoqICovXG5cblx0ICAvKiogU2luZ2xlIGNoYXIgZm9yIGVtcHR5IGlucHV0ICovXG5cblx0ICAvKiogU2hvdyBwbGFjZWhvbGRlciBvbmx5IHdoZW4gbmVlZGVkICovXG5cdCAgZnVuY3Rpb24gTWFza2VkUGF0dGVybigpIHtcblx0ICAgIHZhciBvcHRzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcblxuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1hc2tlZFBhdHRlcm4pO1xuXG5cdCAgICAvLyBUT0RPIHR5cGUgJFNoYXBlPE1hc2tlZFBhdHRlcm5PcHRpb25zPj17fSBkb2VzIG5vdCB3b3JrXG5cdCAgICBvcHRzLmRlZmluaXRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9JTlBVVF9ERUZJTklUSU9OUywgb3B0cy5kZWZpbml0aW9ucyk7XG5cdCAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKE1hc2tlZFBhdHRlcm4pLmNhbGwodGhpcywgT2JqZWN0LmFzc2lnbih7fSwgTWFza2VkUGF0dGVybi5ERUZBVUxUUywge30sIG9wdHMpKSk7XG5cdCAgfVxuXHQgIC8qKlxyXG5cdCAgICBAb3ZlcnJpZGVcclxuXHQgICAgQHBhcmFtIHtPYmplY3R9IG9wdHNcclxuXHQgICovXG5cblxuXHQgIF9jcmVhdGVDbGFzcyhNYXNrZWRQYXR0ZXJuLCBbe1xuXHQgICAga2V5OiBcIl91cGRhdGVcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfdXBkYXRlKCkge1xuXHQgICAgICB2YXIgb3B0cyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG5cdCAgICAgIG9wdHMuZGVmaW5pdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmRlZmluaXRpb25zLCBvcHRzLmRlZmluaXRpb25zKTtcblxuXHQgICAgICBfZ2V0KF9nZXRQcm90b3R5cGVPZihNYXNrZWRQYXR0ZXJuLnByb3RvdHlwZSksIFwiX3VwZGF0ZVwiLCB0aGlzKS5jYWxsKHRoaXMsIG9wdHMpO1xuXG5cdCAgICAgIHRoaXMuX3JlYnVpbGRNYXNrKCk7XG5cdCAgICB9XG5cdCAgICAvKiogKi9cblxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJfcmVidWlsZE1hc2tcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVidWlsZE1hc2soKSB7XG5cdCAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cblx0ICAgICAgdmFyIGRlZnMgPSB0aGlzLmRlZmluaXRpb25zO1xuXHQgICAgICB0aGlzLl9ibG9ja3MgPSBbXTtcblx0ICAgICAgdGhpcy5fc3RvcHMgPSBbXTtcblx0ICAgICAgdGhpcy5fbWFza2VkQmxvY2tzID0ge307XG5cdCAgICAgIHZhciBwYXR0ZXJuID0gdGhpcy5tYXNrO1xuXHQgICAgICBpZiAoIXBhdHRlcm4gfHwgIWRlZnMpIHJldHVybjtcblx0ICAgICAgdmFyIHVubWFza2luZ0Jsb2NrID0gZmFsc2U7XG5cdCAgICAgIHZhciBvcHRpb25hbEJsb2NrID0gZmFsc2U7XG5cblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXR0ZXJuLmxlbmd0aDsgKytpKSB7XG5cdCAgICAgICAgaWYgKHRoaXMuYmxvY2tzKSB7XG5cdCAgICAgICAgICB2YXIgX3JldCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgdmFyIHAgPSBwYXR0ZXJuLnNsaWNlKGkpO1xuXHQgICAgICAgICAgICB2YXIgYk5hbWVzID0gT2JqZWN0LmtleXMoX3RoaXMuYmxvY2tzKS5maWx0ZXIoZnVuY3Rpb24gKGJOYW1lKSB7XG5cdCAgICAgICAgICAgICAgcmV0dXJuIHAuaW5kZXhPZihiTmFtZSkgPT09IDA7XG5cdCAgICAgICAgICAgIH0pOyAvLyBvcmRlciBieSBrZXkgbGVuZ3RoXG5cblx0ICAgICAgICAgICAgYk5hbWVzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcblx0ICAgICAgICAgICAgICByZXR1cm4gYi5sZW5ndGggLSBhLmxlbmd0aDtcblx0ICAgICAgICAgICAgfSk7IC8vIHVzZSBibG9jayBuYW1lIHdpdGggbWF4IGxlbmd0aFxuXG5cdCAgICAgICAgICAgIHZhciBiTmFtZSA9IGJOYW1lc1swXTtcblxuXHQgICAgICAgICAgICBpZiAoYk5hbWUpIHtcblx0ICAgICAgICAgICAgICB2YXIgbWFza2VkQmxvY2sgPSBjcmVhdGVNYXNrKE9iamVjdC5hc3NpZ24oe1xuXHQgICAgICAgICAgICAgICAgcGFyZW50OiBfdGhpcyxcblx0ICAgICAgICAgICAgICAgIGxhenk6IF90aGlzLmxhenksXG5cdCAgICAgICAgICAgICAgICBwbGFjZWhvbGRlckNoYXI6IF90aGlzLnBsYWNlaG9sZGVyQ2hhcixcblx0ICAgICAgICAgICAgICAgIG92ZXJ3cml0ZTogX3RoaXMub3ZlcndyaXRlXG5cdCAgICAgICAgICAgICAgfSwgX3RoaXMuYmxvY2tzW2JOYW1lXSkpO1xuXG5cdCAgICAgICAgICAgICAgaWYgKG1hc2tlZEJsb2NrKSB7XG5cdCAgICAgICAgICAgICAgICBfdGhpcy5fYmxvY2tzLnB1c2gobWFza2VkQmxvY2spOyAvLyBzdG9yZSBibG9jayBpbmRleFxuXG5cblx0ICAgICAgICAgICAgICAgIGlmICghX3RoaXMuX21hc2tlZEJsb2Nrc1tiTmFtZV0pIF90aGlzLl9tYXNrZWRCbG9ja3NbYk5hbWVdID0gW107XG5cblx0ICAgICAgICAgICAgICAgIF90aGlzLl9tYXNrZWRCbG9ja3NbYk5hbWVdLnB1c2goX3RoaXMuX2Jsb2Nrcy5sZW5ndGggLSAxKTtcblx0ICAgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgICBpICs9IGJOYW1lLmxlbmd0aCAtIDE7XG5cdCAgICAgICAgICAgICAgcmV0dXJuIFwiY29udGludWVcIjtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfSgpO1xuXG5cdCAgICAgICAgICBpZiAoX3JldCA9PT0gXCJjb250aW51ZVwiKSBjb250aW51ZTtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICB2YXIgY2hhciA9IHBhdHRlcm5baV07XG5cblx0ICAgICAgICB2YXIgX2lzSW5wdXQgPSBjaGFyIGluIGRlZnM7XG5cblx0ICAgICAgICBpZiAoY2hhciA9PT0gTWFza2VkUGF0dGVybi5TVE9QX0NIQVIpIHtcblx0ICAgICAgICAgIHRoaXMuX3N0b3BzLnB1c2godGhpcy5fYmxvY2tzLmxlbmd0aCk7XG5cblx0ICAgICAgICAgIGNvbnRpbnVlO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIGlmIChjaGFyID09PSAneycgfHwgY2hhciA9PT0gJ30nKSB7XG5cdCAgICAgICAgICB1bm1hc2tpbmdCbG9jayA9ICF1bm1hc2tpbmdCbG9jaztcblx0ICAgICAgICAgIGNvbnRpbnVlO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIGlmIChjaGFyID09PSAnWycgfHwgY2hhciA9PT0gJ10nKSB7XG5cdCAgICAgICAgICBvcHRpb25hbEJsb2NrID0gIW9wdGlvbmFsQmxvY2s7XG5cdCAgICAgICAgICBjb250aW51ZTtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICBpZiAoY2hhciA9PT0gTWFza2VkUGF0dGVybi5FU0NBUEVfQ0hBUikge1xuXHQgICAgICAgICAgKytpO1xuXHQgICAgICAgICAgY2hhciA9IHBhdHRlcm5baV07XG5cdCAgICAgICAgICBpZiAoIWNoYXIpIGJyZWFrO1xuXHQgICAgICAgICAgX2lzSW5wdXQgPSBmYWxzZTtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICB2YXIgZGVmID0gX2lzSW5wdXQgPyBuZXcgUGF0dGVybklucHV0RGVmaW5pdGlvbih7XG5cdCAgICAgICAgICBwYXJlbnQ6IHRoaXMsXG5cdCAgICAgICAgICBsYXp5OiB0aGlzLmxhenksXG5cdCAgICAgICAgICBwbGFjZWhvbGRlckNoYXI6IHRoaXMucGxhY2Vob2xkZXJDaGFyLFxuXHQgICAgICAgICAgbWFzazogZGVmc1tjaGFyXSxcblx0ICAgICAgICAgIGlzT3B0aW9uYWw6IG9wdGlvbmFsQmxvY2tcblx0ICAgICAgICB9KSA6IG5ldyBQYXR0ZXJuRml4ZWREZWZpbml0aW9uKHtcblx0ICAgICAgICAgIGNoYXI6IGNoYXIsXG5cdCAgICAgICAgICBpc1VubWFza2luZzogdW5tYXNraW5nQmxvY2tcblx0ICAgICAgICB9KTtcblxuXHQgICAgICAgIHRoaXMuX2Jsb2Nrcy5wdXNoKGRlZik7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIC8qKlxyXG5cdCAgICAgIEBvdmVycmlkZVxyXG5cdCAgICAqL1xuXG5cdCAgfSwge1xuXHQgICAga2V5OiBcInJlc2V0XCIsXG5cblx0ICAgIC8qKlxyXG5cdCAgICAgIEBvdmVycmlkZVxyXG5cdCAgICAqL1xuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlc2V0KCkge1xuXHQgICAgICBfZ2V0KF9nZXRQcm90b3R5cGVPZihNYXNrZWRQYXR0ZXJuLnByb3RvdHlwZSksIFwicmVzZXRcIiwgdGhpcykuY2FsbCh0aGlzKTtcblxuXHQgICAgICB0aGlzLl9ibG9ja3MuZm9yRWFjaChmdW5jdGlvbiAoYikge1xuXHQgICAgICAgIHJldHVybiBiLnJlc2V0KCk7XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgICAgLyoqXHJcblx0ICAgICAgQG92ZXJyaWRlXHJcblx0ICAgICovXG5cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiZG9Db21taXRcIixcblxuXHQgICAgLyoqXHJcblx0ICAgICAgQG92ZXJyaWRlXHJcblx0ICAgICovXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZG9Db21taXQoKSB7XG5cdCAgICAgIHRoaXMuX2Jsb2Nrcy5mb3JFYWNoKGZ1bmN0aW9uIChiKSB7XG5cdCAgICAgICAgcmV0dXJuIGIuZG9Db21taXQoKTtcblx0ICAgICAgfSk7XG5cblx0ICAgICAgX2dldChfZ2V0UHJvdG90eXBlT2YoTWFza2VkUGF0dGVybi5wcm90b3R5cGUpLCBcImRvQ29tbWl0XCIsIHRoaXMpLmNhbGwodGhpcyk7XG5cdCAgICB9XG5cdCAgICAvKipcclxuXHQgICAgICBAb3ZlcnJpZGVcclxuXHQgICAgKi9cblxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJhcHBlbmRUYWlsXCIsXG5cblx0ICAgIC8qKlxyXG5cdCAgICAgIEBvdmVycmlkZVxyXG5cdCAgICAqL1xuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGFwcGVuZFRhaWwodGFpbCkge1xuXHQgICAgICByZXR1cm4gX2dldChfZ2V0UHJvdG90eXBlT2YoTWFza2VkUGF0dGVybi5wcm90b3R5cGUpLCBcImFwcGVuZFRhaWxcIiwgdGhpcykuY2FsbCh0aGlzLCB0YWlsKS5hZ2dyZWdhdGUodGhpcy5fYXBwZW5kUGxhY2Vob2xkZXIoKSk7XG5cdCAgICB9XG5cdCAgICAvKipcclxuXHQgICAgICBAb3ZlcnJpZGVcclxuXHQgICAgKi9cblxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJfYXBwZW5kQ2hhclJhd1wiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9hcHBlbmRDaGFyUmF3KGNoKSB7XG5cdCAgICAgIHZhciBmbGFncyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG5cdCAgICAgIGNoID0gdGhpcy5kb1ByZXBhcmUoY2gsIGZsYWdzKTtcblxuXHQgICAgICB2YXIgYmxvY2tJdGVyID0gdGhpcy5fbWFwUG9zVG9CbG9jayh0aGlzLnZhbHVlLmxlbmd0aCk7XG5cblx0ICAgICAgdmFyIGRldGFpbHMgPSBuZXcgQ2hhbmdlRGV0YWlscygpO1xuXHQgICAgICBpZiAoIWJsb2NrSXRlcikgcmV0dXJuIGRldGFpbHM7XG5cblx0ICAgICAgZm9yICh2YXIgYmkgPSBibG9ja0l0ZXIuaW5kZXg7OyArK2JpKSB7XG5cdCAgICAgICAgdmFyIF9ibG9jayA9IHRoaXMuX2Jsb2Nrc1tiaV07XG5cdCAgICAgICAgaWYgKCFfYmxvY2spIGJyZWFrO1xuXG5cdCAgICAgICAgdmFyIGJsb2NrRGV0YWlscyA9IF9ibG9jay5fYXBwZW5kQ2hhcihjaCwgZmxhZ3MpO1xuXG5cdCAgICAgICAgdmFyIHNraXAgPSBibG9ja0RldGFpbHMuc2tpcDtcblx0ICAgICAgICBkZXRhaWxzLmFnZ3JlZ2F0ZShibG9ja0RldGFpbHMpO1xuXHQgICAgICAgIGlmIChza2lwIHx8IGJsb2NrRGV0YWlscy5yYXdJbnNlcnRlZCkgYnJlYWs7IC8vIGdvIG5leHQgY2hhclxuXHQgICAgICB9XG5cblx0ICAgICAgcmV0dXJuIGRldGFpbHM7XG5cdCAgICB9XG5cdCAgICAvKipcclxuXHQgICAgICBAb3ZlcnJpZGVcclxuXHQgICAgKi9cblxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJleHRyYWN0VGFpbFwiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGV4dHJhY3RUYWlsKCkge1xuXHQgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuXHQgICAgICB2YXIgZnJvbVBvcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMDtcblx0ICAgICAgdmFyIHRvUG9zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB0aGlzLnZhbHVlLmxlbmd0aDtcblx0ICAgICAgdmFyIGNodW5rVGFpbCA9IG5ldyBDaHVua3NUYWlsRGV0YWlscygpO1xuXHQgICAgICBpZiAoZnJvbVBvcyA9PT0gdG9Qb3MpIHJldHVybiBjaHVua1RhaWw7XG5cblx0ICAgICAgdGhpcy5fZm9yRWFjaEJsb2Nrc0luUmFuZ2UoZnJvbVBvcywgdG9Qb3MsIGZ1bmN0aW9uIChiLCBiaSwgYkZyb21Qb3MsIGJUb1Bvcykge1xuXHQgICAgICAgIHZhciBibG9ja0NodW5rID0gYi5leHRyYWN0VGFpbChiRnJvbVBvcywgYlRvUG9zKTtcblx0ICAgICAgICBibG9ja0NodW5rLnN0b3AgPSBfdGhpczIuX2ZpbmRTdG9wQmVmb3JlKGJpKTtcblx0ICAgICAgICBibG9ja0NodW5rLmZyb20gPSBfdGhpczIuX2Jsb2NrU3RhcnRQb3MoYmkpO1xuXHQgICAgICAgIGlmIChibG9ja0NodW5rIGluc3RhbmNlb2YgQ2h1bmtzVGFpbERldGFpbHMpIGJsb2NrQ2h1bmsuYmxvY2tJbmRleCA9IGJpO1xuXHQgICAgICAgIGNodW5rVGFpbC5leHRlbmQoYmxvY2tDaHVuayk7XG5cdCAgICAgIH0pO1xuXG5cdCAgICAgIHJldHVybiBjaHVua1RhaWw7XG5cdCAgICB9XG5cdCAgICAvKipcclxuXHQgICAgICBAb3ZlcnJpZGVcclxuXHQgICAgKi9cblxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJleHRyYWN0SW5wdXRcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBleHRyYWN0SW5wdXQoKSB7XG5cdCAgICAgIHZhciBmcm9tUG9zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuXHQgICAgICB2YXIgdG9Qb3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHRoaXMudmFsdWUubGVuZ3RoO1xuXHQgICAgICB2YXIgZmxhZ3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuXHQgICAgICBpZiAoZnJvbVBvcyA9PT0gdG9Qb3MpIHJldHVybiAnJztcblx0ICAgICAgdmFyIGlucHV0ID0gJyc7XG5cblx0ICAgICAgdGhpcy5fZm9yRWFjaEJsb2Nrc0luUmFuZ2UoZnJvbVBvcywgdG9Qb3MsIGZ1bmN0aW9uIChiLCBfLCBmcm9tUG9zLCB0b1Bvcykge1xuXHQgICAgICAgIGlucHV0ICs9IGIuZXh0cmFjdElucHV0KGZyb21Qb3MsIHRvUG9zLCBmbGFncyk7XG5cdCAgICAgIH0pO1xuXG5cdCAgICAgIHJldHVybiBpbnB1dDtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiX2ZpbmRTdG9wQmVmb3JlXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2ZpbmRTdG9wQmVmb3JlKGJsb2NrSW5kZXgpIHtcblx0ICAgICAgdmFyIHN0b3BCZWZvcmU7XG5cblx0ICAgICAgZm9yICh2YXIgc2kgPSAwOyBzaSA8IHRoaXMuX3N0b3BzLmxlbmd0aDsgKytzaSkge1xuXHQgICAgICAgIHZhciBzdG9wID0gdGhpcy5fc3RvcHNbc2ldO1xuXHQgICAgICAgIGlmIChzdG9wIDw9IGJsb2NrSW5kZXgpIHN0b3BCZWZvcmUgPSBzdG9wO2Vsc2UgYnJlYWs7XG5cdCAgICAgIH1cblxuXHQgICAgICByZXR1cm4gc3RvcEJlZm9yZTtcblx0ICAgIH1cblx0ICAgIC8qKiBBcHBlbmRzIHBsYWNlaG9sZGVyIGRlcGVuZGluZyBvbiBsYXppbmVzcyAqL1xuXG5cdCAgfSwge1xuXHQgICAga2V5OiBcIl9hcHBlbmRQbGFjZWhvbGRlclwiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9hcHBlbmRQbGFjZWhvbGRlcih0b0Jsb2NrSW5kZXgpIHtcblx0ICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cblx0ICAgICAgdmFyIGRldGFpbHMgPSBuZXcgQ2hhbmdlRGV0YWlscygpO1xuXHQgICAgICBpZiAodGhpcy5sYXp5ICYmIHRvQmxvY2tJbmRleCA9PSBudWxsKSByZXR1cm4gZGV0YWlscztcblxuXHQgICAgICB2YXIgc3RhcnRCbG9ja0l0ZXIgPSB0aGlzLl9tYXBQb3NUb0Jsb2NrKHRoaXMudmFsdWUubGVuZ3RoKTtcblxuXHQgICAgICBpZiAoIXN0YXJ0QmxvY2tJdGVyKSByZXR1cm4gZGV0YWlscztcblx0ICAgICAgdmFyIHN0YXJ0QmxvY2tJbmRleCA9IHN0YXJ0QmxvY2tJdGVyLmluZGV4O1xuXHQgICAgICB2YXIgZW5kQmxvY2tJbmRleCA9IHRvQmxvY2tJbmRleCAhPSBudWxsID8gdG9CbG9ja0luZGV4IDogdGhpcy5fYmxvY2tzLmxlbmd0aDtcblxuXHQgICAgICB0aGlzLl9ibG9ja3Muc2xpY2Uoc3RhcnRCbG9ja0luZGV4LCBlbmRCbG9ja0luZGV4KS5mb3JFYWNoKGZ1bmN0aW9uIChiKSB7XG5cdCAgICAgICAgaWYgKCFiLmxhenkgfHwgdG9CbG9ja0luZGV4ICE9IG51bGwpIHtcblx0ICAgICAgICAgIC8vICRGbG93Rml4TWUgYF9ibG9ja3NgIG1heSBub3QgYmUgcHJlc2VudFxuXHQgICAgICAgICAgdmFyIGFyZ3MgPSBiLl9ibG9ja3MgIT0gbnVsbCA/IFtiLl9ibG9ja3MubGVuZ3RoXSA6IFtdO1xuXG5cdCAgICAgICAgICB2YXIgYkRldGFpbHMgPSBiLl9hcHBlbmRQbGFjZWhvbGRlci5hcHBseShiLCBhcmdzKTtcblxuXHQgICAgICAgICAgX3RoaXMzLl92YWx1ZSArPSBiRGV0YWlscy5pbnNlcnRlZDtcblx0ICAgICAgICAgIGRldGFpbHMuYWdncmVnYXRlKGJEZXRhaWxzKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXG5cdCAgICAgIHJldHVybiBkZXRhaWxzO1xuXHQgICAgfVxuXHQgICAgLyoqIEZpbmRzIGJsb2NrIGluIHBvcyAqL1xuXG5cdCAgfSwge1xuXHQgICAga2V5OiBcIl9tYXBQb3NUb0Jsb2NrXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX21hcFBvc1RvQmxvY2socG9zKSB7XG5cdCAgICAgIHZhciBhY2NWYWwgPSAnJztcblxuXHQgICAgICBmb3IgKHZhciBiaSA9IDA7IGJpIDwgdGhpcy5fYmxvY2tzLmxlbmd0aDsgKytiaSkge1xuXHQgICAgICAgIHZhciBfYmxvY2syID0gdGhpcy5fYmxvY2tzW2JpXTtcblx0ICAgICAgICB2YXIgYmxvY2tTdGFydFBvcyA9IGFjY1ZhbC5sZW5ndGg7XG5cdCAgICAgICAgYWNjVmFsICs9IF9ibG9jazIudmFsdWU7XG5cblx0ICAgICAgICBpZiAocG9zIDw9IGFjY1ZhbC5sZW5ndGgpIHtcblx0ICAgICAgICAgIHJldHVybiB7XG5cdCAgICAgICAgICAgIGluZGV4OiBiaSxcblx0ICAgICAgICAgICAgb2Zmc2V0OiBwb3MgLSBibG9ja1N0YXJ0UG9zXG5cdCAgICAgICAgICB9O1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgLyoqICovXG5cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiX2Jsb2NrU3RhcnRQb3NcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfYmxvY2tTdGFydFBvcyhibG9ja0luZGV4KSB7XG5cdCAgICAgIHJldHVybiB0aGlzLl9ibG9ja3Muc2xpY2UoMCwgYmxvY2tJbmRleCkucmVkdWNlKGZ1bmN0aW9uIChwb3MsIGIpIHtcblx0ICAgICAgICByZXR1cm4gcG9zICs9IGIudmFsdWUubGVuZ3RoO1xuXHQgICAgICB9LCAwKTtcblx0ICAgIH1cblx0ICAgIC8qKiAqL1xuXG5cdCAgfSwge1xuXHQgICAga2V5OiBcIl9mb3JFYWNoQmxvY2tzSW5SYW5nZVwiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9mb3JFYWNoQmxvY2tzSW5SYW5nZShmcm9tUG9zKSB7XG5cdCAgICAgIHZhciB0b1BvcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdGhpcy52YWx1ZS5sZW5ndGg7XG5cdCAgICAgIHZhciBmbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAyID8gYXJndW1lbnRzWzJdIDogdW5kZWZpbmVkO1xuXG5cdCAgICAgIHZhciBmcm9tQmxvY2tJdGVyID0gdGhpcy5fbWFwUG9zVG9CbG9jayhmcm9tUG9zKTtcblxuXHQgICAgICBpZiAoZnJvbUJsb2NrSXRlcikge1xuXHQgICAgICAgIHZhciB0b0Jsb2NrSXRlciA9IHRoaXMuX21hcFBvc1RvQmxvY2sodG9Qb3MpOyAvLyBwcm9jZXNzIGZpcnN0IGJsb2NrXG5cblxuXHQgICAgICAgIHZhciBpc1NhbWVCbG9jayA9IHRvQmxvY2tJdGVyICYmIGZyb21CbG9ja0l0ZXIuaW5kZXggPT09IHRvQmxvY2tJdGVyLmluZGV4O1xuXHQgICAgICAgIHZhciBmcm9tQmxvY2tTdGFydFBvcyA9IGZyb21CbG9ja0l0ZXIub2Zmc2V0O1xuXHQgICAgICAgIHZhciBmcm9tQmxvY2tFbmRQb3MgPSB0b0Jsb2NrSXRlciAmJiBpc1NhbWVCbG9jayA/IHRvQmxvY2tJdGVyLm9mZnNldCA6IHRoaXMuX2Jsb2Nrc1tmcm9tQmxvY2tJdGVyLmluZGV4XS52YWx1ZS5sZW5ndGg7XG5cdCAgICAgICAgZm4odGhpcy5fYmxvY2tzW2Zyb21CbG9ja0l0ZXIuaW5kZXhdLCBmcm9tQmxvY2tJdGVyLmluZGV4LCBmcm9tQmxvY2tTdGFydFBvcywgZnJvbUJsb2NrRW5kUG9zKTtcblxuXHQgICAgICAgIGlmICh0b0Jsb2NrSXRlciAmJiAhaXNTYW1lQmxvY2spIHtcblx0ICAgICAgICAgIC8vIHByb2Nlc3MgaW50ZXJtZWRpYXRlIGJsb2Nrc1xuXHQgICAgICAgICAgZm9yICh2YXIgYmkgPSBmcm9tQmxvY2tJdGVyLmluZGV4ICsgMTsgYmkgPCB0b0Jsb2NrSXRlci5pbmRleDsgKytiaSkge1xuXHQgICAgICAgICAgICBmbih0aGlzLl9ibG9ja3NbYmldLCBiaSwgMCwgdGhpcy5fYmxvY2tzW2JpXS52YWx1ZS5sZW5ndGgpO1xuXHQgICAgICAgICAgfSAvLyBwcm9jZXNzIGxhc3QgYmxvY2tcblxuXG5cdCAgICAgICAgICBmbih0aGlzLl9ibG9ja3NbdG9CbG9ja0l0ZXIuaW5kZXhdLCB0b0Jsb2NrSXRlci5pbmRleCwgMCwgdG9CbG9ja0l0ZXIub2Zmc2V0KTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIC8qKlxyXG5cdCAgICAgIEBvdmVycmlkZVxyXG5cdCAgICAqL1xuXG5cdCAgfSwge1xuXHQgICAga2V5OiBcInJlbW92ZVwiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcblx0ICAgICAgdmFyIGZyb21Qb3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7XG5cdCAgICAgIHZhciB0b1BvcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdGhpcy52YWx1ZS5sZW5ndGg7XG5cblx0ICAgICAgdmFyIHJlbW92ZURldGFpbHMgPSBfZ2V0KF9nZXRQcm90b3R5cGVPZihNYXNrZWRQYXR0ZXJuLnByb3RvdHlwZSksIFwicmVtb3ZlXCIsIHRoaXMpLmNhbGwodGhpcywgZnJvbVBvcywgdG9Qb3MpO1xuXG5cdCAgICAgIHRoaXMuX2ZvckVhY2hCbG9ja3NJblJhbmdlKGZyb21Qb3MsIHRvUG9zLCBmdW5jdGlvbiAoYiwgXywgYkZyb21Qb3MsIGJUb1Bvcykge1xuXHQgICAgICAgIHJlbW92ZURldGFpbHMuYWdncmVnYXRlKGIucmVtb3ZlKGJGcm9tUG9zLCBiVG9Qb3MpKTtcblx0ICAgICAgfSk7XG5cblx0ICAgICAgcmV0dXJuIHJlbW92ZURldGFpbHM7XG5cdCAgICB9XG5cdCAgICAvKipcclxuXHQgICAgICBAb3ZlcnJpZGVcclxuXHQgICAgKi9cblxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJuZWFyZXN0SW5wdXRQb3NcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBuZWFyZXN0SW5wdXRQb3MoY3Vyc29yUG9zKSB7XG5cdCAgICAgIHZhciBkaXJlY3Rpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IERJUkVDVElPTi5OT05FO1xuXHQgICAgICAvLyBUT0RPIHJlZmFjdG9yIC0gZXh0cmFjdCBhbGlnbmJsb2NrXG5cdCAgICAgIHZhciBiZWdpbkJsb2NrRGF0YSA9IHRoaXMuX21hcFBvc1RvQmxvY2soY3Vyc29yUG9zKSB8fCB7XG5cdCAgICAgICAgaW5kZXg6IDAsXG5cdCAgICAgICAgb2Zmc2V0OiAwXG5cdCAgICAgIH07XG5cdCAgICAgIHZhciBiZWdpbkJsb2NrT2Zmc2V0ID0gYmVnaW5CbG9ja0RhdGEub2Zmc2V0LFxuXHQgICAgICAgICAgYmVnaW5CbG9ja0luZGV4ID0gYmVnaW5CbG9ja0RhdGEuaW5kZXg7XG5cdCAgICAgIHZhciBiZWdpbkJsb2NrID0gdGhpcy5fYmxvY2tzW2JlZ2luQmxvY2tJbmRleF07XG5cdCAgICAgIGlmICghYmVnaW5CbG9jaykgcmV0dXJuIGN1cnNvclBvcztcblx0ICAgICAgdmFyIGJlZ2luQmxvY2tDdXJzb3JQb3MgPSBiZWdpbkJsb2NrT2Zmc2V0OyAvLyBpZiBwb3NpdGlvbiBpbnNpZGUgYmxvY2sgLSB0cnkgdG8gYWRqdXN0IGl0XG5cblx0ICAgICAgaWYgKGJlZ2luQmxvY2tDdXJzb3JQb3MgIT09IDAgJiYgYmVnaW5CbG9ja0N1cnNvclBvcyA8IGJlZ2luQmxvY2sudmFsdWUubGVuZ3RoKSB7XG5cdCAgICAgICAgYmVnaW5CbG9ja0N1cnNvclBvcyA9IGJlZ2luQmxvY2submVhcmVzdElucHV0UG9zKGJlZ2luQmxvY2tPZmZzZXQsIGZvcmNlRGlyZWN0aW9uKGRpcmVjdGlvbikpO1xuXHQgICAgICB9XG5cblx0ICAgICAgdmFyIGN1cnNvckF0UmlnaHQgPSBiZWdpbkJsb2NrQ3Vyc29yUG9zID09PSBiZWdpbkJsb2NrLnZhbHVlLmxlbmd0aDtcblx0ICAgICAgdmFyIGN1cnNvckF0TGVmdCA9IGJlZ2luQmxvY2tDdXJzb3JQb3MgPT09IDA7IC8vICBjdXJzb3IgaXMgSU5TSURFIGZpcnN0IGJsb2NrIChub3QgYXQgYm91bmRzKVxuXG5cdCAgICAgIGlmICghY3Vyc29yQXRMZWZ0ICYmICFjdXJzb3JBdFJpZ2h0KSByZXR1cm4gdGhpcy5fYmxvY2tTdGFydFBvcyhiZWdpbkJsb2NrSW5kZXgpICsgYmVnaW5CbG9ja0N1cnNvclBvcztcblx0ICAgICAgdmFyIHNlYXJjaEJsb2NrSW5kZXggPSBjdXJzb3JBdFJpZ2h0ID8gYmVnaW5CbG9ja0luZGV4ICsgMSA6IGJlZ2luQmxvY2tJbmRleDtcblxuXHQgICAgICBpZiAoZGlyZWN0aW9uID09PSBESVJFQ1RJT04uTk9ORSkge1xuXHQgICAgICAgIC8vIE5PTkUgZGlyZWN0aW9uIHVzZWQgdG8gY2FsY3VsYXRlIHN0YXJ0IGlucHV0IHBvc2l0aW9uIGlmIG5vIGNoYXJzIHdlcmUgcmVtb3ZlZFxuXHQgICAgICAgIC8vIEZPUiBOT05FOlxuXHQgICAgICAgIC8vIC1cblx0ICAgICAgICAvLyBpbnB1dHxhbnlcblx0ICAgICAgICAvLyAtPlxuXHQgICAgICAgIC8vICBhbnl8aW5wdXRcblx0ICAgICAgICAvLyA8LVxuXHQgICAgICAgIC8vICBmaWxsZWQtaW5wdXR8YW55XG5cdCAgICAgICAgLy8gY2hlY2sgaWYgZmlyc3QgYmxvY2sgYXQgbGVmdCBpcyBpbnB1dFxuXHQgICAgICAgIGlmIChzZWFyY2hCbG9ja0luZGV4ID4gMCkge1xuXHQgICAgICAgICAgdmFyIGJsb2NrSW5kZXhBdExlZnQgPSBzZWFyY2hCbG9ja0luZGV4IC0gMTtcblx0ICAgICAgICAgIHZhciBibG9ja0F0TGVmdCA9IHRoaXMuX2Jsb2Nrc1tibG9ja0luZGV4QXRMZWZ0XTtcblx0ICAgICAgICAgIHZhciBibG9ja0lucHV0UG9zID0gYmxvY2tBdExlZnQubmVhcmVzdElucHV0UG9zKDAsIERJUkVDVElPTi5OT05FKTsgLy8gaXMgaW5wdXRcblxuXHQgICAgICAgICAgaWYgKCFibG9ja0F0TGVmdC52YWx1ZS5sZW5ndGggfHwgYmxvY2tJbnB1dFBvcyAhPT0gYmxvY2tBdExlZnQudmFsdWUubGVuZ3RoKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLl9ibG9ja1N0YXJ0UG9zKHNlYXJjaEJsb2NrSW5kZXgpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0gLy8gLT5cblxuXG5cdCAgICAgICAgdmFyIGZpcnN0SW5wdXRBdFJpZ2h0ID0gc2VhcmNoQmxvY2tJbmRleDtcblxuXHQgICAgICAgIGZvciAodmFyIGJpID0gZmlyc3RJbnB1dEF0UmlnaHQ7IGJpIDwgdGhpcy5fYmxvY2tzLmxlbmd0aDsgKytiaSkge1xuXHQgICAgICAgICAgdmFyIGJsb2NrQXRSaWdodCA9IHRoaXMuX2Jsb2Nrc1tiaV07XG5cblx0ICAgICAgICAgIHZhciBfYmxvY2tJbnB1dFBvcyA9IGJsb2NrQXRSaWdodC5uZWFyZXN0SW5wdXRQb3MoMCwgRElSRUNUSU9OLk5PTkUpO1xuXG5cdCAgICAgICAgICBpZiAoIWJsb2NrQXRSaWdodC52YWx1ZS5sZW5ndGggfHwgX2Jsb2NrSW5wdXRQb3MgIT09IGJsb2NrQXRSaWdodC52YWx1ZS5sZW5ndGgpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Jsb2NrU3RhcnRQb3MoYmkpICsgX2Jsb2NrSW5wdXRQb3M7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSAvLyA8LVxuXHQgICAgICAgIC8vIGZpbmQgZmlyc3Qgbm9uLWZpeGVkIHN5bWJvbFxuXG5cblx0ICAgICAgICBmb3IgKHZhciBfYmkgPSBzZWFyY2hCbG9ja0luZGV4IC0gMTsgX2JpID49IDA7IC0tX2JpKSB7XG5cdCAgICAgICAgICB2YXIgX2Jsb2NrMyA9IHRoaXMuX2Jsb2Nrc1tfYmldO1xuXG5cdCAgICAgICAgICB2YXIgX2Jsb2NrSW5wdXRQb3MyID0gX2Jsb2NrMy5uZWFyZXN0SW5wdXRQb3MoMCwgRElSRUNUSU9OLk5PTkUpOyAvLyBpcyBpbnB1dFxuXG5cblx0ICAgICAgICAgIGlmICghX2Jsb2NrMy52YWx1ZS5sZW5ndGggfHwgX2Jsb2NrSW5wdXRQb3MyICE9PSBfYmxvY2szLnZhbHVlLmxlbmd0aCkge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5fYmxvY2tTdGFydFBvcyhfYmkpICsgX2Jsb2NrMy52YWx1ZS5sZW5ndGg7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgcmV0dXJuIGN1cnNvclBvcztcblx0ICAgICAgfVxuXG5cdCAgICAgIGlmIChkaXJlY3Rpb24gPT09IERJUkVDVElPTi5MRUZUIHx8IGRpcmVjdGlvbiA9PT0gRElSRUNUSU9OLkZPUkNFX0xFRlQpIHtcblx0ICAgICAgICAvLyAtXG5cdCAgICAgICAgLy8gIGFueXxmaWxsZWQtaW5wdXRcblx0ICAgICAgICAvLyA8LVxuXHQgICAgICAgIC8vICBhbnl8Zmlyc3Qgbm90IGVtcHR5IGlzIG5vdC1sZW4tYWxpZ25lZFxuXHQgICAgICAgIC8vICBub3QtMC1hbGlnbmVkfGFueVxuXHQgICAgICAgIC8vIC0+XG5cdCAgICAgICAgLy8gIGFueXxub3QtbGVuLWFsaWduZWQgb3IgZW5kXG5cdCAgICAgICAgLy8gY2hlY2sgaWYgZmlyc3QgYmxvY2sgYXQgcmlnaHQgaXMgZmlsbGVkIGlucHV0XG5cdCAgICAgICAgdmFyIGZpcnN0RmlsbGVkQmxvY2tJbmRleEF0UmlnaHQ7XG5cblx0ICAgICAgICBmb3IgKHZhciBfYmkyID0gc2VhcmNoQmxvY2tJbmRleDsgX2JpMiA8IHRoaXMuX2Jsb2Nrcy5sZW5ndGg7ICsrX2JpMikge1xuXHQgICAgICAgICAgaWYgKHRoaXMuX2Jsb2Nrc1tfYmkyXS52YWx1ZSkge1xuXHQgICAgICAgICAgICBmaXJzdEZpbGxlZEJsb2NrSW5kZXhBdFJpZ2h0ID0gX2JpMjtcblx0ICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgaWYgKGZpcnN0RmlsbGVkQmxvY2tJbmRleEF0UmlnaHQgIT0gbnVsbCkge1xuXHQgICAgICAgICAgdmFyIGZpbGxlZEJsb2NrID0gdGhpcy5fYmxvY2tzW2ZpcnN0RmlsbGVkQmxvY2tJbmRleEF0UmlnaHRdO1xuXG5cdCAgICAgICAgICB2YXIgX2Jsb2NrSW5wdXRQb3MzID0gZmlsbGVkQmxvY2submVhcmVzdElucHV0UG9zKDAsIERJUkVDVElPTi5SSUdIVCk7XG5cblx0ICAgICAgICAgIGlmIChfYmxvY2tJbnB1dFBvczMgPT09IDAgJiYgZmlsbGVkQmxvY2sudW5tYXNrZWRWYWx1ZS5sZW5ndGgpIHtcblx0ICAgICAgICAgICAgLy8gZmlsbGVkIGJsb2NrIGlzIGlucHV0XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLl9ibG9ja1N0YXJ0UG9zKGZpcnN0RmlsbGVkQmxvY2tJbmRleEF0UmlnaHQpICsgX2Jsb2NrSW5wdXRQb3MzO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0gLy8gPC1cblx0ICAgICAgICAvLyBmaW5kIHRoaXMgdmFyc1xuXG5cblx0ICAgICAgICB2YXIgZmlyc3RGaWxsZWRJbnB1dEJsb2NrSW5kZXggPSAtMTtcblx0ICAgICAgICB2YXIgZmlyc3RFbXB0eUlucHV0QmxvY2tJbmRleDsgLy8gVE9ETyBjb25zaWRlciBuZXN0ZWQgZW1wdHkgaW5wdXRzXG5cblx0ICAgICAgICBmb3IgKHZhciBfYmkzID0gc2VhcmNoQmxvY2tJbmRleCAtIDE7IF9iaTMgPj0gMDsgLS1fYmkzKSB7XG5cdCAgICAgICAgICB2YXIgX2Jsb2NrNCA9IHRoaXMuX2Jsb2Nrc1tfYmkzXTtcblxuXHQgICAgICAgICAgdmFyIF9ibG9ja0lucHV0UG9zNCA9IF9ibG9jazQubmVhcmVzdElucHV0UG9zKF9ibG9jazQudmFsdWUubGVuZ3RoLCBESVJFQ1RJT04uRk9SQ0VfTEVGVCk7XG5cblx0ICAgICAgICAgIGlmICghX2Jsb2NrNC52YWx1ZSB8fCBfYmxvY2tJbnB1dFBvczQgIT09IDApIGZpcnN0RW1wdHlJbnB1dEJsb2NrSW5kZXggPSBfYmkzO1xuXG5cdCAgICAgICAgICBpZiAoX2Jsb2NrSW5wdXRQb3M0ICE9PSAwKSB7XG5cdCAgICAgICAgICAgIGlmIChfYmxvY2tJbnB1dFBvczQgIT09IF9ibG9jazQudmFsdWUubGVuZ3RoKSB7XG5cdCAgICAgICAgICAgICAgLy8gYWxpZ25lZCBpbnNpZGUgYmxvY2sgLSByZXR1cm4gaW1tZWRpYXRlbHlcblx0ICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fYmxvY2tTdGFydFBvcyhfYmkzKSArIF9ibG9ja0lucHV0UG9zNDtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAvLyBmb3VuZCBmaWxsZWRcblx0ICAgICAgICAgICAgICBmaXJzdEZpbGxlZElucHV0QmxvY2tJbmRleCA9IF9iaTM7XG5cdCAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cblx0ICAgICAgICBpZiAoZGlyZWN0aW9uID09PSBESVJFQ1RJT04uTEVGVCkge1xuXHQgICAgICAgICAgLy8gdHJ5IGZpbmQgZmlyc3QgZW1wdHkgaW5wdXQgYmVmb3JlIHN0YXJ0IHNlYXJjaGluZyBwb3NpdGlvbiBvbmx5IHdoZW4gbm90IGZvcmNlZFxuXHQgICAgICAgICAgZm9yICh2YXIgX2JpNCA9IGZpcnN0RmlsbGVkSW5wdXRCbG9ja0luZGV4ICsgMTsgX2JpNCA8PSBNYXRoLm1pbihzZWFyY2hCbG9ja0luZGV4LCB0aGlzLl9ibG9ja3MubGVuZ3RoIC0gMSk7ICsrX2JpNCkge1xuXHQgICAgICAgICAgICB2YXIgX2Jsb2NrNSA9IHRoaXMuX2Jsb2Nrc1tfYmk0XTtcblxuXHQgICAgICAgICAgICB2YXIgX2Jsb2NrSW5wdXRQb3M1ID0gX2Jsb2NrNS5uZWFyZXN0SW5wdXRQb3MoMCwgRElSRUNUSU9OLk5PTkUpO1xuXG5cdCAgICAgICAgICAgIHZhciBibG9ja0FsaWduZWRQb3MgPSB0aGlzLl9ibG9ja1N0YXJ0UG9zKF9iaTQpICsgX2Jsb2NrSW5wdXRQb3M1O1xuXG5cdCAgICAgICAgICAgIGlmIChibG9ja0FsaWduZWRQb3MgPiBjdXJzb3JQb3MpIGJyZWFrOyAvLyBpZiBibG9jayBpcyBub3QgbGF6eSBpbnB1dFxuXG5cdCAgICAgICAgICAgIGlmIChfYmxvY2tJbnB1dFBvczUgIT09IF9ibG9jazUudmFsdWUubGVuZ3RoKSByZXR1cm4gYmxvY2tBbGlnbmVkUG9zO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0gLy8gcHJvY2VzcyBvdmVyZmxvd1xuXG5cblx0ICAgICAgICBpZiAoZmlyc3RGaWxsZWRJbnB1dEJsb2NrSW5kZXggPj0gMCkge1xuXHQgICAgICAgICAgcmV0dXJuIHRoaXMuX2Jsb2NrU3RhcnRQb3MoZmlyc3RGaWxsZWRJbnB1dEJsb2NrSW5kZXgpICsgdGhpcy5fYmxvY2tzW2ZpcnN0RmlsbGVkSW5wdXRCbG9ja0luZGV4XS52YWx1ZS5sZW5ndGg7XG5cdCAgICAgICAgfSAvLyBmb3IgbGF6eSBpZiBoYXMgYWxpZ25lZCBsZWZ0IGluc2lkZSBmaXhlZCBhbmQgaGFzIGNhbWUgdG8gdGhlIHN0YXJ0IC0gdXNlIHN0YXJ0IHBvc2l0aW9uXG5cblxuXHQgICAgICAgIGlmIChkaXJlY3Rpb24gPT09IERJUkVDVElPTi5GT1JDRV9MRUZUIHx8IHRoaXMubGF6eSAmJiAhdGhpcy5leHRyYWN0SW5wdXQoKSAmJiAhaXNJbnB1dCh0aGlzLl9ibG9ja3Nbc2VhcmNoQmxvY2tJbmRleF0pKSB7XG5cdCAgICAgICAgICByZXR1cm4gMDtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICBpZiAoZmlyc3RFbXB0eUlucHV0QmxvY2tJbmRleCAhPSBudWxsKSB7XG5cdCAgICAgICAgICByZXR1cm4gdGhpcy5fYmxvY2tTdGFydFBvcyhmaXJzdEVtcHR5SW5wdXRCbG9ja0luZGV4KTtcblx0ICAgICAgICB9IC8vIGZpbmQgZmlyc3QgaW5wdXRcblxuXG5cdCAgICAgICAgZm9yICh2YXIgX2JpNSA9IHNlYXJjaEJsb2NrSW5kZXg7IF9iaTUgPCB0aGlzLl9ibG9ja3MubGVuZ3RoOyArK19iaTUpIHtcblx0ICAgICAgICAgIHZhciBfYmxvY2s2ID0gdGhpcy5fYmxvY2tzW19iaTVdO1xuXG5cdCAgICAgICAgICB2YXIgX2Jsb2NrSW5wdXRQb3M2ID0gX2Jsb2NrNi5uZWFyZXN0SW5wdXRQb3MoMCwgRElSRUNUSU9OLk5PTkUpOyAvLyBpcyBpbnB1dFxuXG5cblx0ICAgICAgICAgIGlmICghX2Jsb2NrNi52YWx1ZS5sZW5ndGggfHwgX2Jsb2NrSW5wdXRQb3M2ICE9PSBfYmxvY2s2LnZhbHVlLmxlbmd0aCkge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5fYmxvY2tTdGFydFBvcyhfYmk1KSArIF9ibG9ja0lucHV0UG9zNjtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cblx0ICAgICAgICByZXR1cm4gMDtcblx0ICAgICAgfVxuXG5cdCAgICAgIGlmIChkaXJlY3Rpb24gPT09IERJUkVDVElPTi5SSUdIVCB8fCBkaXJlY3Rpb24gPT09IERJUkVDVElPTi5GT1JDRV9SSUdIVCkge1xuXHQgICAgICAgIC8vIC0+XG5cdCAgICAgICAgLy8gIGFueXxub3QtbGVuLWFsaWduZWQgYW5kIGZpbGxlZFxuXHQgICAgICAgIC8vICBhbnl8bm90LWxlbi1hbGlnbmVkXG5cdCAgICAgICAgLy8gPC1cblx0ICAgICAgICAvLyAgbm90LTAtYWxpZ25lZCBvciBzdGFydHxhbnlcblx0ICAgICAgICB2YXIgZmlyc3RJbnB1dEJsb2NrQWxpZ25lZEluZGV4O1xuXHQgICAgICAgIHZhciBmaXJzdElucHV0QmxvY2tBbGlnbmVkUG9zO1xuXG5cdCAgICAgICAgZm9yICh2YXIgX2JpNiA9IHNlYXJjaEJsb2NrSW5kZXg7IF9iaTYgPCB0aGlzLl9ibG9ja3MubGVuZ3RoOyArK19iaTYpIHtcblx0ICAgICAgICAgIHZhciBfYmxvY2s3ID0gdGhpcy5fYmxvY2tzW19iaTZdO1xuXG5cdCAgICAgICAgICB2YXIgX2Jsb2NrSW5wdXRQb3M3ID0gX2Jsb2NrNy5uZWFyZXN0SW5wdXRQb3MoMCwgRElSRUNUSU9OLk5PTkUpO1xuXG5cdCAgICAgICAgICBpZiAoX2Jsb2NrSW5wdXRQb3M3ICE9PSBfYmxvY2s3LnZhbHVlLmxlbmd0aCkge1xuXHQgICAgICAgICAgICBmaXJzdElucHV0QmxvY2tBbGlnbmVkUG9zID0gdGhpcy5fYmxvY2tTdGFydFBvcyhfYmk2KSArIF9ibG9ja0lucHV0UG9zNztcblx0ICAgICAgICAgICAgZmlyc3RJbnB1dEJsb2NrQWxpZ25lZEluZGV4ID0gX2JpNjtcblx0ICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgaWYgKGZpcnN0SW5wdXRCbG9ja0FsaWduZWRJbmRleCAhPSBudWxsICYmIGZpcnN0SW5wdXRCbG9ja0FsaWduZWRQb3MgIT0gbnVsbCkge1xuXHQgICAgICAgICAgZm9yICh2YXIgX2JpNyA9IGZpcnN0SW5wdXRCbG9ja0FsaWduZWRJbmRleDsgX2JpNyA8IHRoaXMuX2Jsb2Nrcy5sZW5ndGg7ICsrX2JpNykge1xuXHQgICAgICAgICAgICB2YXIgX2Jsb2NrOCA9IHRoaXMuX2Jsb2Nrc1tfYmk3XTtcblxuXHQgICAgICAgICAgICB2YXIgX2Jsb2NrSW5wdXRQb3M4ID0gX2Jsb2NrOC5uZWFyZXN0SW5wdXRQb3MoMCwgRElSRUNUSU9OLkZPUkNFX1JJR0hUKTtcblxuXHQgICAgICAgICAgICBpZiAoX2Jsb2NrSW5wdXRQb3M4ICE9PSBfYmxvY2s4LnZhbHVlLmxlbmd0aCkge1xuXHQgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9ibG9ja1N0YXJ0UG9zKF9iaTcpICsgX2Jsb2NrSW5wdXRQb3M4O1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9XG5cblx0ICAgICAgICAgIHJldHVybiBkaXJlY3Rpb24gPT09IERJUkVDVElPTi5GT1JDRV9SSUdIVCA/IHRoaXMudmFsdWUubGVuZ3RoIDogZmlyc3RJbnB1dEJsb2NrQWxpZ25lZFBvcztcblx0ICAgICAgICB9XG5cblx0ICAgICAgICBmb3IgKHZhciBfYmk4ID0gTWF0aC5taW4oc2VhcmNoQmxvY2tJbmRleCwgdGhpcy5fYmxvY2tzLmxlbmd0aCAtIDEpOyBfYmk4ID49IDA7IC0tX2JpOCkge1xuXHQgICAgICAgICAgdmFyIF9ibG9jazkgPSB0aGlzLl9ibG9ja3NbX2JpOF07XG5cblx0ICAgICAgICAgIHZhciBfYmxvY2tJbnB1dFBvczkgPSBfYmxvY2s5Lm5lYXJlc3RJbnB1dFBvcyhfYmxvY2s5LnZhbHVlLmxlbmd0aCwgRElSRUNUSU9OLkxFRlQpO1xuXG5cdCAgICAgICAgICBpZiAoX2Jsb2NrSW5wdXRQb3M5ICE9PSAwKSB7XG5cdCAgICAgICAgICAgIHZhciBhbGlnbmVkUG9zID0gdGhpcy5fYmxvY2tTdGFydFBvcyhfYmk4KSArIF9ibG9ja0lucHV0UG9zOTtcblxuXHQgICAgICAgICAgICBpZiAoYWxpZ25lZFBvcyA+PSBjdXJzb3JQb3MpIHJldHVybiBhbGlnbmVkUG9zO1xuXHQgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgIH1cblxuXHQgICAgICByZXR1cm4gY3Vyc29yUG9zO1xuXHQgICAgfVxuXHQgICAgLyoqIEdldCBibG9jayBieSBuYW1lICovXG5cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwibWFza2VkQmxvY2tcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBtYXNrZWRCbG9jayhuYW1lKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLm1hc2tlZEJsb2NrcyhuYW1lKVswXTtcblx0ICAgIH1cblx0ICAgIC8qKiBHZXQgYWxsIGJsb2NrcyBieSBuYW1lICovXG5cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwibWFza2VkQmxvY2tzXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gbWFza2VkQmxvY2tzKG5hbWUpIHtcblx0ICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cblx0ICAgICAgdmFyIGluZGljZXMgPSB0aGlzLl9tYXNrZWRCbG9ja3NbbmFtZV07XG5cdCAgICAgIGlmICghaW5kaWNlcykgcmV0dXJuIFtdO1xuXHQgICAgICByZXR1cm4gaW5kaWNlcy5tYXAoZnVuY3Rpb24gKGdpKSB7XG5cdCAgICAgICAgcmV0dXJuIF90aGlzNC5fYmxvY2tzW2dpXTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiBcInN0YXRlXCIsXG5cdCAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIF9nZXQoX2dldFByb3RvdHlwZU9mKE1hc2tlZFBhdHRlcm4ucHJvdG90eXBlKSwgXCJzdGF0ZVwiLCB0aGlzKSwge1xuXHQgICAgICAgIF9ibG9ja3M6IHRoaXMuX2Jsb2Nrcy5tYXAoZnVuY3Rpb24gKGIpIHtcblx0ICAgICAgICAgIHJldHVybiBiLnN0YXRlO1xuXHQgICAgICAgIH0pXG5cdCAgICAgIH0pO1xuXHQgICAgfSxcblx0ICAgIHNldDogZnVuY3Rpb24gc2V0KHN0YXRlKSB7XG5cdCAgICAgIHZhciBfYmxvY2tzID0gc3RhdGUuX2Jsb2Nrcyxcblx0ICAgICAgICAgIG1hc2tlZFN0YXRlID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHN0YXRlLCBbXCJfYmxvY2tzXCJdKTtcblxuXHQgICAgICB0aGlzLl9ibG9ja3MuZm9yRWFjaChmdW5jdGlvbiAoYiwgYmkpIHtcblx0ICAgICAgICByZXR1cm4gYi5zdGF0ZSA9IF9ibG9ja3NbYmldO1xuXHQgICAgICB9KTtcblxuXHQgICAgICBfc2V0KF9nZXRQcm90b3R5cGVPZihNYXNrZWRQYXR0ZXJuLnByb3RvdHlwZSksIFwic3RhdGVcIiwgbWFza2VkU3RhdGUsIHRoaXMsIHRydWUpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJpc0NvbXBsZXRlXCIsXG5cdCAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuX2Jsb2Nrcy5ldmVyeShmdW5jdGlvbiAoYikge1xuXHQgICAgICAgIHJldHVybiBiLmlzQ29tcGxldGU7XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJ1bm1hc2tlZFZhbHVlXCIsXG5cdCAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuX2Jsb2Nrcy5yZWR1Y2UoZnVuY3Rpb24gKHN0ciwgYikge1xuXHQgICAgICAgIHJldHVybiBzdHIgKz0gYi51bm1hc2tlZFZhbHVlO1xuXHQgICAgICB9LCAnJyk7XG5cdCAgICB9LFxuXHQgICAgc2V0OiBmdW5jdGlvbiBzZXQodW5tYXNrZWRWYWx1ZSkge1xuXHQgICAgICBfc2V0KF9nZXRQcm90b3R5cGVPZihNYXNrZWRQYXR0ZXJuLnByb3RvdHlwZSksIFwidW5tYXNrZWRWYWx1ZVwiLCB1bm1hc2tlZFZhbHVlLCB0aGlzLCB0cnVlKTtcblx0ICAgIH1cblx0ICAgIC8qKlxyXG5cdCAgICAgIEBvdmVycmlkZVxyXG5cdCAgICAqL1xuXG5cdCAgfSwge1xuXHQgICAga2V5OiBcInZhbHVlXCIsXG5cdCAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgLy8gVE9ETyByZXR1cm4gX3ZhbHVlIHdoZW4gbm90IGluIGNoYW5nZT9cblx0ICAgICAgcmV0dXJuIHRoaXMuX2Jsb2Nrcy5yZWR1Y2UoZnVuY3Rpb24gKHN0ciwgYikge1xuXHQgICAgICAgIHJldHVybiBzdHIgKz0gYi52YWx1ZTtcblx0ICAgICAgfSwgJycpO1xuXHQgICAgfSxcblx0ICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG5cdCAgICAgIF9zZXQoX2dldFByb3RvdHlwZU9mKE1hc2tlZFBhdHRlcm4ucHJvdG90eXBlKSwgXCJ2YWx1ZVwiLCB2YWx1ZSwgdGhpcywgdHJ1ZSk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXG5cdCAgcmV0dXJuIE1hc2tlZFBhdHRlcm47XG5cdH0oTWFza2VkKTtcblx0TWFza2VkUGF0dGVybi5ERUZBVUxUUyA9IHtcblx0ICBsYXp5OiB0cnVlLFxuXHQgIHBsYWNlaG9sZGVyQ2hhcjogJ18nXG5cdH07XG5cdE1hc2tlZFBhdHRlcm4uU1RPUF9DSEFSID0gJ2AnO1xuXHRNYXNrZWRQYXR0ZXJuLkVTQ0FQRV9DSEFSID0gJ1xcXFwnO1xuXHRNYXNrZWRQYXR0ZXJuLklucHV0RGVmaW5pdGlvbiA9IFBhdHRlcm5JbnB1dERlZmluaXRpb247XG5cdE1hc2tlZFBhdHRlcm4uRml4ZWREZWZpbml0aW9uID0gUGF0dGVybkZpeGVkRGVmaW5pdGlvbjtcblxuXHRmdW5jdGlvbiBpc0lucHV0KGJsb2NrKSB7XG5cdCAgaWYgKCFibG9jaykgcmV0dXJuIGZhbHNlO1xuXHQgIHZhciB2YWx1ZSA9IGJsb2NrLnZhbHVlO1xuXHQgIHJldHVybiAhdmFsdWUgfHwgYmxvY2submVhcmVzdElucHV0UG9zKDAsIERJUkVDVElPTi5OT05FKSAhPT0gdmFsdWUubGVuZ3RoO1xuXHR9XG5cblx0SU1hc2suTWFza2VkUGF0dGVybiA9IE1hc2tlZFBhdHRlcm47XG5cblx0LyoqIFBhdHRlcm4gd2hpY2ggYWNjZXB0cyByYW5nZXMgKi9cblxuXHR2YXIgTWFza2VkUmFuZ2UgPVxuXHQvKiNfX1BVUkVfXyovXG5cdGZ1bmN0aW9uIChfTWFza2VkUGF0dGVybikge1xuXHQgIF9pbmhlcml0cyhNYXNrZWRSYW5nZSwgX01hc2tlZFBhdHRlcm4pO1xuXG5cdCAgZnVuY3Rpb24gTWFza2VkUmFuZ2UoKSB7XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWFza2VkUmFuZ2UpO1xuXG5cdCAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKE1hc2tlZFJhbmdlKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblx0ICB9XG5cblx0ICBfY3JlYXRlQ2xhc3MoTWFza2VkUmFuZ2UsIFt7XG5cdCAgICBrZXk6IFwiX3VwZGF0ZVwiLFxuXG5cdCAgICAvKipcclxuXHQgICAgICBAb3ZlcnJpZGVcclxuXHQgICAgKi9cblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfdXBkYXRlKG9wdHMpIHtcblx0ICAgICAgLy8gVE9ETyB0eXBlXG5cdCAgICAgIG9wdHMgPSBPYmplY3QuYXNzaWduKHtcblx0ICAgICAgICB0bzogdGhpcy50byB8fCAwLFxuXHQgICAgICAgIGZyb206IHRoaXMuZnJvbSB8fCAwXG5cdCAgICAgIH0sIG9wdHMpO1xuXHQgICAgICB2YXIgbWF4TGVuZ3RoID0gU3RyaW5nKG9wdHMudG8pLmxlbmd0aDtcblx0ICAgICAgaWYgKG9wdHMubWF4TGVuZ3RoICE9IG51bGwpIG1heExlbmd0aCA9IE1hdGgubWF4KG1heExlbmd0aCwgb3B0cy5tYXhMZW5ndGgpO1xuXHQgICAgICBvcHRzLm1heExlbmd0aCA9IG1heExlbmd0aDtcblx0ICAgICAgdmFyIGZyb21TdHIgPSBTdHJpbmcob3B0cy5mcm9tKS5wYWRTdGFydChtYXhMZW5ndGgsICcwJyk7XG5cdCAgICAgIHZhciB0b1N0ciA9IFN0cmluZyhvcHRzLnRvKS5wYWRTdGFydChtYXhMZW5ndGgsICcwJyk7XG5cdCAgICAgIHZhciBzYW1lQ2hhcnNDb3VudCA9IDA7XG5cblx0ICAgICAgd2hpbGUgKHNhbWVDaGFyc0NvdW50IDwgdG9TdHIubGVuZ3RoICYmIHRvU3RyW3NhbWVDaGFyc0NvdW50XSA9PT0gZnJvbVN0cltzYW1lQ2hhcnNDb3VudF0pIHtcblx0ICAgICAgICArK3NhbWVDaGFyc0NvdW50O1xuXHQgICAgICB9XG5cblx0ICAgICAgb3B0cy5tYXNrID0gdG9TdHIuc2xpY2UoMCwgc2FtZUNoYXJzQ291bnQpLnJlcGxhY2UoLzAvZywgJ1xcXFwwJykgKyAnMCcucmVwZWF0KG1heExlbmd0aCAtIHNhbWVDaGFyc0NvdW50KTtcblxuXHQgICAgICBfZ2V0KF9nZXRQcm90b3R5cGVPZihNYXNrZWRSYW5nZS5wcm90b3R5cGUpLCBcIl91cGRhdGVcIiwgdGhpcykuY2FsbCh0aGlzLCBvcHRzKTtcblx0ICAgIH1cblx0ICAgIC8qKlxyXG5cdCAgICAgIEBvdmVycmlkZVxyXG5cdCAgICAqL1xuXG5cdCAgfSwge1xuXHQgICAga2V5OiBcImJvdW5kYXJpZXNcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBib3VuZGFyaWVzKHN0cikge1xuXHQgICAgICB2YXIgbWluc3RyID0gJyc7XG5cdCAgICAgIHZhciBtYXhzdHIgPSAnJztcblxuXHQgICAgICB2YXIgX3JlZiA9IHN0ci5tYXRjaCgvXihcXEQqKShcXGQqKShcXEQqKS8pIHx8IFtdLFxuXHQgICAgICAgICAgX3JlZjIgPSBfc2xpY2VkVG9BcnJheShfcmVmLCAzKSxcblx0ICAgICAgICAgIHBsYWNlaG9sZGVyID0gX3JlZjJbMV0sXG5cdCAgICAgICAgICBudW0gPSBfcmVmMlsyXTtcblxuXHQgICAgICBpZiAobnVtKSB7XG5cdCAgICAgICAgbWluc3RyID0gJzAnLnJlcGVhdChwbGFjZWhvbGRlci5sZW5ndGgpICsgbnVtO1xuXHQgICAgICAgIG1heHN0ciA9ICc5Jy5yZXBlYXQocGxhY2Vob2xkZXIubGVuZ3RoKSArIG51bTtcblx0ICAgICAgfVxuXG5cdCAgICAgIG1pbnN0ciA9IG1pbnN0ci5wYWRFbmQodGhpcy5tYXhMZW5ndGgsICcwJyk7XG5cdCAgICAgIG1heHN0ciA9IG1heHN0ci5wYWRFbmQodGhpcy5tYXhMZW5ndGgsICc5Jyk7XG5cdCAgICAgIHJldHVybiBbbWluc3RyLCBtYXhzdHJdO1xuXHQgICAgfVxuXHQgICAgLyoqXHJcblx0ICAgICAgQG92ZXJyaWRlXHJcblx0ICAgICovXG5cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiZG9QcmVwYXJlXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZG9QcmVwYXJlKHN0cikge1xuXHQgICAgICB2YXIgZmxhZ3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuXHQgICAgICBzdHIgPSBfZ2V0KF9nZXRQcm90b3R5cGVPZihNYXNrZWRSYW5nZS5wcm90b3R5cGUpLCBcImRvUHJlcGFyZVwiLCB0aGlzKS5jYWxsKHRoaXMsIHN0ciwgZmxhZ3MpLnJlcGxhY2UoL1xcRC9nLCAnJyk7XG5cdCAgICAgIGlmICghdGhpcy5hdXRvZml4KSByZXR1cm4gc3RyO1xuXHQgICAgICB2YXIgZnJvbVN0ciA9IFN0cmluZyh0aGlzLmZyb20pLnBhZFN0YXJ0KHRoaXMubWF4TGVuZ3RoLCAnMCcpO1xuXHQgICAgICB2YXIgdG9TdHIgPSBTdHJpbmcodGhpcy50bykucGFkU3RhcnQodGhpcy5tYXhMZW5ndGgsICcwJyk7XG5cdCAgICAgIHZhciB2YWwgPSB0aGlzLnZhbHVlO1xuXHQgICAgICB2YXIgcHJlcFN0ciA9ICcnO1xuXG5cdCAgICAgIGZvciAodmFyIGNpID0gMDsgY2kgPCBzdHIubGVuZ3RoOyArK2NpKSB7XG5cdCAgICAgICAgdmFyIG5leHRWYWwgPSB2YWwgKyBwcmVwU3RyICsgc3RyW2NpXTtcblxuXHQgICAgICAgIHZhciBfdGhpcyRib3VuZGFyaWVzID0gdGhpcy5ib3VuZGFyaWVzKG5leHRWYWwpLFxuXHQgICAgICAgICAgICBfdGhpcyRib3VuZGFyaWVzMiA9IF9zbGljZWRUb0FycmF5KF90aGlzJGJvdW5kYXJpZXMsIDIpLFxuXHQgICAgICAgICAgICBtaW5zdHIgPSBfdGhpcyRib3VuZGFyaWVzMlswXSxcblx0ICAgICAgICAgICAgbWF4c3RyID0gX3RoaXMkYm91bmRhcmllczJbMV07XG5cblx0ICAgICAgICBpZiAoTnVtYmVyKG1heHN0cikgPCB0aGlzLmZyb20pIHByZXBTdHIgKz0gZnJvbVN0cltuZXh0VmFsLmxlbmd0aCAtIDFdO2Vsc2UgaWYgKE51bWJlcihtaW5zdHIpID4gdGhpcy50bykgcHJlcFN0ciArPSB0b1N0cltuZXh0VmFsLmxlbmd0aCAtIDFdO2Vsc2UgcHJlcFN0ciArPSBzdHJbY2ldO1xuXHQgICAgICB9XG5cblx0ICAgICAgcmV0dXJuIHByZXBTdHI7XG5cdCAgICB9XG5cdCAgICAvKipcclxuXHQgICAgICBAb3ZlcnJpZGVcclxuXHQgICAgKi9cblxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJkb1ZhbGlkYXRlXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZG9WYWxpZGF0ZSgpIHtcblx0ICAgICAgdmFyIF9nZXQyO1xuXG5cdCAgICAgIHZhciBzdHIgPSB0aGlzLnZhbHVlO1xuXHQgICAgICB2YXIgZmlyc3ROb25aZXJvID0gc3RyLnNlYXJjaCgvW14wXS8pO1xuXHQgICAgICBpZiAoZmlyc3ROb25aZXJvID09PSAtMSAmJiBzdHIubGVuZ3RoIDw9IHRoaXMuX21hdGNoRnJvbSkgcmV0dXJuIHRydWU7XG5cblx0ICAgICAgdmFyIF90aGlzJGJvdW5kYXJpZXMzID0gdGhpcy5ib3VuZGFyaWVzKHN0ciksXG5cdCAgICAgICAgICBfdGhpcyRib3VuZGFyaWVzNCA9IF9zbGljZWRUb0FycmF5KF90aGlzJGJvdW5kYXJpZXMzLCAyKSxcblx0ICAgICAgICAgIG1pbnN0ciA9IF90aGlzJGJvdW5kYXJpZXM0WzBdLFxuXHQgICAgICAgICAgbWF4c3RyID0gX3RoaXMkYm91bmRhcmllczRbMV07XG5cblx0ICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG5cdCAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcblx0ICAgICAgfVxuXG5cdCAgICAgIHJldHVybiB0aGlzLmZyb20gPD0gTnVtYmVyKG1heHN0cikgJiYgTnVtYmVyKG1pbnN0cikgPD0gdGhpcy50byAmJiAoX2dldDIgPSBfZ2V0KF9nZXRQcm90b3R5cGVPZihNYXNrZWRSYW5nZS5wcm90b3R5cGUpLCBcImRvVmFsaWRhdGVcIiwgdGhpcykpLmNhbGwuYXBwbHkoX2dldDIsIFt0aGlzXS5jb25jYXQoYXJncykpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJfbWF0Y2hGcm9tXCIsXG5cblx0ICAgIC8qKlxyXG5cdCAgICAgIE9wdGlvbmFsbHkgc2V0cyBtYXggbGVuZ3RoIG9mIHBhdHRlcm4uXHJcblx0ICAgICAgVXNlZCB3aGVuIHBhdHRlcm4gbGVuZ3RoIGlzIGxvbmdlciB0aGVuIGB0b2AgcGFyYW0gbGVuZ3RoLiBQYWRzIHplcm9zIGF0IHN0YXJ0IGluIHRoaXMgY2FzZS5cclxuXHQgICAgKi9cblxuXHQgICAgLyoqIE1pbiBib3VuZCAqL1xuXG5cdCAgICAvKiogTWF4IGJvdW5kICovXG5cblx0ICAgIC8qKiAqL1xuXHQgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLm1heExlbmd0aCAtIFN0cmluZyh0aGlzLmZyb20pLmxlbmd0aDtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiaXNDb21wbGV0ZVwiLFxuXHQgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdCAgICAgIHJldHVybiBfZ2V0KF9nZXRQcm90b3R5cGVPZihNYXNrZWRSYW5nZS5wcm90b3R5cGUpLCBcImlzQ29tcGxldGVcIiwgdGhpcykgJiYgQm9vbGVhbih0aGlzLnZhbHVlKTtcblx0ICAgIH1cblx0ICB9XSk7XG5cblx0ICByZXR1cm4gTWFza2VkUmFuZ2U7XG5cdH0oTWFza2VkUGF0dGVybik7XG5cdElNYXNrLk1hc2tlZFJhbmdlID0gTWFza2VkUmFuZ2U7XG5cblx0LyoqIERhdGUgbWFzayAqL1xuXG5cdHZhciBNYXNrZWREYXRlID1cblx0LyojX19QVVJFX18qL1xuXHRmdW5jdGlvbiAoX01hc2tlZFBhdHRlcm4pIHtcblx0ICBfaW5oZXJpdHMoTWFza2VkRGF0ZSwgX01hc2tlZFBhdHRlcm4pO1xuXG5cdCAgLyoqIFBhdHRlcm4gbWFzayBmb3IgZGF0ZSBhY2NvcmRpbmcgdG8ge0BsaW5rIE1hc2tlZERhdGUjZm9ybWF0fSAqL1xuXG5cdCAgLyoqIFN0YXJ0IGRhdGUgKi9cblxuXHQgIC8qKiBFbmQgZGF0ZSAqL1xuXG5cdCAgLyoqICovXG5cblx0ICAvKipcclxuXHQgICAgQHBhcmFtIHtPYmplY3R9IG9wdHNcclxuXHQgICovXG5cdCAgZnVuY3Rpb24gTWFza2VkRGF0ZShvcHRzKSB7XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWFza2VkRGF0ZSk7XG5cblx0ICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfZ2V0UHJvdG90eXBlT2YoTWFza2VkRGF0ZSkuY2FsbCh0aGlzLCBPYmplY3QuYXNzaWduKHt9LCBNYXNrZWREYXRlLkRFRkFVTFRTLCB7fSwgb3B0cykpKTtcblx0ICB9XG5cdCAgLyoqXHJcblx0ICAgIEBvdmVycmlkZVxyXG5cdCAgKi9cblxuXG5cdCAgX2NyZWF0ZUNsYXNzKE1hc2tlZERhdGUsIFt7XG5cdCAgICBrZXk6IFwiX3VwZGF0ZVwiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF91cGRhdGUob3B0cykge1xuXHQgICAgICBpZiAob3B0cy5tYXNrID09PSBEYXRlKSBkZWxldGUgb3B0cy5tYXNrO1xuXHQgICAgICBpZiAob3B0cy5wYXR0ZXJuKSBvcHRzLm1hc2sgPSBvcHRzLnBhdHRlcm47XG5cdCAgICAgIHZhciBibG9ja3MgPSBvcHRzLmJsb2Nrcztcblx0ICAgICAgb3B0cy5ibG9ja3MgPSBPYmplY3QuYXNzaWduKHt9LCBNYXNrZWREYXRlLkdFVF9ERUZBVUxUX0JMT0NLUygpKTsgLy8gYWRqdXN0IHllYXIgYmxvY2tcblxuXHQgICAgICBpZiAob3B0cy5taW4pIG9wdHMuYmxvY2tzLlkuZnJvbSA9IG9wdHMubWluLmdldEZ1bGxZZWFyKCk7XG5cdCAgICAgIGlmIChvcHRzLm1heCkgb3B0cy5ibG9ja3MuWS50byA9IG9wdHMubWF4LmdldEZ1bGxZZWFyKCk7XG5cblx0ICAgICAgaWYgKG9wdHMubWluICYmIG9wdHMubWF4ICYmIG9wdHMuYmxvY2tzLlkuZnJvbSA9PT0gb3B0cy5ibG9ja3MuWS50bykge1xuXHQgICAgICAgIG9wdHMuYmxvY2tzLm0uZnJvbSA9IG9wdHMubWluLmdldE1vbnRoKCkgKyAxO1xuXHQgICAgICAgIG9wdHMuYmxvY2tzLm0udG8gPSBvcHRzLm1heC5nZXRNb250aCgpICsgMTtcblxuXHQgICAgICAgIGlmIChvcHRzLmJsb2Nrcy5tLmZyb20gPT09IG9wdHMuYmxvY2tzLm0udG8pIHtcblx0ICAgICAgICAgIG9wdHMuYmxvY2tzLmQuZnJvbSA9IG9wdHMubWluLmdldERhdGUoKTtcblx0ICAgICAgICAgIG9wdHMuYmxvY2tzLmQudG8gPSBvcHRzLm1heC5nZXREYXRlKCk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cblx0ICAgICAgT2JqZWN0LmFzc2lnbihvcHRzLmJsb2NrcywgYmxvY2tzKTsgLy8gYWRkIGF1dG9maXhcblxuXHQgICAgICBPYmplY3Qua2V5cyhvcHRzLmJsb2NrcykuZm9yRWFjaChmdW5jdGlvbiAoYmspIHtcblx0ICAgICAgICB2YXIgYiA9IG9wdHMuYmxvY2tzW2JrXTtcblx0ICAgICAgICBpZiAoISgnYXV0b2ZpeCcgaW4gYikpIGIuYXV0b2ZpeCA9IG9wdHMuYXV0b2ZpeDtcblx0ICAgICAgfSk7XG5cblx0ICAgICAgX2dldChfZ2V0UHJvdG90eXBlT2YoTWFza2VkRGF0ZS5wcm90b3R5cGUpLCBcIl91cGRhdGVcIiwgdGhpcykuY2FsbCh0aGlzLCBvcHRzKTtcblx0ICAgIH1cblx0ICAgIC8qKlxyXG5cdCAgICAgIEBvdmVycmlkZVxyXG5cdCAgICAqL1xuXG5cdCAgfSwge1xuXHQgICAga2V5OiBcImRvVmFsaWRhdGVcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBkb1ZhbGlkYXRlKCkge1xuXHQgICAgICB2YXIgX2dldDI7XG5cblx0ICAgICAgdmFyIGRhdGUgPSB0aGlzLmRhdGU7XG5cblx0ICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG5cdCAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcblx0ICAgICAgfVxuXG5cdCAgICAgIHJldHVybiAoX2dldDIgPSBfZ2V0KF9nZXRQcm90b3R5cGVPZihNYXNrZWREYXRlLnByb3RvdHlwZSksIFwiZG9WYWxpZGF0ZVwiLCB0aGlzKSkuY2FsbC5hcHBseShfZ2V0MiwgW3RoaXNdLmNvbmNhdChhcmdzKSkgJiYgKCF0aGlzLmlzQ29tcGxldGUgfHwgdGhpcy5pc0RhdGVFeGlzdCh0aGlzLnZhbHVlKSAmJiBkYXRlICE9IG51bGwgJiYgKHRoaXMubWluID09IG51bGwgfHwgdGhpcy5taW4gPD0gZGF0ZSkgJiYgKHRoaXMubWF4ID09IG51bGwgfHwgZGF0ZSA8PSB0aGlzLm1heCkpO1xuXHQgICAgfVxuXHQgICAgLyoqIENoZWNrcyBpZiBkYXRlIGlzIGV4aXN0cyAqL1xuXG5cdCAgfSwge1xuXHQgICAga2V5OiBcImlzRGF0ZUV4aXN0XCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gaXNEYXRlRXhpc3Qoc3RyKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLmZvcm1hdCh0aGlzLnBhcnNlKHN0ciwgdGhpcyksIHRoaXMpLmluZGV4T2Yoc3RyKSA+PSAwO1xuXHQgICAgfVxuXHQgICAgLyoqIFBhcnNlZCBEYXRlICovXG5cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiZGF0ZVwiLFxuXHQgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLnR5cGVkVmFsdWU7XG5cdCAgICB9LFxuXHQgICAgc2V0OiBmdW5jdGlvbiBzZXQoZGF0ZSkge1xuXHQgICAgICB0aGlzLnR5cGVkVmFsdWUgPSBkYXRlO1xuXHQgICAgfVxuXHQgICAgLyoqXHJcblx0ICAgICAgQG92ZXJyaWRlXHJcblx0ICAgICovXG5cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwidHlwZWRWYWx1ZVwiLFxuXHQgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLmlzQ29tcGxldGUgPyBfZ2V0KF9nZXRQcm90b3R5cGVPZihNYXNrZWREYXRlLnByb3RvdHlwZSksIFwidHlwZWRWYWx1ZVwiLCB0aGlzKSA6IG51bGw7XG5cdCAgICB9LFxuXHQgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcblx0ICAgICAgX3NldChfZ2V0UHJvdG90eXBlT2YoTWFza2VkRGF0ZS5wcm90b3R5cGUpLCBcInR5cGVkVmFsdWVcIiwgdmFsdWUsIHRoaXMsIHRydWUpO1xuXHQgICAgfVxuXHQgIH1dKTtcblxuXHQgIHJldHVybiBNYXNrZWREYXRlO1xuXHR9KE1hc2tlZFBhdHRlcm4pO1xuXHRNYXNrZWREYXRlLkRFRkFVTFRTID0ge1xuXHQgIHBhdHRlcm46ICdkey59YG17Ln1gWScsXG5cdCAgZm9ybWF0OiBmdW5jdGlvbiBmb3JtYXQoZGF0ZSkge1xuXHQgICAgdmFyIGRheSA9IFN0cmluZyhkYXRlLmdldERhdGUoKSkucGFkU3RhcnQoMiwgJzAnKTtcblx0ICAgIHZhciBtb250aCA9IFN0cmluZyhkYXRlLmdldE1vbnRoKCkgKyAxKS5wYWRTdGFydCgyLCAnMCcpO1xuXHQgICAgdmFyIHllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCk7XG5cdCAgICByZXR1cm4gW2RheSwgbW9udGgsIHllYXJdLmpvaW4oJy4nKTtcblx0ICB9LFxuXHQgIHBhcnNlOiBmdW5jdGlvbiBwYXJzZShzdHIpIHtcblx0ICAgIHZhciBfc3RyJHNwbGl0ID0gc3RyLnNwbGl0KCcuJyksXG5cdCAgICAgICAgX3N0ciRzcGxpdDIgPSBfc2xpY2VkVG9BcnJheShfc3RyJHNwbGl0LCAzKSxcblx0ICAgICAgICBkYXkgPSBfc3RyJHNwbGl0MlswXSxcblx0ICAgICAgICBtb250aCA9IF9zdHIkc3BsaXQyWzFdLFxuXHQgICAgICAgIHllYXIgPSBfc3RyJHNwbGl0MlsyXTtcblxuXHQgICAgcmV0dXJuIG5ldyBEYXRlKHllYXIsIG1vbnRoIC0gMSwgZGF5KTtcblx0ICB9XG5cdH07XG5cblx0TWFza2VkRGF0ZS5HRVRfREVGQVVMVF9CTE9DS1MgPSBmdW5jdGlvbiAoKSB7XG5cdCAgcmV0dXJuIHtcblx0ICAgIGQ6IHtcblx0ICAgICAgbWFzazogTWFza2VkUmFuZ2UsXG5cdCAgICAgIGZyb206IDEsXG5cdCAgICAgIHRvOiAzMSxcblx0ICAgICAgbWF4TGVuZ3RoOiAyXG5cdCAgICB9LFxuXHQgICAgbToge1xuXHQgICAgICBtYXNrOiBNYXNrZWRSYW5nZSxcblx0ICAgICAgZnJvbTogMSxcblx0ICAgICAgdG86IDEyLFxuXHQgICAgICBtYXhMZW5ndGg6IDJcblx0ICAgIH0sXG5cdCAgICBZOiB7XG5cdCAgICAgIG1hc2s6IE1hc2tlZFJhbmdlLFxuXHQgICAgICBmcm9tOiAxOTAwLFxuXHQgICAgICB0bzogOTk5OVxuXHQgICAgfVxuXHQgIH07XG5cdH07XG5cblx0SU1hc2suTWFza2VkRGF0ZSA9IE1hc2tlZERhdGU7XG5cblx0LyoqXHJcblx0ICBHZW5lcmljIGVsZW1lbnQgQVBJIHRvIHVzZSB3aXRoIG1hc2tcclxuXHQgIEBpbnRlcmZhY2VcclxuXHQqL1xuXHR2YXIgTWFza0VsZW1lbnQgPVxuXHQvKiNfX1BVUkVfXyovXG5cdGZ1bmN0aW9uICgpIHtcblx0ICBmdW5jdGlvbiBNYXNrRWxlbWVudCgpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNYXNrRWxlbWVudCk7XG5cdCAgfVxuXG5cdCAgX2NyZWF0ZUNsYXNzKE1hc2tFbGVtZW50LCBbe1xuXHQgICAga2V5OiBcInNlbGVjdFwiLFxuXG5cdCAgICAvKiogU2FmZWx5IHNldHMgZWxlbWVudCBzZWxlY3Rpb24gKi9cblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZWxlY3Qoc3RhcnQsIGVuZCkge1xuXHQgICAgICBpZiAoc3RhcnQgPT0gbnVsbCB8fCBlbmQgPT0gbnVsbCB8fCBzdGFydCA9PT0gdGhpcy5zZWxlY3Rpb25TdGFydCAmJiBlbmQgPT09IHRoaXMuc2VsZWN0aW9uRW5kKSByZXR1cm47XG5cblx0ICAgICAgdHJ5IHtcblx0ICAgICAgICB0aGlzLl91bnNhZmVTZWxlY3Qoc3RhcnQsIGVuZCk7XG5cdCAgICAgIH0gY2F0Y2ggKGUpIHt9XG5cdCAgICB9XG5cdCAgICAvKiogU2hvdWxkIGJlIG92ZXJyaWRlbiBpbiBzdWJjbGFzc2VzICovXG5cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiX3Vuc2FmZVNlbGVjdFwiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF91bnNhZmVTZWxlY3Qoc3RhcnQsIGVuZCkge31cblx0ICAgIC8qKiBTaG91bGQgYmUgb3ZlcnJpZGVuIGluIHN1YmNsYXNzZXMgKi9cblxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJiaW5kRXZlbnRzXCIsXG5cblx0ICAgIC8qKiBTaG91bGQgYmUgb3ZlcnJpZGVuIGluIHN1YmNsYXNzZXMgKi9cblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBiaW5kRXZlbnRzKGhhbmRsZXJzKSB7fVxuXHQgICAgLyoqIFNob3VsZCBiZSBvdmVycmlkZW4gaW4gc3ViY2xhc3NlcyAqL1xuXG5cdCAgfSwge1xuXHQgICAga2V5OiBcInVuYmluZEV2ZW50c1wiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHVuYmluZEV2ZW50cygpIHt9XG5cdCAgfSwge1xuXHQgICAga2V5OiBcInNlbGVjdGlvblN0YXJ0XCIsXG5cblx0ICAgIC8qKiAqL1xuXG5cdCAgICAvKiogKi9cblxuXHQgICAgLyoqICovXG5cblx0ICAgIC8qKiBTYWZlbHkgcmV0dXJucyBzZWxlY3Rpb24gc3RhcnQgKi9cblx0ICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgICB2YXIgc3RhcnQ7XG5cblx0ICAgICAgdHJ5IHtcblx0ICAgICAgICBzdGFydCA9IHRoaXMuX3Vuc2FmZVNlbGVjdGlvblN0YXJ0O1xuXHQgICAgICB9IGNhdGNoIChlKSB7fVxuXG5cdCAgICAgIHJldHVybiBzdGFydCAhPSBudWxsID8gc3RhcnQgOiB0aGlzLnZhbHVlLmxlbmd0aDtcblx0ICAgIH1cblx0ICAgIC8qKiBTYWZlbHkgcmV0dXJucyBzZWxlY3Rpb24gZW5kICovXG5cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwic2VsZWN0aW9uRW5kXCIsXG5cdCAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgdmFyIGVuZDtcblxuXHQgICAgICB0cnkge1xuXHQgICAgICAgIGVuZCA9IHRoaXMuX3Vuc2FmZVNlbGVjdGlvbkVuZDtcblx0ICAgICAgfSBjYXRjaCAoZSkge31cblxuXHQgICAgICByZXR1cm4gZW5kICE9IG51bGwgPyBlbmQgOiB0aGlzLnZhbHVlLmxlbmd0aDtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiaXNBY3RpdmVcIixcblx0ICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdCAgfV0pO1xuXG5cdCAgcmV0dXJuIE1hc2tFbGVtZW50O1xuXHR9KCk7XG5cdElNYXNrLk1hc2tFbGVtZW50ID0gTWFza0VsZW1lbnQ7XG5cblx0LyoqIEJyaWRnZSBiZXR3ZWVuIEhUTUxFbGVtZW50IGFuZCB7QGxpbmsgTWFza2VkfSAqL1xuXG5cdHZhciBIVE1MTWFza0VsZW1lbnQgPVxuXHQvKiNfX1BVUkVfXyovXG5cdGZ1bmN0aW9uIChfTWFza0VsZW1lbnQpIHtcblx0ICBfaW5oZXJpdHMoSFRNTE1hc2tFbGVtZW50LCBfTWFza0VsZW1lbnQpO1xuXG5cdCAgLyoqIE1hcHBpbmcgYmV0d2VlbiBIVE1MRWxlbWVudCBldmVudHMgYW5kIG1hc2sgaW50ZXJuYWwgZXZlbnRzICovXG5cblx0ICAvKiogSFRNTEVsZW1lbnQgdG8gdXNlIG1hc2sgb24gKi9cblxuXHQgIC8qKlxyXG5cdCAgICBAcGFyYW0ge0hUTUxJbnB1dEVsZW1lbnR8SFRNTFRleHRBcmVhRWxlbWVudH0gaW5wdXRcclxuXHQgICovXG5cdCAgZnVuY3Rpb24gSFRNTE1hc2tFbGVtZW50KGlucHV0KSB7XG5cdCAgICB2YXIgX3RoaXM7XG5cblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBIVE1MTWFza0VsZW1lbnQpO1xuXG5cdCAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihIVE1MTWFza0VsZW1lbnQpLmNhbGwodGhpcykpO1xuXHQgICAgX3RoaXMuaW5wdXQgPSBpbnB1dDtcblx0ICAgIF90aGlzLl9oYW5kbGVycyA9IHt9O1xuXHQgICAgcmV0dXJuIF90aGlzO1xuXHQgIH1cblx0ICAvKiogKi9cblx0ICAvLyAkRmxvd0ZpeE1lIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9mbG93L2lzc3Vlcy8yODM5XG5cblxuXHQgIF9jcmVhdGVDbGFzcyhIVE1MTWFza0VsZW1lbnQsIFt7XG5cdCAgICBrZXk6IFwiX3Vuc2FmZVNlbGVjdFwiLFxuXG5cdCAgICAvKipcclxuXHQgICAgICBTZXRzIEhUTUxFbGVtZW50IHNlbGVjdGlvblxyXG5cdCAgICAgIEBvdmVycmlkZVxyXG5cdCAgICAqL1xuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF91bnNhZmVTZWxlY3Qoc3RhcnQsIGVuZCkge1xuXHQgICAgICB0aGlzLmlucHV0LnNldFNlbGVjdGlvblJhbmdlKHN0YXJ0LCBlbmQpO1xuXHQgICAgfVxuXHQgICAgLyoqXHJcblx0ICAgICAgSFRNTEVsZW1lbnQgdmFsdWVcclxuXHQgICAgICBAb3ZlcnJpZGVcclxuXHQgICAgKi9cblxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJiaW5kRXZlbnRzXCIsXG5cblx0ICAgIC8qKlxyXG5cdCAgICAgIEJpbmRzIEhUTUxFbGVtZW50IGV2ZW50cyB0byBtYXNrIGludGVybmFsIGV2ZW50c1xyXG5cdCAgICAgIEBvdmVycmlkZVxyXG5cdCAgICAqL1xuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGJpbmRFdmVudHMoaGFuZGxlcnMpIHtcblx0ICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cblx0ICAgICAgT2JqZWN0LmtleXMoaGFuZGxlcnMpLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50KSB7XG5cdCAgICAgICAgcmV0dXJuIF90aGlzMi5fdG9nZ2xlRXZlbnRIYW5kbGVyKEhUTUxNYXNrRWxlbWVudC5FVkVOVFNfTUFQW2V2ZW50XSwgaGFuZGxlcnNbZXZlbnRdKTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgICAvKipcclxuXHQgICAgICBVbmJpbmRzIEhUTUxFbGVtZW50IGV2ZW50cyB0byBtYXNrIGludGVybmFsIGV2ZW50c1xyXG5cdCAgICAgIEBvdmVycmlkZVxyXG5cdCAgICAqL1xuXG5cdCAgfSwge1xuXHQgICAga2V5OiBcInVuYmluZEV2ZW50c1wiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHVuYmluZEV2ZW50cygpIHtcblx0ICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cblx0ICAgICAgT2JqZWN0LmtleXModGhpcy5faGFuZGxlcnMpLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50KSB7XG5cdCAgICAgICAgcmV0dXJuIF90aGlzMy5fdG9nZ2xlRXZlbnRIYW5kbGVyKGV2ZW50KTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgICAvKiogKi9cblxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJfdG9nZ2xlRXZlbnRIYW5kbGVyXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX3RvZ2dsZUV2ZW50SGFuZGxlcihldmVudCwgaGFuZGxlcikge1xuXHQgICAgICBpZiAodGhpcy5faGFuZGxlcnNbZXZlbnRdKSB7XG5cdCAgICAgICAgdGhpcy5pbnB1dC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCB0aGlzLl9oYW5kbGVyc1tldmVudF0pO1xuXHQgICAgICAgIGRlbGV0ZSB0aGlzLl9oYW5kbGVyc1tldmVudF07XG5cdCAgICAgIH1cblxuXHQgICAgICBpZiAoaGFuZGxlcikge1xuXHQgICAgICAgIHRoaXMuaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlcik7XG5cdCAgICAgICAgdGhpcy5faGFuZGxlcnNbZXZlbnRdID0gaGFuZGxlcjtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJyb290RWxlbWVudFwiLFxuXHQgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLmlucHV0LmdldFJvb3ROb2RlID8gdGhpcy5pbnB1dC5nZXRSb290Tm9kZSgpIDogZG9jdW1lbnQ7XG5cdCAgICB9XG5cdCAgICAvKipcclxuXHQgICAgICBJcyBlbGVtZW50IGluIGZvY3VzXHJcblx0ICAgICAgQHJlYWRvbmx5XHJcblx0ICAgICovXG5cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiaXNBY3RpdmVcIixcblx0ICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgICAvLyRGbG93Rml4TWVcblx0ICAgICAgcmV0dXJuIHRoaXMuaW5wdXQgPT09IHRoaXMucm9vdEVsZW1lbnQuYWN0aXZlRWxlbWVudDtcblx0ICAgIH1cblx0ICAgIC8qKlxyXG5cdCAgICAgIFJldHVybnMgSFRNTEVsZW1lbnQgc2VsZWN0aW9uIHN0YXJ0XHJcblx0ICAgICAgQG92ZXJyaWRlXHJcblx0ICAgICovXG5cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiX3Vuc2FmZVNlbGVjdGlvblN0YXJ0XCIsXG5cdCAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuaW5wdXQuc2VsZWN0aW9uU3RhcnQ7XG5cdCAgICB9XG5cdCAgICAvKipcclxuXHQgICAgICBSZXR1cm5zIEhUTUxFbGVtZW50IHNlbGVjdGlvbiBlbmRcclxuXHQgICAgICBAb3ZlcnJpZGVcclxuXHQgICAgKi9cblxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJfdW5zYWZlU2VsZWN0aW9uRW5kXCIsXG5cdCAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuaW5wdXQuc2VsZWN0aW9uRW5kO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJ2YWx1ZVwiLFxuXHQgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLmlucHV0LnZhbHVlO1xuXHQgICAgfSxcblx0ICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG5cdCAgICAgIHRoaXMuaW5wdXQudmFsdWUgPSB2YWx1ZTtcblx0ICAgIH1cblx0ICB9XSk7XG5cblx0ICByZXR1cm4gSFRNTE1hc2tFbGVtZW50O1xuXHR9KE1hc2tFbGVtZW50KTtcblx0SFRNTE1hc2tFbGVtZW50LkVWRU5UU19NQVAgPSB7XG5cdCAgc2VsZWN0aW9uQ2hhbmdlOiAna2V5ZG93bicsXG5cdCAgaW5wdXQ6ICdpbnB1dCcsXG5cdCAgZHJvcDogJ2Ryb3AnLFxuXHQgIGNsaWNrOiAnY2xpY2snLFxuXHQgIGZvY3VzOiAnZm9jdXMnLFxuXHQgIGNvbW1pdDogJ2JsdXInXG5cdH07XG5cdElNYXNrLkhUTUxNYXNrRWxlbWVudCA9IEhUTUxNYXNrRWxlbWVudDtcblxuXHR2YXIgSFRNTENvbnRlbnRlZGl0YWJsZU1hc2tFbGVtZW50ID1cblx0LyojX19QVVJFX18qL1xuXHRmdW5jdGlvbiAoX0hUTUxNYXNrRWxlbWVudCkge1xuXHQgIF9pbmhlcml0cyhIVE1MQ29udGVudGVkaXRhYmxlTWFza0VsZW1lbnQsIF9IVE1MTWFza0VsZW1lbnQpO1xuXG5cdCAgZnVuY3Rpb24gSFRNTENvbnRlbnRlZGl0YWJsZU1hc2tFbGVtZW50KCkge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEhUTUxDb250ZW50ZWRpdGFibGVNYXNrRWxlbWVudCk7XG5cblx0ICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfZ2V0UHJvdG90eXBlT2YoSFRNTENvbnRlbnRlZGl0YWJsZU1hc2tFbGVtZW50KS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblx0ICB9XG5cblx0ICBfY3JlYXRlQ2xhc3MoSFRNTENvbnRlbnRlZGl0YWJsZU1hc2tFbGVtZW50LCBbe1xuXHQgICAga2V5OiBcIl91bnNhZmVTZWxlY3RcIixcblxuXHQgICAgLyoqXHJcblx0ICAgICAgU2V0cyBIVE1MRWxlbWVudCBzZWxlY3Rpb25cclxuXHQgICAgICBAb3ZlcnJpZGVcclxuXHQgICAgKi9cblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfdW5zYWZlU2VsZWN0KHN0YXJ0LCBlbmQpIHtcblx0ICAgICAgaWYgKCF0aGlzLnJvb3RFbGVtZW50LmNyZWF0ZVJhbmdlKSByZXR1cm47XG5cdCAgICAgIHZhciByYW5nZSA9IHRoaXMucm9vdEVsZW1lbnQuY3JlYXRlUmFuZ2UoKTtcblx0ICAgICAgcmFuZ2Uuc2V0U3RhcnQodGhpcy5pbnB1dC5maXJzdENoaWxkIHx8IHRoaXMuaW5wdXQsIHN0YXJ0KTtcblx0ICAgICAgcmFuZ2Uuc2V0RW5kKHRoaXMuaW5wdXQubGFzdENoaWxkIHx8IHRoaXMuaW5wdXQsIGVuZCk7XG5cdCAgICAgIHZhciByb290ID0gdGhpcy5yb290RWxlbWVudDtcblx0ICAgICAgdmFyIHNlbGVjdGlvbiA9IHJvb3QuZ2V0U2VsZWN0aW9uICYmIHJvb3QuZ2V0U2VsZWN0aW9uKCk7XG5cblx0ICAgICAgaWYgKHNlbGVjdGlvbikge1xuXHQgICAgICAgIHNlbGVjdGlvbi5yZW1vdmVBbGxSYW5nZXMoKTtcblx0ICAgICAgICBzZWxlY3Rpb24uYWRkUmFuZ2UocmFuZ2UpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICAvKipcclxuXHQgICAgICBIVE1MRWxlbWVudCB2YWx1ZVxyXG5cdCAgICAgIEBvdmVycmlkZVxyXG5cdCAgICAqL1xuXG5cdCAgfSwge1xuXHQgICAga2V5OiBcIl91bnNhZmVTZWxlY3Rpb25TdGFydFwiLFxuXG5cdCAgICAvKipcclxuXHQgICAgICBSZXR1cm5zIEhUTUxFbGVtZW50IHNlbGVjdGlvbiBzdGFydFxyXG5cdCAgICAgIEBvdmVycmlkZVxyXG5cdCAgICAqL1xuXHQgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdCAgICAgIHZhciByb290ID0gdGhpcy5yb290RWxlbWVudDtcblx0ICAgICAgdmFyIHNlbGVjdGlvbiA9IHJvb3QuZ2V0U2VsZWN0aW9uICYmIHJvb3QuZ2V0U2VsZWN0aW9uKCk7XG5cdCAgICAgIHJldHVybiBzZWxlY3Rpb24gJiYgc2VsZWN0aW9uLmFuY2hvck9mZnNldDtcblx0ICAgIH1cblx0ICAgIC8qKlxyXG5cdCAgICAgIFJldHVybnMgSFRNTEVsZW1lbnQgc2VsZWN0aW9uIGVuZFxyXG5cdCAgICAgIEBvdmVycmlkZVxyXG5cdCAgICAqL1xuXG5cdCAgfSwge1xuXHQgICAga2V5OiBcIl91bnNhZmVTZWxlY3Rpb25FbmRcIixcblx0ICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgICB2YXIgcm9vdCA9IHRoaXMucm9vdEVsZW1lbnQ7XG5cdCAgICAgIHZhciBzZWxlY3Rpb24gPSByb290LmdldFNlbGVjdGlvbiAmJiByb290LmdldFNlbGVjdGlvbigpO1xuXHQgICAgICByZXR1cm4gc2VsZWN0aW9uICYmIHRoaXMuX3Vuc2FmZVNlbGVjdGlvblN0YXJ0ICsgU3RyaW5nKHNlbGVjdGlvbikubGVuZ3RoO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJ2YWx1ZVwiLFxuXHQgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdCAgICAgIC8vICRGbG93Rml4TWVcblx0ICAgICAgcmV0dXJuIHRoaXMuaW5wdXQudGV4dENvbnRlbnQ7XG5cdCAgICB9LFxuXHQgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcblx0ICAgICAgdGhpcy5pbnB1dC50ZXh0Q29udGVudCA9IHZhbHVlO1xuXHQgICAgfVxuXHQgIH1dKTtcblxuXHQgIHJldHVybiBIVE1MQ29udGVudGVkaXRhYmxlTWFza0VsZW1lbnQ7XG5cdH0oSFRNTE1hc2tFbGVtZW50KTtcblx0SU1hc2suSFRNTENvbnRlbnRlZGl0YWJsZU1hc2tFbGVtZW50ID0gSFRNTENvbnRlbnRlZGl0YWJsZU1hc2tFbGVtZW50O1xuXG5cdC8qKiBMaXN0ZW5zIHRvIGVsZW1lbnQgZXZlbnRzIGFuZCBjb250cm9scyBjaGFuZ2VzIGJldHdlZW4gZWxlbWVudCBhbmQge0BsaW5rIE1hc2tlZH0gKi9cblxuXHR2YXIgSW5wdXRNYXNrID1cblx0LyojX19QVVJFX18qL1xuXHRmdW5jdGlvbiAoKSB7XG5cdCAgLyoqXHJcblx0ICAgIFZpZXcgZWxlbWVudFxyXG5cdCAgICBAcmVhZG9ubHlcclxuXHQgICovXG5cblx0ICAvKipcclxuXHQgICAgSW50ZXJuYWwge0BsaW5rIE1hc2tlZH0gbW9kZWxcclxuXHQgICAgQHJlYWRvbmx5XHJcblx0ICAqL1xuXG5cdCAgLyoqXHJcblx0ICAgIEBwYXJhbSB7TWFza0VsZW1lbnR8SFRNTElucHV0RWxlbWVudHxIVE1MVGV4dEFyZWFFbGVtZW50fSBlbFxyXG5cdCAgICBAcGFyYW0ge09iamVjdH0gb3B0c1xyXG5cdCAgKi9cblx0ICBmdW5jdGlvbiBJbnB1dE1hc2soZWwsIG9wdHMpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBJbnB1dE1hc2spO1xuXG5cdCAgICB0aGlzLmVsID0gZWwgaW5zdGFuY2VvZiBNYXNrRWxlbWVudCA/IGVsIDogZWwuaXNDb250ZW50RWRpdGFibGUgJiYgZWwudGFnTmFtZSAhPT0gJ0lOUFVUJyAmJiBlbC50YWdOYW1lICE9PSAnVEVYVEFSRUEnID8gbmV3IEhUTUxDb250ZW50ZWRpdGFibGVNYXNrRWxlbWVudChlbCkgOiBuZXcgSFRNTE1hc2tFbGVtZW50KGVsKTtcblx0ICAgIHRoaXMubWFza2VkID0gY3JlYXRlTWFzayhvcHRzKTtcblx0ICAgIHRoaXMuX2xpc3RlbmVycyA9IHt9O1xuXHQgICAgdGhpcy5fdmFsdWUgPSAnJztcblx0ICAgIHRoaXMuX3VubWFza2VkVmFsdWUgPSAnJztcblx0ICAgIHRoaXMuX3NhdmVTZWxlY3Rpb24gPSB0aGlzLl9zYXZlU2VsZWN0aW9uLmJpbmQodGhpcyk7XG5cdCAgICB0aGlzLl9vbklucHV0ID0gdGhpcy5fb25JbnB1dC5iaW5kKHRoaXMpO1xuXHQgICAgdGhpcy5fb25DaGFuZ2UgPSB0aGlzLl9vbkNoYW5nZS5iaW5kKHRoaXMpO1xuXHQgICAgdGhpcy5fb25Ecm9wID0gdGhpcy5fb25Ecm9wLmJpbmQodGhpcyk7XG5cdCAgICB0aGlzLl9vbkZvY3VzID0gdGhpcy5fb25Gb2N1cy5iaW5kKHRoaXMpO1xuXHQgICAgdGhpcy5fb25DbGljayA9IHRoaXMuX29uQ2xpY2suYmluZCh0aGlzKTtcblx0ICAgIHRoaXMuYWxpZ25DdXJzb3IgPSB0aGlzLmFsaWduQ3Vyc29yLmJpbmQodGhpcyk7XG5cdCAgICB0aGlzLmFsaWduQ3Vyc29yRnJpZW5kbHkgPSB0aGlzLmFsaWduQ3Vyc29yRnJpZW5kbHkuYmluZCh0aGlzKTtcblxuXHQgICAgdGhpcy5fYmluZEV2ZW50cygpOyAvLyByZWZyZXNoXG5cblxuXHQgICAgdGhpcy51cGRhdGVWYWx1ZSgpO1xuXG5cdCAgICB0aGlzLl9vbkNoYW5nZSgpO1xuXHQgIH1cblx0ICAvKiogUmVhZCBvciB1cGRhdGUgbWFzayAqL1xuXG5cblx0ICBfY3JlYXRlQ2xhc3MoSW5wdXRNYXNrLCBbe1xuXHQgICAga2V5OiBcIm1hc2tFcXVhbHNcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBtYXNrRXF1YWxzKG1hc2spIHtcblx0ICAgICAgcmV0dXJuIG1hc2sgPT0gbnVsbCB8fCBtYXNrID09PSB0aGlzLm1hc2tlZC5tYXNrIHx8IG1hc2sgPT09IERhdGUgJiYgdGhpcy5tYXNrZWQgaW5zdGFuY2VvZiBNYXNrZWREYXRlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJfYmluZEV2ZW50c1wiLFxuXG5cdCAgICAvKipcclxuXHQgICAgICBTdGFydHMgbGlzdGVuaW5nIHRvIGVsZW1lbnQgZXZlbnRzXHJcblx0ICAgICAgQHByb3RlY3RlZFxyXG5cdCAgICAqL1xuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9iaW5kRXZlbnRzKCkge1xuXHQgICAgICB0aGlzLmVsLmJpbmRFdmVudHMoe1xuXHQgICAgICAgIHNlbGVjdGlvbkNoYW5nZTogdGhpcy5fc2F2ZVNlbGVjdGlvbixcblx0ICAgICAgICBpbnB1dDogdGhpcy5fb25JbnB1dCxcblx0ICAgICAgICBkcm9wOiB0aGlzLl9vbkRyb3AsXG5cdCAgICAgICAgY2xpY2s6IHRoaXMuX29uQ2xpY2ssXG5cdCAgICAgICAgZm9jdXM6IHRoaXMuX29uRm9jdXMsXG5cdCAgICAgICAgY29tbWl0OiB0aGlzLl9vbkNoYW5nZVxuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICAgIC8qKlxyXG5cdCAgICAgIFN0b3BzIGxpc3RlbmluZyB0byBlbGVtZW50IGV2ZW50c1xyXG5cdCAgICAgIEBwcm90ZWN0ZWRcclxuXHQgICAgICovXG5cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiX3VuYmluZEV2ZW50c1wiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF91bmJpbmRFdmVudHMoKSB7XG5cdCAgICAgIGlmICh0aGlzLmVsKSB0aGlzLmVsLnVuYmluZEV2ZW50cygpO1xuXHQgICAgfVxuXHQgICAgLyoqXHJcblx0ICAgICAgRmlyZXMgY3VzdG9tIGV2ZW50XHJcblx0ICAgICAgQHByb3RlY3RlZFxyXG5cdCAgICAgKi9cblxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJfZmlyZUV2ZW50XCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2ZpcmVFdmVudChldikge1xuXHQgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG5cdCAgICAgICAgYXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG5cdCAgICAgIH1cblxuXHQgICAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzW2V2XTtcblx0ICAgICAgaWYgKCFsaXN0ZW5lcnMpIHJldHVybjtcblx0ICAgICAgbGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24gKGwpIHtcblx0ICAgICAgICByZXR1cm4gbC5hcHBseSh2b2lkIDAsIGFyZ3MpO1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICAgIC8qKlxyXG5cdCAgICAgIEN1cnJlbnQgc2VsZWN0aW9uIHN0YXJ0XHJcblx0ICAgICAgQHJlYWRvbmx5XHJcblx0ICAgICovXG5cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiX3NhdmVTZWxlY3Rpb25cIixcblxuXHQgICAgLyoqXHJcblx0ICAgICAgU3RvcmVzIGN1cnJlbnQgc2VsZWN0aW9uXHJcblx0ICAgICAgQHByb3RlY3RlZFxyXG5cdCAgICAqL1xuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9zYXZlU2VsZWN0aW9uKClcblx0ICAgIC8qIGV2ICovXG5cdCAgICB7XG5cdCAgICAgIGlmICh0aGlzLnZhbHVlICE9PSB0aGlzLmVsLnZhbHVlKSB7XG5cdCAgICAgICAgY29uc29sZS53YXJuKCdFbGVtZW50IHZhbHVlIHdhcyBjaGFuZ2VkIG91dHNpZGUgb2YgbWFzay4gU3luY3Jvbml6ZSBtYXNrIHVzaW5nIGBtYXNrLnVwZGF0ZVZhbHVlKClgIHRvIHdvcmsgcHJvcGVybHkuJyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuXHQgICAgICB9XG5cblx0ICAgICAgdGhpcy5fc2VsZWN0aW9uID0ge1xuXHQgICAgICAgIHN0YXJ0OiB0aGlzLnNlbGVjdGlvblN0YXJ0LFxuXHQgICAgICAgIGVuZDogdGhpcy5jdXJzb3JQb3Ncblx0ICAgICAgfTtcblx0ICAgIH1cblx0ICAgIC8qKiBTeW5jcm9uaXplcyBtb2RlbCB2YWx1ZSBmcm9tIHZpZXcgKi9cblxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJ1cGRhdGVWYWx1ZVwiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZVZhbHVlKCkge1xuXHQgICAgICB0aGlzLm1hc2tlZC52YWx1ZSA9IHRoaXMuZWwudmFsdWU7XG5cdCAgICAgIHRoaXMuX3ZhbHVlID0gdGhpcy5tYXNrZWQudmFsdWU7XG5cdCAgICB9XG5cdCAgICAvKiogU3luY3Jvbml6ZXMgdmlldyBmcm9tIG1vZGVsIHZhbHVlLCBmaXJlcyBjaGFuZ2UgZXZlbnRzICovXG5cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwidXBkYXRlQ29udHJvbFwiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZUNvbnRyb2woKSB7XG5cdCAgICAgIHZhciBuZXdVbm1hc2tlZFZhbHVlID0gdGhpcy5tYXNrZWQudW5tYXNrZWRWYWx1ZTtcblx0ICAgICAgdmFyIG5ld1ZhbHVlID0gdGhpcy5tYXNrZWQudmFsdWU7XG5cdCAgICAgIHZhciBpc0NoYW5nZWQgPSB0aGlzLnVubWFza2VkVmFsdWUgIT09IG5ld1VubWFza2VkVmFsdWUgfHwgdGhpcy52YWx1ZSAhPT0gbmV3VmFsdWU7XG5cdCAgICAgIHRoaXMuX3VubWFza2VkVmFsdWUgPSBuZXdVbm1hc2tlZFZhbHVlO1xuXHQgICAgICB0aGlzLl92YWx1ZSA9IG5ld1ZhbHVlO1xuXHQgICAgICBpZiAodGhpcy5lbC52YWx1ZSAhPT0gbmV3VmFsdWUpIHRoaXMuZWwudmFsdWUgPSBuZXdWYWx1ZTtcblx0ICAgICAgaWYgKGlzQ2hhbmdlZCkgdGhpcy5fZmlyZUNoYW5nZUV2ZW50cygpO1xuXHQgICAgfVxuXHQgICAgLyoqIFVwZGF0ZXMgb3B0aW9ucyB3aXRoIGRlZXAgZXF1YWwgY2hlY2ssIHJlY3JlYXRlcyBAe2xpbmsgTWFza2VkfSBtb2RlbCBpZiBtYXNrIHR5cGUgY2hhbmdlcyAqL1xuXG5cdCAgfSwge1xuXHQgICAga2V5OiBcInVwZGF0ZU9wdGlvbnNcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVPcHRpb25zKG9wdHMpIHtcblx0ICAgICAgdmFyIG1hc2sgPSBvcHRzLm1hc2ssXG5cdCAgICAgICAgICByZXN0T3B0cyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhvcHRzLCBbXCJtYXNrXCJdKTtcblxuXHQgICAgICB2YXIgdXBkYXRlTWFzayA9ICF0aGlzLm1hc2tFcXVhbHMobWFzayk7XG5cdCAgICAgIHZhciB1cGRhdGVPcHRzID0gIW9iamVjdEluY2x1ZGVzKHRoaXMubWFza2VkLCByZXN0T3B0cyk7XG5cdCAgICAgIGlmICh1cGRhdGVNYXNrKSB0aGlzLm1hc2sgPSBtYXNrO1xuXHQgICAgICBpZiAodXBkYXRlT3B0cykgdGhpcy5tYXNrZWQudXBkYXRlT3B0aW9ucyhyZXN0T3B0cyk7XG5cdCAgICAgIGlmICh1cGRhdGVNYXNrIHx8IHVwZGF0ZU9wdHMpIHRoaXMudXBkYXRlQ29udHJvbCgpO1xuXHQgICAgfVxuXHQgICAgLyoqIFVwZGF0ZXMgY3Vyc29yICovXG5cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwidXBkYXRlQ3Vyc29yXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlQ3Vyc29yKGN1cnNvclBvcykge1xuXHQgICAgICBpZiAoY3Vyc29yUG9zID09IG51bGwpIHJldHVybjtcblx0ICAgICAgdGhpcy5jdXJzb3JQb3MgPSBjdXJzb3JQb3M7IC8vIGFsc28gcXVldWUgY2hhbmdlIGN1cnNvciBmb3IgbW9iaWxlIGJyb3dzZXJzXG5cblx0ICAgICAgdGhpcy5fZGVsYXlVcGRhdGVDdXJzb3IoY3Vyc29yUG9zKTtcblx0ICAgIH1cblx0ICAgIC8qKlxyXG5cdCAgICAgIERlbGF5cyBjdXJzb3IgdXBkYXRlIHRvIHN1cHBvcnQgbW9iaWxlIGJyb3dzZXJzXHJcblx0ICAgICAgQHByaXZhdGVcclxuXHQgICAgKi9cblxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJfZGVsYXlVcGRhdGVDdXJzb3JcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfZGVsYXlVcGRhdGVDdXJzb3IoY3Vyc29yUG9zKSB7XG5cdCAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cblx0ICAgICAgdGhpcy5fYWJvcnRVcGRhdGVDdXJzb3IoKTtcblxuXHQgICAgICB0aGlzLl9jaGFuZ2luZ0N1cnNvclBvcyA9IGN1cnNvclBvcztcblx0ICAgICAgdGhpcy5fY3Vyc29yQ2hhbmdpbmcgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICBpZiAoIV90aGlzLmVsKSByZXR1cm47IC8vIGlmIHdhcyBkZXN0cm95ZWRcblxuXHQgICAgICAgIF90aGlzLmN1cnNvclBvcyA9IF90aGlzLl9jaGFuZ2luZ0N1cnNvclBvcztcblxuXHQgICAgICAgIF90aGlzLl9hYm9ydFVwZGF0ZUN1cnNvcigpO1xuXHQgICAgICB9LCAxMCk7XG5cdCAgICB9XG5cdCAgICAvKipcclxuXHQgICAgICBGaXJlcyBjdXN0b20gZXZlbnRzXHJcblx0ICAgICAgQHByb3RlY3RlZFxyXG5cdCAgICAqL1xuXG5cdCAgfSwge1xuXHQgICAga2V5OiBcIl9maXJlQ2hhbmdlRXZlbnRzXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2ZpcmVDaGFuZ2VFdmVudHMoKSB7XG5cdCAgICAgIHRoaXMuX2ZpcmVFdmVudCgnYWNjZXB0JywgdGhpcy5faW5wdXRFdmVudCk7XG5cblx0ICAgICAgaWYgKHRoaXMubWFza2VkLmlzQ29tcGxldGUpIHRoaXMuX2ZpcmVFdmVudCgnY29tcGxldGUnLCB0aGlzLl9pbnB1dEV2ZW50KTtcblx0ICAgIH1cblx0ICAgIC8qKlxyXG5cdCAgICAgIEFib3J0cyBkZWxheWVkIGN1cnNvciB1cGRhdGVcclxuXHQgICAgICBAcHJpdmF0ZVxyXG5cdCAgICAqL1xuXG5cdCAgfSwge1xuXHQgICAga2V5OiBcIl9hYm9ydFVwZGF0ZUN1cnNvclwiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9hYm9ydFVwZGF0ZUN1cnNvcigpIHtcblx0ICAgICAgaWYgKHRoaXMuX2N1cnNvckNoYW5naW5nKSB7XG5cdCAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2N1cnNvckNoYW5naW5nKTtcblx0ICAgICAgICBkZWxldGUgdGhpcy5fY3Vyc29yQ2hhbmdpbmc7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIC8qKiBBbGlnbnMgY3Vyc29yIHRvIG5lYXJlc3QgYXZhaWxhYmxlIHBvc2l0aW9uICovXG5cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiYWxpZ25DdXJzb3JcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBhbGlnbkN1cnNvcigpIHtcblx0ICAgICAgdGhpcy5jdXJzb3JQb3MgPSB0aGlzLm1hc2tlZC5uZWFyZXN0SW5wdXRQb3ModGhpcy5jdXJzb3JQb3MsIERJUkVDVElPTi5MRUZUKTtcblx0ICAgIH1cblx0ICAgIC8qKiBBbGlnbnMgY3Vyc29yIG9ubHkgaWYgc2VsZWN0aW9uIGlzIGVtcHR5ICovXG5cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiYWxpZ25DdXJzb3JGcmllbmRseVwiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGFsaWduQ3Vyc29yRnJpZW5kbHkoKSB7XG5cdCAgICAgIGlmICh0aGlzLnNlbGVjdGlvblN0YXJ0ICE9PSB0aGlzLmN1cnNvclBvcykgcmV0dXJuOyAvLyBza2lwIGlmIHJhbmdlIGlzIHNlbGVjdGVkXG5cblx0ICAgICAgdGhpcy5hbGlnbkN1cnNvcigpO1xuXHQgICAgfVxuXHQgICAgLyoqIEFkZHMgbGlzdGVuZXIgb24gY3VzdG9tIGV2ZW50ICovXG5cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwib25cIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBvbihldiwgaGFuZGxlcikge1xuXHQgICAgICBpZiAoIXRoaXMuX2xpc3RlbmVyc1tldl0pIHRoaXMuX2xpc3RlbmVyc1tldl0gPSBbXTtcblxuXHQgICAgICB0aGlzLl9saXN0ZW5lcnNbZXZdLnB1c2goaGFuZGxlcik7XG5cblx0ICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9XG5cdCAgICAvKiogUmVtb3ZlcyBjdXN0b20gZXZlbnQgbGlzdGVuZXIgKi9cblxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJvZmZcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBvZmYoZXYsIGhhbmRsZXIpIHtcblx0ICAgICAgaWYgKCF0aGlzLl9saXN0ZW5lcnNbZXZdKSByZXR1cm4gdGhpcztcblxuXHQgICAgICBpZiAoIWhhbmRsZXIpIHtcblx0ICAgICAgICBkZWxldGUgdGhpcy5fbGlzdGVuZXJzW2V2XTtcblx0ICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgICAgfVxuXG5cdCAgICAgIHZhciBoSW5kZXggPSB0aGlzLl9saXN0ZW5lcnNbZXZdLmluZGV4T2YoaGFuZGxlcik7XG5cblx0ICAgICAgaWYgKGhJbmRleCA+PSAwKSB0aGlzLl9saXN0ZW5lcnNbZXZdLnNwbGljZShoSW5kZXgsIDEpO1xuXHQgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH1cblx0ICAgIC8qKiBIYW5kbGVzIHZpZXcgaW5wdXQgZXZlbnQgKi9cblxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJfb25JbnB1dFwiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9vbklucHV0KGUpIHtcblx0ICAgICAgdGhpcy5faW5wdXRFdmVudCA9IGU7XG5cblx0ICAgICAgdGhpcy5fYWJvcnRVcGRhdGVDdXJzb3IoKTsgLy8gZml4IHN0cmFuZ2UgSUUgYmVoYXZpb3JcblxuXG5cdCAgICAgIGlmICghdGhpcy5fc2VsZWN0aW9uKSByZXR1cm4gdGhpcy51cGRhdGVWYWx1ZSgpO1xuXHQgICAgICB2YXIgZGV0YWlscyA9IG5ldyBBY3Rpb25EZXRhaWxzKCAvLyBuZXcgc3RhdGVcblx0ICAgICAgdGhpcy5lbC52YWx1ZSwgdGhpcy5jdXJzb3JQb3MsIC8vIG9sZCBzdGF0ZVxuXHQgICAgICB0aGlzLnZhbHVlLCB0aGlzLl9zZWxlY3Rpb24pO1xuXHQgICAgICB2YXIgb2xkUmF3VmFsdWUgPSB0aGlzLm1hc2tlZC5yYXdJbnB1dFZhbHVlO1xuXHQgICAgICB2YXIgb2Zmc2V0ID0gdGhpcy5tYXNrZWQuc3BsaWNlKGRldGFpbHMuc3RhcnRDaGFuZ2VQb3MsIGRldGFpbHMucmVtb3ZlZC5sZW5ndGgsIGRldGFpbHMuaW5zZXJ0ZWQsIGRldGFpbHMucmVtb3ZlRGlyZWN0aW9uKS5vZmZzZXQ7IC8vIGZvcmNlIGFsaWduIGluIHJlbW92ZSBkaXJlY3Rpb24gb25seSBpZiBubyBpbnB1dCBjaGFycyB3ZXJlIHJlbW92ZWRcblx0ICAgICAgLy8gb3RoZXJ3aXNlIHdlIHN0aWxsIG5lZWQgdG8gYWxpZ24gd2l0aCBOT05FICh0byBnZXQgb3V0IGZyb20gZml4ZWQgc3ltYm9scyBmb3IgaW5zdGFuY2UpXG5cblx0ICAgICAgdmFyIHJlbW92ZURpcmVjdGlvbiA9IG9sZFJhd1ZhbHVlID09PSB0aGlzLm1hc2tlZC5yYXdJbnB1dFZhbHVlID8gZGV0YWlscy5yZW1vdmVEaXJlY3Rpb24gOiBESVJFQ1RJT04uTk9ORTtcblx0ICAgICAgdmFyIGN1cnNvclBvcyA9IHRoaXMubWFza2VkLm5lYXJlc3RJbnB1dFBvcyhkZXRhaWxzLnN0YXJ0Q2hhbmdlUG9zICsgb2Zmc2V0LCByZW1vdmVEaXJlY3Rpb24pO1xuXHQgICAgICB0aGlzLnVwZGF0ZUNvbnRyb2woKTtcblx0ICAgICAgdGhpcy51cGRhdGVDdXJzb3IoY3Vyc29yUG9zKTtcblx0ICAgICAgZGVsZXRlIHRoaXMuX2lucHV0RXZlbnQ7XG5cdCAgICB9XG5cdCAgICAvKiogSGFuZGxlcyB2aWV3IGNoYW5nZSBldmVudCBhbmQgY29tbWl0cyBtb2RlbCB2YWx1ZSAqL1xuXG5cdCAgfSwge1xuXHQgICAga2V5OiBcIl9vbkNoYW5nZVwiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9vbkNoYW5nZSgpIHtcblx0ICAgICAgaWYgKHRoaXMudmFsdWUgIT09IHRoaXMuZWwudmFsdWUpIHtcblx0ICAgICAgICB0aGlzLnVwZGF0ZVZhbHVlKCk7XG5cdCAgICAgIH1cblxuXHQgICAgICB0aGlzLm1hc2tlZC5kb0NvbW1pdCgpO1xuXHQgICAgICB0aGlzLnVwZGF0ZUNvbnRyb2woKTtcblxuXHQgICAgICB0aGlzLl9zYXZlU2VsZWN0aW9uKCk7XG5cdCAgICB9XG5cdCAgICAvKiogSGFuZGxlcyB2aWV3IGRyb3AgZXZlbnQsIHByZXZlbnRzIGJ5IGRlZmF1bHQgKi9cblxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJfb25Ecm9wXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX29uRHJvcChldikge1xuXHQgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuXHQgICAgICBldi5zdG9wUHJvcGFnYXRpb24oKTtcblx0ICAgIH1cblx0ICAgIC8qKiBSZXN0b3JlIGxhc3Qgc2VsZWN0aW9uIG9uIGZvY3VzICovXG5cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiX29uRm9jdXNcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfb25Gb2N1cyhldikge1xuXHQgICAgICB0aGlzLmFsaWduQ3Vyc29yRnJpZW5kbHkoKTtcblx0ICAgIH1cblx0ICAgIC8qKiBSZXN0b3JlIGxhc3Qgc2VsZWN0aW9uIG9uIGZvY3VzICovXG5cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiX29uQ2xpY2tcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfb25DbGljayhldikge1xuXHQgICAgICB0aGlzLmFsaWduQ3Vyc29yRnJpZW5kbHkoKTtcblx0ICAgIH1cblx0ICAgIC8qKiBVbmJpbmQgdmlldyBldmVudHMgYW5kIHJlbW92ZXMgZWxlbWVudCByZWZlcmVuY2UgKi9cblxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJkZXN0cm95XCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveSgpIHtcblx0ICAgICAgdGhpcy5fdW5iaW5kRXZlbnRzKCk7IC8vICRGbG93Rml4TWUgd2h5IG5vdCBkbyBzbz9cblxuXG5cdCAgICAgIHRoaXMuX2xpc3RlbmVycy5sZW5ndGggPSAwOyAvLyAkRmxvd0ZpeE1lXG5cblx0ICAgICAgZGVsZXRlIHRoaXMuZWw7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiBcIm1hc2tcIixcblx0ICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5tYXNrZWQubWFzaztcblx0ICAgIH0sXG5cdCAgICBzZXQ6IGZ1bmN0aW9uIHNldChtYXNrKSB7XG5cdCAgICAgIGlmICh0aGlzLm1hc2tFcXVhbHMobWFzaykpIHJldHVybjtcblxuXHQgICAgICBpZiAoIShtYXNrIGluc3RhbmNlb2YgSU1hc2suTWFza2VkKSAmJiB0aGlzLm1hc2tlZC5jb25zdHJ1Y3RvciA9PT0gbWFza2VkQ2xhc3MobWFzaykpIHtcblx0ICAgICAgICB0aGlzLm1hc2tlZC51cGRhdGVPcHRpb25zKHtcblx0ICAgICAgICAgIG1hc2s6IG1hc2tcblx0ICAgICAgICB9KTtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblxuXHQgICAgICB2YXIgbWFza2VkID0gY3JlYXRlTWFzayh7XG5cdCAgICAgICAgbWFzazogbWFza1xuXHQgICAgICB9KTtcblx0ICAgICAgbWFza2VkLnVubWFza2VkVmFsdWUgPSB0aGlzLm1hc2tlZC51bm1hc2tlZFZhbHVlO1xuXHQgICAgICB0aGlzLm1hc2tlZCA9IG1hc2tlZDtcblx0ICAgIH1cblx0ICAgIC8qKiBSYXcgdmFsdWUgKi9cblxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJ2YWx1ZVwiLFxuXHQgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLl92YWx1ZTtcblx0ICAgIH0sXG5cdCAgICBzZXQ6IGZ1bmN0aW9uIHNldChzdHIpIHtcblx0ICAgICAgdGhpcy5tYXNrZWQudmFsdWUgPSBzdHI7XG5cdCAgICAgIHRoaXMudXBkYXRlQ29udHJvbCgpO1xuXHQgICAgICB0aGlzLmFsaWduQ3Vyc29yKCk7XG5cdCAgICB9XG5cdCAgICAvKiogVW5tYXNrZWQgdmFsdWUgKi9cblxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJ1bm1hc2tlZFZhbHVlXCIsXG5cdCAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuX3VubWFza2VkVmFsdWU7XG5cdCAgICB9LFxuXHQgICAgc2V0OiBmdW5jdGlvbiBzZXQoc3RyKSB7XG5cdCAgICAgIHRoaXMubWFza2VkLnVubWFza2VkVmFsdWUgPSBzdHI7XG5cdCAgICAgIHRoaXMudXBkYXRlQ29udHJvbCgpO1xuXHQgICAgICB0aGlzLmFsaWduQ3Vyc29yKCk7XG5cdCAgICB9XG5cdCAgICAvKiogVHlwZWQgdW5tYXNrZWQgdmFsdWUgKi9cblxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJ0eXBlZFZhbHVlXCIsXG5cdCAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMubWFza2VkLnR5cGVkVmFsdWU7XG5cdCAgICB9LFxuXHQgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsKSB7XG5cdCAgICAgIHRoaXMubWFza2VkLnR5cGVkVmFsdWUgPSB2YWw7XG5cdCAgICAgIHRoaXMudXBkYXRlQ29udHJvbCgpO1xuXHQgICAgICB0aGlzLmFsaWduQ3Vyc29yKCk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiBcInNlbGVjdGlvblN0YXJ0XCIsXG5cdCAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuX2N1cnNvckNoYW5naW5nID8gdGhpcy5fY2hhbmdpbmdDdXJzb3JQb3MgOiB0aGlzLmVsLnNlbGVjdGlvblN0YXJ0O1xuXHQgICAgfVxuXHQgICAgLyoqIEN1cnJlbnQgY3Vyc29yIHBvc2l0aW9uICovXG5cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiY3Vyc29yUG9zXCIsXG5cdCAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuX2N1cnNvckNoYW5naW5nID8gdGhpcy5fY2hhbmdpbmdDdXJzb3JQb3MgOiB0aGlzLmVsLnNlbGVjdGlvbkVuZDtcblx0ICAgIH0sXG5cdCAgICBzZXQ6IGZ1bmN0aW9uIHNldChwb3MpIHtcblx0ICAgICAgaWYgKCF0aGlzLmVsIHx8ICF0aGlzLmVsLmlzQWN0aXZlKSByZXR1cm47XG5cdCAgICAgIHRoaXMuZWwuc2VsZWN0KHBvcywgcG9zKTtcblxuXHQgICAgICB0aGlzLl9zYXZlU2VsZWN0aW9uKCk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXG5cdCAgcmV0dXJuIElucHV0TWFzaztcblx0fSgpO1xuXHRJTWFzay5JbnB1dE1hc2sgPSBJbnB1dE1hc2s7XG5cblx0LyoqIFBhdHRlcm4gd2hpY2ggdmFsaWRhdGVzIGVudW0gdmFsdWVzICovXG5cblx0dmFyIE1hc2tlZEVudW0gPVxuXHQvKiNfX1BVUkVfXyovXG5cdGZ1bmN0aW9uIChfTWFza2VkUGF0dGVybikge1xuXHQgIF9pbmhlcml0cyhNYXNrZWRFbnVtLCBfTWFza2VkUGF0dGVybik7XG5cblx0ICBmdW5jdGlvbiBNYXNrZWRFbnVtKCkge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1hc2tlZEVudW0pO1xuXG5cdCAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKE1hc2tlZEVudW0pLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXHQgIH1cblxuXHQgIF9jcmVhdGVDbGFzcyhNYXNrZWRFbnVtLCBbe1xuXHQgICAga2V5OiBcIl91cGRhdGVcIixcblxuXHQgICAgLyoqXHJcblx0ICAgICAgQG92ZXJyaWRlXHJcblx0ICAgICAgQHBhcmFtIHtPYmplY3R9IG9wdHNcclxuXHQgICAgKi9cblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfdXBkYXRlKG9wdHMpIHtcblx0ICAgICAgLy8gVE9ETyB0eXBlXG5cdCAgICAgIGlmIChvcHRzLmVudW0pIG9wdHMubWFzayA9ICcqJy5yZXBlYXQob3B0cy5lbnVtWzBdLmxlbmd0aCk7XG5cblx0ICAgICAgX2dldChfZ2V0UHJvdG90eXBlT2YoTWFza2VkRW51bS5wcm90b3R5cGUpLCBcIl91cGRhdGVcIiwgdGhpcykuY2FsbCh0aGlzLCBvcHRzKTtcblx0ICAgIH1cblx0ICAgIC8qKlxyXG5cdCAgICAgIEBvdmVycmlkZVxyXG5cdCAgICAqL1xuXG5cdCAgfSwge1xuXHQgICAga2V5OiBcImRvVmFsaWRhdGVcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBkb1ZhbGlkYXRlKCkge1xuXHQgICAgICB2YXIgX3RoaXMgPSB0aGlzLFxuXHQgICAgICAgICAgX2dldDI7XG5cblx0ICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG5cdCAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcblx0ICAgICAgfVxuXG5cdCAgICAgIHJldHVybiB0aGlzLmVudW0uc29tZShmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgIHJldHVybiBlLmluZGV4T2YoX3RoaXMudW5tYXNrZWRWYWx1ZSkgPj0gMDtcblx0ICAgICAgfSkgJiYgKF9nZXQyID0gX2dldChfZ2V0UHJvdG90eXBlT2YoTWFza2VkRW51bS5wcm90b3R5cGUpLCBcImRvVmFsaWRhdGVcIiwgdGhpcykpLmNhbGwuYXBwbHkoX2dldDIsIFt0aGlzXS5jb25jYXQoYXJncykpO1xuXHQgICAgfVxuXHQgIH1dKTtcblxuXHQgIHJldHVybiBNYXNrZWRFbnVtO1xuXHR9KE1hc2tlZFBhdHRlcm4pO1xuXHRJTWFzay5NYXNrZWRFbnVtID0gTWFza2VkRW51bTtcblxuXHQvKipcclxuXHQgIE51bWJlciBtYXNrXHJcblx0ICBAcGFyYW0ge09iamVjdH0gb3B0c1xyXG5cdCAgQHBhcmFtIHtzdHJpbmd9IG9wdHMucmFkaXggLSBTaW5nbGUgY2hhclxyXG5cdCAgQHBhcmFtIHtzdHJpbmd9IG9wdHMudGhvdXNhbmRzU2VwYXJhdG9yIC0gU2luZ2xlIGNoYXJcclxuXHQgIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gb3B0cy5tYXBUb1JhZGl4IC0gQXJyYXkgb2Ygc2luZ2xlIGNoYXJzXHJcblx0ICBAcGFyYW0ge251bWJlcn0gb3B0cy5taW5cclxuXHQgIEBwYXJhbSB7bnVtYmVyfSBvcHRzLm1heFxyXG5cdCAgQHBhcmFtIHtudW1iZXJ9IG9wdHMuc2NhbGUgLSBEaWdpdHMgYWZ0ZXIgcG9pbnRcclxuXHQgIEBwYXJhbSB7Ym9vbGVhbn0gb3B0cy5zaWduZWQgLSBBbGxvdyBuZWdhdGl2ZVxyXG5cdCAgQHBhcmFtIHtib29sZWFufSBvcHRzLm5vcm1hbGl6ZVplcm9zIC0gRmxhZyB0byByZW1vdmUgbGVhZGluZyBhbmQgdHJhaWxpbmcgemVyb3MgaW4gdGhlIGVuZCBvZiBlZGl0aW5nXHJcblx0ICBAcGFyYW0ge2Jvb2xlYW59IG9wdHMucGFkRnJhY3Rpb25hbFplcm9zIC0gRmxhZyB0byBwYWQgdHJhaWxpbmcgemVyb3MgYWZ0ZXIgcG9pbnQgaW4gdGhlIGVuZCBvZiBlZGl0aW5nXHJcblx0Ki9cblx0dmFyIE1hc2tlZE51bWJlciA9XG5cdC8qI19fUFVSRV9fKi9cblx0ZnVuY3Rpb24gKF9NYXNrZWQpIHtcblx0ICBfaW5oZXJpdHMoTWFza2VkTnVtYmVyLCBfTWFza2VkKTtcblxuXHQgIC8qKiBTaW5nbGUgY2hhciAqL1xuXG5cdCAgLyoqIFNpbmdsZSBjaGFyICovXG5cblx0ICAvKiogQXJyYXkgb2Ygc2luZ2xlIGNoYXJzICovXG5cblx0ICAvKiogKi9cblxuXHQgIC8qKiAqL1xuXG5cdCAgLyoqIERpZ2l0cyBhZnRlciBwb2ludCAqL1xuXG5cdCAgLyoqICovXG5cblx0ICAvKiogRmxhZyB0byByZW1vdmUgbGVhZGluZyBhbmQgdHJhaWxpbmcgemVyb3MgaW4gdGhlIGVuZCBvZiBlZGl0aW5nICovXG5cblx0ICAvKiogRmxhZyB0byBwYWQgdHJhaWxpbmcgemVyb3MgYWZ0ZXIgcG9pbnQgaW4gdGhlIGVuZCBvZiBlZGl0aW5nICovXG5cdCAgZnVuY3Rpb24gTWFza2VkTnVtYmVyKG9wdHMpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNYXNrZWROdW1iZXIpO1xuXG5cdCAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKE1hc2tlZE51bWJlcikuY2FsbCh0aGlzLCBPYmplY3QuYXNzaWduKHt9LCBNYXNrZWROdW1iZXIuREVGQVVMVFMsIHt9LCBvcHRzKSkpO1xuXHQgIH1cblx0ICAvKipcclxuXHQgICAgQG92ZXJyaWRlXHJcblx0ICAqL1xuXG5cblx0ICBfY3JlYXRlQ2xhc3MoTWFza2VkTnVtYmVyLCBbe1xuXHQgICAga2V5OiBcIl91cGRhdGVcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfdXBkYXRlKG9wdHMpIHtcblx0ICAgICAgX2dldChfZ2V0UHJvdG90eXBlT2YoTWFza2VkTnVtYmVyLnByb3RvdHlwZSksIFwiX3VwZGF0ZVwiLCB0aGlzKS5jYWxsKHRoaXMsIG9wdHMpO1xuXG5cdCAgICAgIHRoaXMuX3VwZGF0ZVJlZ0V4cHMoKTtcblx0ICAgIH1cblx0ICAgIC8qKiAqL1xuXG5cdCAgfSwge1xuXHQgICAga2V5OiBcIl91cGRhdGVSZWdFeHBzXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX3VwZGF0ZVJlZ0V4cHMoKSB7XG5cdCAgICAgIC8vIHVzZSBkaWZmZXJlbnQgcmVnZXhwIHRvIHByb2Nlc3MgdXNlciBpbnB1dCAobW9yZSBzdHJpY3QsIGlucHV0IHN1ZmZpeCkgYW5kIHRhaWwgc2hpZnRpbmdcblx0ICAgICAgdmFyIHN0YXJ0ID0gJ14nICsgKHRoaXMuYWxsb3dOZWdhdGl2ZSA/ICdbK3xcXFxcLV0/JyA6ICcnKTtcblx0ICAgICAgdmFyIG1pZElucHV0ID0gJygwfChbMS05XStcXFxcZCopKT8nO1xuXHQgICAgICB2YXIgbWlkID0gJ1xcXFxkKic7XG5cdCAgICAgIHZhciBlbmQgPSAodGhpcy5zY2FsZSA/ICcoJyArIGVzY2FwZVJlZ0V4cCh0aGlzLnJhZGl4KSArICdcXFxcZHswLCcgKyB0aGlzLnNjYWxlICsgJ30pPycgOiAnJykgKyAnJCc7XG5cdCAgICAgIHRoaXMuX251bWJlclJlZ0V4cElucHV0ID0gbmV3IFJlZ0V4cChzdGFydCArIG1pZElucHV0ICsgZW5kKTtcblx0ICAgICAgdGhpcy5fbnVtYmVyUmVnRXhwID0gbmV3IFJlZ0V4cChzdGFydCArIG1pZCArIGVuZCk7XG5cdCAgICAgIHRoaXMuX21hcFRvUmFkaXhSZWdFeHAgPSBuZXcgUmVnRXhwKCdbJyArIHRoaXMubWFwVG9SYWRpeC5tYXAoZXNjYXBlUmVnRXhwKS5qb2luKCcnKSArICddJywgJ2cnKTtcblx0ICAgICAgdGhpcy5fdGhvdXNhbmRzU2VwYXJhdG9yUmVnRXhwID0gbmV3IFJlZ0V4cChlc2NhcGVSZWdFeHAodGhpcy50aG91c2FuZHNTZXBhcmF0b3IpLCAnZycpO1xuXHQgICAgfVxuXHQgICAgLyoqICovXG5cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiX3JlbW92ZVRob3VzYW5kc1NlcGFyYXRvcnNcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVtb3ZlVGhvdXNhbmRzU2VwYXJhdG9ycyh2YWx1ZSkge1xuXHQgICAgICByZXR1cm4gdmFsdWUucmVwbGFjZSh0aGlzLl90aG91c2FuZHNTZXBhcmF0b3JSZWdFeHAsICcnKTtcblx0ICAgIH1cblx0ICAgIC8qKiAqL1xuXG5cdCAgfSwge1xuXHQgICAga2V5OiBcIl9pbnNlcnRUaG91c2FuZHNTZXBhcmF0b3JzXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2luc2VydFRob3VzYW5kc1NlcGFyYXRvcnModmFsdWUpIHtcblx0ICAgICAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMjkwMTEwMi9ob3ctdG8tcHJpbnQtYS1udW1iZXItd2l0aC1jb21tYXMtYXMtdGhvdXNhbmRzLXNlcGFyYXRvcnMtaW4tamF2YXNjcmlwdFxuXHQgICAgICB2YXIgcGFydHMgPSB2YWx1ZS5zcGxpdCh0aGlzLnJhZGl4KTtcblx0ICAgICAgcGFydHNbMF0gPSBwYXJ0c1swXS5yZXBsYWNlKC9cXEIoPz0oXFxkezN9KSsoPyFcXGQpKS9nLCB0aGlzLnRob3VzYW5kc1NlcGFyYXRvcik7XG5cdCAgICAgIHJldHVybiBwYXJ0cy5qb2luKHRoaXMucmFkaXgpO1xuXHQgICAgfVxuXHQgICAgLyoqXHJcblx0ICAgICAgQG92ZXJyaWRlXHJcblx0ICAgICovXG5cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiZG9QcmVwYXJlXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZG9QcmVwYXJlKHN0cikge1xuXHQgICAgICB2YXIgX2dldDI7XG5cblx0ICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuXHQgICAgICAgIGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuXHQgICAgICB9XG5cblx0ICAgICAgcmV0dXJuIChfZ2V0MiA9IF9nZXQoX2dldFByb3RvdHlwZU9mKE1hc2tlZE51bWJlci5wcm90b3R5cGUpLCBcImRvUHJlcGFyZVwiLCB0aGlzKSkuY2FsbC5hcHBseShfZ2V0MiwgW3RoaXMsIHRoaXMuX3JlbW92ZVRob3VzYW5kc1NlcGFyYXRvcnMoc3RyLnJlcGxhY2UodGhpcy5fbWFwVG9SYWRpeFJlZ0V4cCwgdGhpcy5yYWRpeCkpXS5jb25jYXQoYXJncykpO1xuXHQgICAgfVxuXHQgICAgLyoqICovXG5cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiX3NlcGFyYXRvcnNDb3VudFwiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXBhcmF0b3JzQ291bnQodG8pIHtcblx0ICAgICAgdmFyIGV4dGVuZE9uU2VwYXJhdG9ycyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7XG5cdCAgICAgIHZhciBjb3VudCA9IDA7XG5cblx0ICAgICAgZm9yICh2YXIgcG9zID0gMDsgcG9zIDwgdG87ICsrcG9zKSB7XG5cdCAgICAgICAgaWYgKHRoaXMuX3ZhbHVlLmluZGV4T2YodGhpcy50aG91c2FuZHNTZXBhcmF0b3IsIHBvcykgPT09IHBvcykge1xuXHQgICAgICAgICAgKytjb3VudDtcblx0ICAgICAgICAgIGlmIChleHRlbmRPblNlcGFyYXRvcnMpIHRvICs9IHRoaXMudGhvdXNhbmRzU2VwYXJhdG9yLmxlbmd0aDtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblxuXHQgICAgICByZXR1cm4gY291bnQ7XG5cdCAgICB9XG5cdCAgICAvKiogKi9cblxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJfc2VwYXJhdG9yc0NvdW50RnJvbVNsaWNlXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX3NlcGFyYXRvcnNDb3VudEZyb21TbGljZSgpIHtcblx0ICAgICAgdmFyIHNsaWNlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB0aGlzLl92YWx1ZTtcblx0ICAgICAgcmV0dXJuIHRoaXMuX3NlcGFyYXRvcnNDb3VudCh0aGlzLl9yZW1vdmVUaG91c2FuZHNTZXBhcmF0b3JzKHNsaWNlKS5sZW5ndGgsIHRydWUpO1xuXHQgICAgfVxuXHQgICAgLyoqXHJcblx0ICAgICAgQG92ZXJyaWRlXHJcblx0ICAgICovXG5cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiZXh0cmFjdElucHV0XCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZXh0cmFjdElucHV0KCkge1xuXHQgICAgICB2YXIgZnJvbVBvcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMDtcblx0ICAgICAgdmFyIHRvUG9zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB0aGlzLnZhbHVlLmxlbmd0aDtcblx0ICAgICAgdmFyIGZsYWdzID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgPyBhcmd1bWVudHNbMl0gOiB1bmRlZmluZWQ7XG5cblx0ICAgICAgdmFyIF90aGlzJF9hZGp1c3RSYW5nZVdpdCA9IHRoaXMuX2FkanVzdFJhbmdlV2l0aFNlcGFyYXRvcnMoZnJvbVBvcywgdG9Qb3MpO1xuXG5cdCAgICAgIHZhciBfdGhpcyRfYWRqdXN0UmFuZ2VXaXQyID0gX3NsaWNlZFRvQXJyYXkoX3RoaXMkX2FkanVzdFJhbmdlV2l0LCAyKTtcblxuXHQgICAgICBmcm9tUG9zID0gX3RoaXMkX2FkanVzdFJhbmdlV2l0MlswXTtcblx0ICAgICAgdG9Qb3MgPSBfdGhpcyRfYWRqdXN0UmFuZ2VXaXQyWzFdO1xuXHQgICAgICByZXR1cm4gdGhpcy5fcmVtb3ZlVGhvdXNhbmRzU2VwYXJhdG9ycyhfZ2V0KF9nZXRQcm90b3R5cGVPZihNYXNrZWROdW1iZXIucHJvdG90eXBlKSwgXCJleHRyYWN0SW5wdXRcIiwgdGhpcykuY2FsbCh0aGlzLCBmcm9tUG9zLCB0b1BvcywgZmxhZ3MpKTtcblx0ICAgIH1cblx0ICAgIC8qKlxyXG5cdCAgICAgIEBvdmVycmlkZVxyXG5cdCAgICAqL1xuXG5cdCAgfSwge1xuXHQgICAga2V5OiBcIl9hcHBlbmRDaGFyUmF3XCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2FwcGVuZENoYXJSYXcoY2gpIHtcblx0ICAgICAgdmFyIGZsYWdzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcblx0ICAgICAgaWYgKCF0aGlzLnRob3VzYW5kc1NlcGFyYXRvcikgcmV0dXJuIF9nZXQoX2dldFByb3RvdHlwZU9mKE1hc2tlZE51bWJlci5wcm90b3R5cGUpLCBcIl9hcHBlbmRDaGFyUmF3XCIsIHRoaXMpLmNhbGwodGhpcywgY2gsIGZsYWdzKTtcblx0ICAgICAgdmFyIHByZXZCZWZvcmVUYWlsVmFsdWUgPSBmbGFncy50YWlsICYmIGZsYWdzLl9iZWZvcmVUYWlsU3RhdGUgPyBmbGFncy5fYmVmb3JlVGFpbFN0YXRlLl92YWx1ZSA6IHRoaXMuX3ZhbHVlO1xuXG5cdCAgICAgIHZhciBwcmV2QmVmb3JlVGFpbFNlcGFyYXRvcnNDb3VudCA9IHRoaXMuX3NlcGFyYXRvcnNDb3VudEZyb21TbGljZShwcmV2QmVmb3JlVGFpbFZhbHVlKTtcblxuXHQgICAgICB0aGlzLl92YWx1ZSA9IHRoaXMuX3JlbW92ZVRob3VzYW5kc1NlcGFyYXRvcnModGhpcy52YWx1ZSk7XG5cblx0ICAgICAgdmFyIGFwcGVuZERldGFpbHMgPSBfZ2V0KF9nZXRQcm90b3R5cGVPZihNYXNrZWROdW1iZXIucHJvdG90eXBlKSwgXCJfYXBwZW5kQ2hhclJhd1wiLCB0aGlzKS5jYWxsKHRoaXMsIGNoLCBmbGFncyk7XG5cblx0ICAgICAgdGhpcy5fdmFsdWUgPSB0aGlzLl9pbnNlcnRUaG91c2FuZHNTZXBhcmF0b3JzKHRoaXMuX3ZhbHVlKTtcblx0ICAgICAgdmFyIGJlZm9yZVRhaWxWYWx1ZSA9IGZsYWdzLnRhaWwgJiYgZmxhZ3MuX2JlZm9yZVRhaWxTdGF0ZSA/IGZsYWdzLl9iZWZvcmVUYWlsU3RhdGUuX3ZhbHVlIDogdGhpcy5fdmFsdWU7XG5cblx0ICAgICAgdmFyIGJlZm9yZVRhaWxTZXBhcmF0b3JzQ291bnQgPSB0aGlzLl9zZXBhcmF0b3JzQ291bnRGcm9tU2xpY2UoYmVmb3JlVGFpbFZhbHVlKTtcblxuXHQgICAgICBhcHBlbmREZXRhaWxzLnRhaWxTaGlmdCArPSAoYmVmb3JlVGFpbFNlcGFyYXRvcnNDb3VudCAtIHByZXZCZWZvcmVUYWlsU2VwYXJhdG9yc0NvdW50KSAqIHRoaXMudGhvdXNhbmRzU2VwYXJhdG9yLmxlbmd0aDtcblx0ICAgICAgYXBwZW5kRGV0YWlscy5za2lwID0gIWFwcGVuZERldGFpbHMucmF3SW5zZXJ0ZWQgJiYgY2ggPT09IHRoaXMudGhvdXNhbmRzU2VwYXJhdG9yO1xuXHQgICAgICByZXR1cm4gYXBwZW5kRGV0YWlscztcblx0ICAgIH1cblx0ICAgIC8qKiAqL1xuXG5cdCAgfSwge1xuXHQgICAga2V5OiBcIl9maW5kU2VwYXJhdG9yQXJvdW5kXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2ZpbmRTZXBhcmF0b3JBcm91bmQocG9zKSB7XG5cdCAgICAgIGlmICh0aGlzLnRob3VzYW5kc1NlcGFyYXRvcikge1xuXHQgICAgICAgIHZhciBzZWFyY2hGcm9tID0gcG9zIC0gdGhpcy50aG91c2FuZHNTZXBhcmF0b3IubGVuZ3RoICsgMTtcblx0ICAgICAgICB2YXIgc2VwYXJhdG9yUG9zID0gdGhpcy52YWx1ZS5pbmRleE9mKHRoaXMudGhvdXNhbmRzU2VwYXJhdG9yLCBzZWFyY2hGcm9tKTtcblx0ICAgICAgICBpZiAoc2VwYXJhdG9yUG9zIDw9IHBvcykgcmV0dXJuIHNlcGFyYXRvclBvcztcblx0ICAgICAgfVxuXG5cdCAgICAgIHJldHVybiAtMTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiX2FkanVzdFJhbmdlV2l0aFNlcGFyYXRvcnNcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfYWRqdXN0UmFuZ2VXaXRoU2VwYXJhdG9ycyhmcm9tLCB0bykge1xuXHQgICAgICB2YXIgc2VwYXJhdG9yQXJvdW5kRnJvbVBvcyA9IHRoaXMuX2ZpbmRTZXBhcmF0b3JBcm91bmQoZnJvbSk7XG5cblx0ICAgICAgaWYgKHNlcGFyYXRvckFyb3VuZEZyb21Qb3MgPj0gMCkgZnJvbSA9IHNlcGFyYXRvckFyb3VuZEZyb21Qb3M7XG5cblx0ICAgICAgdmFyIHNlcGFyYXRvckFyb3VuZFRvUG9zID0gdGhpcy5fZmluZFNlcGFyYXRvckFyb3VuZCh0byk7XG5cblx0ICAgICAgaWYgKHNlcGFyYXRvckFyb3VuZFRvUG9zID49IDApIHRvID0gc2VwYXJhdG9yQXJvdW5kVG9Qb3MgKyB0aGlzLnRob3VzYW5kc1NlcGFyYXRvci5sZW5ndGg7XG5cdCAgICAgIHJldHVybiBbZnJvbSwgdG9dO1xuXHQgICAgfVxuXHQgICAgLyoqXHJcblx0ICAgICAgQG92ZXJyaWRlXHJcblx0ICAgICovXG5cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwicmVtb3ZlXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xuXHQgICAgICB2YXIgZnJvbVBvcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMDtcblx0ICAgICAgdmFyIHRvUG9zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB0aGlzLnZhbHVlLmxlbmd0aDtcblxuXHQgICAgICB2YXIgX3RoaXMkX2FkanVzdFJhbmdlV2l0MyA9IHRoaXMuX2FkanVzdFJhbmdlV2l0aFNlcGFyYXRvcnMoZnJvbVBvcywgdG9Qb3MpO1xuXG5cdCAgICAgIHZhciBfdGhpcyRfYWRqdXN0UmFuZ2VXaXQ0ID0gX3NsaWNlZFRvQXJyYXkoX3RoaXMkX2FkanVzdFJhbmdlV2l0MywgMik7XG5cblx0ICAgICAgZnJvbVBvcyA9IF90aGlzJF9hZGp1c3RSYW5nZVdpdDRbMF07XG5cdCAgICAgIHRvUG9zID0gX3RoaXMkX2FkanVzdFJhbmdlV2l0NFsxXTtcblx0ICAgICAgdmFyIHZhbHVlQmVmb3JlUG9zID0gdGhpcy52YWx1ZS5zbGljZSgwLCBmcm9tUG9zKTtcblx0ICAgICAgdmFyIHZhbHVlQWZ0ZXJQb3MgPSB0aGlzLnZhbHVlLnNsaWNlKHRvUG9zKTtcblxuXHQgICAgICB2YXIgcHJldkJlZm9yZVRhaWxTZXBhcmF0b3JzQ291bnQgPSB0aGlzLl9zZXBhcmF0b3JzQ291bnQodmFsdWVCZWZvcmVQb3MubGVuZ3RoKTtcblxuXHQgICAgICB0aGlzLl92YWx1ZSA9IHRoaXMuX2luc2VydFRob3VzYW5kc1NlcGFyYXRvcnModGhpcy5fcmVtb3ZlVGhvdXNhbmRzU2VwYXJhdG9ycyh2YWx1ZUJlZm9yZVBvcyArIHZhbHVlQWZ0ZXJQb3MpKTtcblxuXHQgICAgICB2YXIgYmVmb3JlVGFpbFNlcGFyYXRvcnNDb3VudCA9IHRoaXMuX3NlcGFyYXRvcnNDb3VudEZyb21TbGljZSh2YWx1ZUJlZm9yZVBvcyk7XG5cblx0ICAgICAgcmV0dXJuIG5ldyBDaGFuZ2VEZXRhaWxzKHtcblx0ICAgICAgICB0YWlsU2hpZnQ6IChiZWZvcmVUYWlsU2VwYXJhdG9yc0NvdW50IC0gcHJldkJlZm9yZVRhaWxTZXBhcmF0b3JzQ291bnQpICogdGhpcy50aG91c2FuZHNTZXBhcmF0b3IubGVuZ3RoXG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgICAgLyoqXHJcblx0ICAgICAgQG92ZXJyaWRlXHJcblx0ICAgICovXG5cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwibmVhcmVzdElucHV0UG9zXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gbmVhcmVzdElucHV0UG9zKGN1cnNvclBvcywgZGlyZWN0aW9uKSB7XG5cdCAgICAgIGlmICghdGhpcy50aG91c2FuZHNTZXBhcmF0b3IpIHJldHVybiBjdXJzb3JQb3M7XG5cblx0ICAgICAgc3dpdGNoIChkaXJlY3Rpb24pIHtcblx0ICAgICAgICBjYXNlIERJUkVDVElPTi5OT05FOlxuXHQgICAgICAgIGNhc2UgRElSRUNUSU9OLkxFRlQ6XG5cdCAgICAgICAgY2FzZSBESVJFQ1RJT04uRk9SQ0VfTEVGVDpcblx0ICAgICAgICAgIHtcblx0ICAgICAgICAgICAgdmFyIHNlcGFyYXRvckF0TGVmdFBvcyA9IHRoaXMuX2ZpbmRTZXBhcmF0b3JBcm91bmQoY3Vyc29yUG9zIC0gMSk7XG5cblx0ICAgICAgICAgICAgaWYgKHNlcGFyYXRvckF0TGVmdFBvcyA+PSAwKSB7XG5cdCAgICAgICAgICAgICAgdmFyIHNlcGFyYXRvckF0TGVmdEVuZFBvcyA9IHNlcGFyYXRvckF0TGVmdFBvcyArIHRoaXMudGhvdXNhbmRzU2VwYXJhdG9yLmxlbmd0aDtcblxuXHQgICAgICAgICAgICAgIGlmIChjdXJzb3JQb3MgPCBzZXBhcmF0b3JBdExlZnRFbmRQb3MgfHwgdGhpcy52YWx1ZS5sZW5ndGggPD0gc2VwYXJhdG9yQXRMZWZ0RW5kUG9zIHx8IGRpcmVjdGlvbiA9PT0gRElSRUNUSU9OLkZPUkNFX0xFRlQpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBzZXBhcmF0b3JBdExlZnRQb3M7XG5cdCAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICB9XG5cblx0ICAgICAgICBjYXNlIERJUkVDVElPTi5SSUdIVDpcblx0ICAgICAgICBjYXNlIERJUkVDVElPTi5GT1JDRV9SSUdIVDpcblx0ICAgICAgICAgIHtcblx0ICAgICAgICAgICAgdmFyIHNlcGFyYXRvckF0UmlnaHRQb3MgPSB0aGlzLl9maW5kU2VwYXJhdG9yQXJvdW5kKGN1cnNvclBvcyk7XG5cblx0ICAgICAgICAgICAgaWYgKHNlcGFyYXRvckF0UmlnaHRQb3MgPj0gMCkge1xuXHQgICAgICAgICAgICAgIHJldHVybiBzZXBhcmF0b3JBdFJpZ2h0UG9zICsgdGhpcy50aG91c2FuZHNTZXBhcmF0b3IubGVuZ3RoO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9XG5cdCAgICAgIH1cblxuXHQgICAgICByZXR1cm4gY3Vyc29yUG9zO1xuXHQgICAgfVxuXHQgICAgLyoqXHJcblx0ICAgICAgQG92ZXJyaWRlXHJcblx0ICAgICovXG5cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiZG9WYWxpZGF0ZVwiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGRvVmFsaWRhdGUoZmxhZ3MpIHtcblx0ICAgICAgdmFyIHJlZ2V4cCA9IGZsYWdzLmlucHV0ID8gdGhpcy5fbnVtYmVyUmVnRXhwSW5wdXQgOiB0aGlzLl9udW1iZXJSZWdFeHA7IC8vIHZhbGlkYXRlIGFzIHN0cmluZ1xuXG5cdCAgICAgIHZhciB2YWxpZCA9IHJlZ2V4cC50ZXN0KHRoaXMuX3JlbW92ZVRob3VzYW5kc1NlcGFyYXRvcnModGhpcy52YWx1ZSkpO1xuXG5cdCAgICAgIGlmICh2YWxpZCkge1xuXHQgICAgICAgIC8vIHZhbGlkYXRlIGFzIG51bWJlclxuXHQgICAgICAgIHZhciBudW1iZXIgPSB0aGlzLm51bWJlcjtcblx0ICAgICAgICB2YWxpZCA9IHZhbGlkICYmICFpc05hTihudW1iZXIpICYmICggLy8gY2hlY2sgbWluIGJvdW5kIGZvciBuZWdhdGl2ZSB2YWx1ZXNcblx0ICAgICAgICB0aGlzLm1pbiA9PSBudWxsIHx8IHRoaXMubWluID49IDAgfHwgdGhpcy5taW4gPD0gdGhpcy5udW1iZXIpICYmICggLy8gY2hlY2sgbWF4IGJvdW5kIGZvciBwb3NpdGl2ZSB2YWx1ZXNcblx0ICAgICAgICB0aGlzLm1heCA9PSBudWxsIHx8IHRoaXMubWF4IDw9IDAgfHwgdGhpcy5udW1iZXIgPD0gdGhpcy5tYXgpO1xuXHQgICAgICB9XG5cblx0ICAgICAgcmV0dXJuIHZhbGlkICYmIF9nZXQoX2dldFByb3RvdHlwZU9mKE1hc2tlZE51bWJlci5wcm90b3R5cGUpLCBcImRvVmFsaWRhdGVcIiwgdGhpcykuY2FsbCh0aGlzLCBmbGFncyk7XG5cdCAgICB9XG5cdCAgICAvKipcclxuXHQgICAgICBAb3ZlcnJpZGVcclxuXHQgICAgKi9cblxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJkb0NvbW1pdFwiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGRvQ29tbWl0KCkge1xuXHQgICAgICBpZiAodGhpcy52YWx1ZSkge1xuXHQgICAgICAgIHZhciBudW1iZXIgPSB0aGlzLm51bWJlcjtcblx0ICAgICAgICB2YXIgdmFsaWRudW0gPSBudW1iZXI7IC8vIGNoZWNrIGJvdW5kc1xuXG5cdCAgICAgICAgaWYgKHRoaXMubWluICE9IG51bGwpIHZhbGlkbnVtID0gTWF0aC5tYXgodmFsaWRudW0sIHRoaXMubWluKTtcblx0ICAgICAgICBpZiAodGhpcy5tYXggIT0gbnVsbCkgdmFsaWRudW0gPSBNYXRoLm1pbih2YWxpZG51bSwgdGhpcy5tYXgpO1xuXHQgICAgICAgIGlmICh2YWxpZG51bSAhPT0gbnVtYmVyKSB0aGlzLnVubWFza2VkVmFsdWUgPSBTdHJpbmcodmFsaWRudW0pO1xuXHQgICAgICAgIHZhciBmb3JtYXR0ZWQgPSB0aGlzLnZhbHVlO1xuXHQgICAgICAgIGlmICh0aGlzLm5vcm1hbGl6ZVplcm9zKSBmb3JtYXR0ZWQgPSB0aGlzLl9ub3JtYWxpemVaZXJvcyhmb3JtYXR0ZWQpO1xuXHQgICAgICAgIGlmICh0aGlzLnBhZEZyYWN0aW9uYWxaZXJvcykgZm9ybWF0dGVkID0gdGhpcy5fcGFkRnJhY3Rpb25hbFplcm9zKGZvcm1hdHRlZCk7XG5cdCAgICAgICAgdGhpcy5fdmFsdWUgPSBmb3JtYXR0ZWQ7XG5cdCAgICAgIH1cblxuXHQgICAgICBfZ2V0KF9nZXRQcm90b3R5cGVPZihNYXNrZWROdW1iZXIucHJvdG90eXBlKSwgXCJkb0NvbW1pdFwiLCB0aGlzKS5jYWxsKHRoaXMpO1xuXHQgICAgfVxuXHQgICAgLyoqICovXG5cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiX25vcm1hbGl6ZVplcm9zXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX25vcm1hbGl6ZVplcm9zKHZhbHVlKSB7XG5cdCAgICAgIHZhciBwYXJ0cyA9IHRoaXMuX3JlbW92ZVRob3VzYW5kc1NlcGFyYXRvcnModmFsdWUpLnNwbGl0KHRoaXMucmFkaXgpOyAvLyByZW1vdmUgbGVhZGluZyB6ZXJvc1xuXG5cblx0ICAgICAgcGFydHNbMF0gPSBwYXJ0c1swXS5yZXBsYWNlKC9eKFxcRCopKDAqKShcXGQqKS8sIGZ1bmN0aW9uIChtYXRjaCwgc2lnbiwgemVyb3MsIG51bSkge1xuXHQgICAgICAgIHJldHVybiBzaWduICsgbnVtO1xuXHQgICAgICB9KTsgLy8gYWRkIGxlYWRpbmcgemVyb1xuXG5cdCAgICAgIGlmICh2YWx1ZS5sZW5ndGggJiYgIS9cXGQkLy50ZXN0KHBhcnRzWzBdKSkgcGFydHNbMF0gPSBwYXJ0c1swXSArICcwJztcblxuXHQgICAgICBpZiAocGFydHMubGVuZ3RoID4gMSkge1xuXHQgICAgICAgIHBhcnRzWzFdID0gcGFydHNbMV0ucmVwbGFjZSgvMCokLywgJycpOyAvLyByZW1vdmUgdHJhaWxpbmcgemVyb3NcblxuXHQgICAgICAgIGlmICghcGFydHNbMV0ubGVuZ3RoKSBwYXJ0cy5sZW5ndGggPSAxOyAvLyByZW1vdmUgZnJhY3Rpb25hbFxuXHQgICAgICB9XG5cblx0ICAgICAgcmV0dXJuIHRoaXMuX2luc2VydFRob3VzYW5kc1NlcGFyYXRvcnMocGFydHMuam9pbih0aGlzLnJhZGl4KSk7XG5cdCAgICB9XG5cdCAgICAvKiogKi9cblxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJfcGFkRnJhY3Rpb25hbFplcm9zXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX3BhZEZyYWN0aW9uYWxaZXJvcyh2YWx1ZSkge1xuXHQgICAgICBpZiAoIXZhbHVlKSByZXR1cm4gdmFsdWU7XG5cdCAgICAgIHZhciBwYXJ0cyA9IHZhbHVlLnNwbGl0KHRoaXMucmFkaXgpO1xuXHQgICAgICBpZiAocGFydHMubGVuZ3RoIDwgMikgcGFydHMucHVzaCgnJyk7XG5cdCAgICAgIHBhcnRzWzFdID0gcGFydHNbMV0ucGFkRW5kKHRoaXMuc2NhbGUsICcwJyk7XG5cdCAgICAgIHJldHVybiBwYXJ0cy5qb2luKHRoaXMucmFkaXgpO1xuXHQgICAgfVxuXHQgICAgLyoqXHJcblx0ICAgICAgQG92ZXJyaWRlXHJcblx0ICAgICovXG5cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwidW5tYXNrZWRWYWx1ZVwiLFxuXHQgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLl9yZW1vdmVUaG91c2FuZHNTZXBhcmF0b3JzKHRoaXMuX25vcm1hbGl6ZVplcm9zKHRoaXMudmFsdWUpKS5yZXBsYWNlKHRoaXMucmFkaXgsICcuJyk7XG5cdCAgICB9LFxuXHQgICAgc2V0OiBmdW5jdGlvbiBzZXQodW5tYXNrZWRWYWx1ZSkge1xuXHQgICAgICBfc2V0KF9nZXRQcm90b3R5cGVPZihNYXNrZWROdW1iZXIucHJvdG90eXBlKSwgXCJ1bm1hc2tlZFZhbHVlXCIsIHVubWFza2VkVmFsdWUucmVwbGFjZSgnLicsIHRoaXMucmFkaXgpLCB0aGlzLCB0cnVlKTtcblx0ICAgIH1cblx0ICAgIC8qKlxyXG5cdCAgICAgIEBvdmVycmlkZVxyXG5cdCAgICAqL1xuXG5cdCAgfSwge1xuXHQgICAga2V5OiBcInR5cGVkVmFsdWVcIixcblx0ICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgICByZXR1cm4gTnVtYmVyKHRoaXMudW5tYXNrZWRWYWx1ZSk7XG5cdCAgICB9LFxuXHQgICAgc2V0OiBmdW5jdGlvbiBzZXQobikge1xuXHQgICAgICBfc2V0KF9nZXRQcm90b3R5cGVPZihNYXNrZWROdW1iZXIucHJvdG90eXBlKSwgXCJ1bm1hc2tlZFZhbHVlXCIsIFN0cmluZyhuKSwgdGhpcywgdHJ1ZSk7XG5cdCAgICB9XG5cdCAgICAvKiogUGFyc2VkIE51bWJlciAqL1xuXG5cdCAgfSwge1xuXHQgICAga2V5OiBcIm51bWJlclwiLFxuXHQgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLnR5cGVkVmFsdWU7XG5cdCAgICB9LFxuXHQgICAgc2V0OiBmdW5jdGlvbiBzZXQobnVtYmVyKSB7XG5cdCAgICAgIHRoaXMudHlwZWRWYWx1ZSA9IG51bWJlcjtcblx0ICAgIH1cblx0ICAgIC8qKlxyXG5cdCAgICAgIElzIG5lZ2F0aXZlIGFsbG93ZWRcclxuXHQgICAgICBAcmVhZG9ubHlcclxuXHQgICAgKi9cblxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJhbGxvd05lZ2F0aXZlXCIsXG5cdCAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuc2lnbmVkIHx8IHRoaXMubWluICE9IG51bGwgJiYgdGhpcy5taW4gPCAwIHx8IHRoaXMubWF4ICE9IG51bGwgJiYgdGhpcy5tYXggPCAwO1xuXHQgICAgfVxuXHQgIH1dKTtcblxuXHQgIHJldHVybiBNYXNrZWROdW1iZXI7XG5cdH0oTWFza2VkKTtcblx0TWFza2VkTnVtYmVyLkRFRkFVTFRTID0ge1xuXHQgIHJhZGl4OiAnLCcsXG5cdCAgdGhvdXNhbmRzU2VwYXJhdG9yOiAnJyxcblx0ICBtYXBUb1JhZGl4OiBbJy4nXSxcblx0ICBzY2FsZTogMixcblx0ICBzaWduZWQ6IGZhbHNlLFxuXHQgIG5vcm1hbGl6ZVplcm9zOiB0cnVlLFxuXHQgIHBhZEZyYWN0aW9uYWxaZXJvczogZmFsc2Vcblx0fTtcblx0SU1hc2suTWFza2VkTnVtYmVyID0gTWFza2VkTnVtYmVyO1xuXG5cdC8qKiBNYXNraW5nIGJ5IGN1c3RvbSBGdW5jdGlvbiAqL1xuXG5cdHZhciBNYXNrZWRGdW5jdGlvbiA9XG5cdC8qI19fUFVSRV9fKi9cblx0ZnVuY3Rpb24gKF9NYXNrZWQpIHtcblx0ICBfaW5oZXJpdHMoTWFza2VkRnVuY3Rpb24sIF9NYXNrZWQpO1xuXG5cdCAgZnVuY3Rpb24gTWFza2VkRnVuY3Rpb24oKSB7XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWFza2VkRnVuY3Rpb24pO1xuXG5cdCAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKE1hc2tlZEZ1bmN0aW9uKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblx0ICB9XG5cblx0ICBfY3JlYXRlQ2xhc3MoTWFza2VkRnVuY3Rpb24sIFt7XG5cdCAgICBrZXk6IFwiX3VwZGF0ZVwiLFxuXG5cdCAgICAvKipcclxuXHQgICAgICBAb3ZlcnJpZGVcclxuXHQgICAgICBAcGFyYW0ge09iamVjdH0gb3B0c1xyXG5cdCAgICAqL1xuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF91cGRhdGUob3B0cykge1xuXHQgICAgICBpZiAob3B0cy5tYXNrKSBvcHRzLnZhbGlkYXRlID0gb3B0cy5tYXNrO1xuXG5cdCAgICAgIF9nZXQoX2dldFByb3RvdHlwZU9mKE1hc2tlZEZ1bmN0aW9uLnByb3RvdHlwZSksIFwiX3VwZGF0ZVwiLCB0aGlzKS5jYWxsKHRoaXMsIG9wdHMpO1xuXHQgICAgfVxuXHQgIH1dKTtcblxuXHQgIHJldHVybiBNYXNrZWRGdW5jdGlvbjtcblx0fShNYXNrZWQpO1xuXHRJTWFzay5NYXNrZWRGdW5jdGlvbiA9IE1hc2tlZEZ1bmN0aW9uO1xuXG5cdC8qKiBEeW5hbWljIG1hc2sgZm9yIGNob29zaW5nIGFwcm9wcmlhdGUgbWFzayBpbiBydW4tdGltZSAqL1xuXHR2YXIgTWFza2VkRHluYW1pYyA9XG5cdC8qI19fUFVSRV9fKi9cblx0ZnVuY3Rpb24gKF9NYXNrZWQpIHtcblx0ICBfaW5oZXJpdHMoTWFza2VkRHluYW1pYywgX01hc2tlZCk7XG5cblx0ICAvKiogQ3VycmVudGx5IGNob3NlbiBtYXNrICovXG5cblx0ICAvKiogQ29tcGxpbGVkIHtAbGluayBNYXNrZWR9IG9wdGlvbnMgKi9cblxuXHQgIC8qKiBDaG9vc2VzIHtAbGluayBNYXNrZWR9IGRlcGVuZGluZyBvbiBpbnB1dCB2YWx1ZSAqL1xuXG5cdCAgLyoqXHJcblx0ICAgIEBwYXJhbSB7T2JqZWN0fSBvcHRzXHJcblx0ICAqL1xuXHQgIGZ1bmN0aW9uIE1hc2tlZER5bmFtaWMob3B0cykge1xuXHQgICAgdmFyIF90aGlzO1xuXG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWFza2VkRHluYW1pYyk7XG5cblx0ICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKE1hc2tlZER5bmFtaWMpLmNhbGwodGhpcywgT2JqZWN0LmFzc2lnbih7fSwgTWFza2VkRHluYW1pYy5ERUZBVUxUUywge30sIG9wdHMpKSk7XG5cdCAgICBfdGhpcy5jdXJyZW50TWFzayA9IG51bGw7XG5cdCAgICByZXR1cm4gX3RoaXM7XG5cdCAgfVxuXHQgIC8qKlxyXG5cdCAgICBAb3ZlcnJpZGVcclxuXHQgICovXG5cblxuXHQgIF9jcmVhdGVDbGFzcyhNYXNrZWREeW5hbWljLCBbe1xuXHQgICAga2V5OiBcIl91cGRhdGVcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfdXBkYXRlKG9wdHMpIHtcblx0ICAgICAgX2dldChfZ2V0UHJvdG90eXBlT2YoTWFza2VkRHluYW1pYy5wcm90b3R5cGUpLCBcIl91cGRhdGVcIiwgdGhpcykuY2FsbCh0aGlzLCBvcHRzKTtcblxuXHQgICAgICBpZiAoJ21hc2snIGluIG9wdHMpIHtcblx0ICAgICAgICAvLyBtYXNrIGNvdWxkIGJlIHRvdGFsbHkgZHluYW1pYyB3aXRoIG9ubHkgYGRpc3BhdGNoYCBvcHRpb25cblx0ICAgICAgICB0aGlzLmNvbXBpbGVkTWFza3MgPSBBcnJheS5pc0FycmF5KG9wdHMubWFzaykgPyBvcHRzLm1hc2subWFwKGZ1bmN0aW9uIChtKSB7XG5cdCAgICAgICAgICByZXR1cm4gY3JlYXRlTWFzayhtKTtcblx0ICAgICAgICB9KSA6IFtdO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICAvKipcclxuXHQgICAgICBAb3ZlcnJpZGVcclxuXHQgICAgKi9cblxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJfYXBwZW5kQ2hhclJhd1wiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9hcHBlbmRDaGFyUmF3KCkge1xuXHQgICAgICB2YXIgZGV0YWlscyA9IHRoaXMuX2FwcGx5RGlzcGF0Y2guYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuXHQgICAgICBpZiAodGhpcy5jdXJyZW50TWFzaykge1xuXHQgICAgICAgIHZhciBfdGhpcyRjdXJyZW50TWFzaztcblxuXHQgICAgICAgIGRldGFpbHMuYWdncmVnYXRlKChfdGhpcyRjdXJyZW50TWFzayA9IHRoaXMuY3VycmVudE1hc2spLl9hcHBlbmRDaGFyLmFwcGx5KF90aGlzJGN1cnJlbnRNYXNrLCBhcmd1bWVudHMpKTtcblx0ICAgICAgfVxuXG5cdCAgICAgIHJldHVybiBkZXRhaWxzO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJfYXBwbHlEaXNwYXRjaFwiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9hcHBseURpc3BhdGNoKCkge1xuXHQgICAgICB2YXIgYXBwZW5kZWQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICcnO1xuXHQgICAgICB2YXIgZmxhZ3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuXHQgICAgICB2YXIgcHJldlZhbHVlQmVmb3JlVGFpbCA9IGZsYWdzLnRhaWwgJiYgZmxhZ3MuX2JlZm9yZVRhaWxTdGF0ZSAhPSBudWxsID8gZmxhZ3MuX2JlZm9yZVRhaWxTdGF0ZS5fdmFsdWUgOiB0aGlzLnZhbHVlO1xuXHQgICAgICB2YXIgaW5wdXRWYWx1ZSA9IHRoaXMucmF3SW5wdXRWYWx1ZTtcblx0ICAgICAgdmFyIGluc2VydFZhbHVlID0gZmxhZ3MudGFpbCAmJiBmbGFncy5fYmVmb3JlVGFpbFN0YXRlICE9IG51bGwgPyAvLyAkRmxvd0ZpeE1lIC0gdGlyZWQgdG8gZmlnaHQgd2l0aCB0eXBlIHN5c3RlbVxuXHQgICAgICBmbGFncy5fYmVmb3JlVGFpbFN0YXRlLl9yYXdJbnB1dFZhbHVlIDogaW5wdXRWYWx1ZTtcblx0ICAgICAgdmFyIHRhaWxWYWx1ZSA9IGlucHV0VmFsdWUuc2xpY2UoaW5zZXJ0VmFsdWUubGVuZ3RoKTtcblx0ICAgICAgdmFyIHByZXZNYXNrID0gdGhpcy5jdXJyZW50TWFzaztcblx0ICAgICAgdmFyIGRldGFpbHMgPSBuZXcgQ2hhbmdlRGV0YWlscygpO1xuXHQgICAgICB2YXIgcHJldk1hc2tTdGF0ZSA9IHByZXZNYXNrICYmIHByZXZNYXNrLnN0YXRlOyAvLyBjbG9uZSBmbGFncyB0byBwcmV2ZW50IG92ZXJ3cml0aW5nIGBfYmVmb3JlVGFpbFN0YXRlYFxuXG5cdCAgICAgIHRoaXMuY3VycmVudE1hc2sgPSB0aGlzLmRvRGlzcGF0Y2goYXBwZW5kZWQsIE9iamVjdC5hc3NpZ24oe30sIGZsYWdzKSk7IC8vIHJlc3RvcmUgc3RhdGUgYWZ0ZXIgZGlzcGF0Y2hcblxuXHQgICAgICBpZiAodGhpcy5jdXJyZW50TWFzaykge1xuXHQgICAgICAgIGlmICh0aGlzLmN1cnJlbnRNYXNrICE9PSBwcmV2TWFzaykge1xuXHQgICAgICAgICAgLy8gaWYgbWFzayBjaGFuZ2VkIHJlYXBwbHkgaW5wdXRcblx0ICAgICAgICAgIHRoaXMuY3VycmVudE1hc2sucmVzZXQoKTsgLy8gJEZsb3dGaXhNZSAtIGl0J3Mgb2ssIHdlIGRvbid0IGNoYW5nZSBjdXJyZW50IG1hc2sgYWJvdmVcblxuXHQgICAgICAgICAgdmFyIGQgPSB0aGlzLmN1cnJlbnRNYXNrLmFwcGVuZChpbnNlcnRWYWx1ZSwge1xuXHQgICAgICAgICAgICByYXc6IHRydWVcblx0ICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgZGV0YWlscy50YWlsU2hpZnQgPSBkLmluc2VydGVkLmxlbmd0aCAtIHByZXZWYWx1ZUJlZm9yZVRhaWwubGVuZ3RoO1xuXG5cdCAgICAgICAgICBpZiAodGFpbFZhbHVlKSB7XG5cdCAgICAgICAgICAgIC8vICRGbG93Rml4TWUgLSBpdCdzIG9rLCB3ZSBkb24ndCBjaGFuZ2UgY3VycmVudCBtYXNrIGFib3ZlXG5cdCAgICAgICAgICAgIGRldGFpbHMudGFpbFNoaWZ0ICs9IHRoaXMuY3VycmVudE1hc2suYXBwZW5kKHRhaWxWYWx1ZSwge1xuXHQgICAgICAgICAgICAgIHJhdzogdHJ1ZSxcblx0ICAgICAgICAgICAgICB0YWlsOiB0cnVlXG5cdCAgICAgICAgICAgIH0pLnRhaWxTaGlmdDtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgLy8gRGlzcGF0Y2ggY2FuIGRvIHNvbWV0aGluZyBiYWQgd2l0aCBzdGF0ZSwgc29cblx0ICAgICAgICAgIC8vIHJlc3RvcmUgcHJldiBtYXNrIHN0YXRlXG5cdCAgICAgICAgICB0aGlzLmN1cnJlbnRNYXNrLnN0YXRlID0gcHJldk1hc2tTdGF0ZTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblxuXHQgICAgICByZXR1cm4gZGV0YWlscztcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiX2FwcGVuZFBsYWNlaG9sZGVyXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2FwcGVuZFBsYWNlaG9sZGVyKCkge1xuXHQgICAgICB2YXIgZGV0YWlscyA9IHRoaXMuX2FwcGx5RGlzcGF0Y2guYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuXHQgICAgICBpZiAodGhpcy5jdXJyZW50TWFzaykge1xuXHQgICAgICAgIGRldGFpbHMuYWdncmVnYXRlKHRoaXMuY3VycmVudE1hc2suX2FwcGVuZFBsYWNlaG9sZGVyKCkpO1xuXHQgICAgICB9XG5cblx0ICAgICAgcmV0dXJuIGRldGFpbHM7XG5cdCAgICB9XG5cdCAgICAvKipcclxuXHQgICAgICBAb3ZlcnJpZGVcclxuXHQgICAgKi9cblxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJkb0Rpc3BhdGNoXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZG9EaXNwYXRjaChhcHBlbmRlZCkge1xuXHQgICAgICB2YXIgZmxhZ3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuXHQgICAgICByZXR1cm4gdGhpcy5kaXNwYXRjaChhcHBlbmRlZCwgdGhpcywgZmxhZ3MpO1xuXHQgICAgfVxuXHQgICAgLyoqXHJcblx0ICAgICAgQG92ZXJyaWRlXHJcblx0ICAgICovXG5cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiZG9WYWxpZGF0ZVwiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGRvVmFsaWRhdGUoKSB7XG5cdCAgICAgIHZhciBfZ2V0MiwgX3RoaXMkY3VycmVudE1hc2syO1xuXG5cdCAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuXHQgICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG5cdCAgICAgIH1cblxuXHQgICAgICByZXR1cm4gKF9nZXQyID0gX2dldChfZ2V0UHJvdG90eXBlT2YoTWFza2VkRHluYW1pYy5wcm90b3R5cGUpLCBcImRvVmFsaWRhdGVcIiwgdGhpcykpLmNhbGwuYXBwbHkoX2dldDIsIFt0aGlzXS5jb25jYXQoYXJncykpICYmICghdGhpcy5jdXJyZW50TWFzayB8fCAoX3RoaXMkY3VycmVudE1hc2syID0gdGhpcy5jdXJyZW50TWFzaykuZG9WYWxpZGF0ZS5hcHBseShfdGhpcyRjdXJyZW50TWFzazIsIGFyZ3MpKTtcblx0ICAgIH1cblx0ICAgIC8qKlxyXG5cdCAgICAgIEBvdmVycmlkZVxyXG5cdCAgICAqL1xuXG5cdCAgfSwge1xuXHQgICAga2V5OiBcInJlc2V0XCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVzZXQoKSB7XG5cdCAgICAgIGlmICh0aGlzLmN1cnJlbnRNYXNrKSB0aGlzLmN1cnJlbnRNYXNrLnJlc2V0KCk7XG5cdCAgICAgIHRoaXMuY29tcGlsZWRNYXNrcy5mb3JFYWNoKGZ1bmN0aW9uIChtKSB7XG5cdCAgICAgICAgcmV0dXJuIG0ucmVzZXQoKTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgICAvKipcclxuXHQgICAgICBAb3ZlcnJpZGVcclxuXHQgICAgKi9cblxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJyZW1vdmVcIixcblxuXHQgICAgLyoqXHJcblx0ICAgICAgQG92ZXJyaWRlXHJcblx0ICAgICovXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xuXHQgICAgICB2YXIgZGV0YWlscyA9IG5ldyBDaGFuZ2VEZXRhaWxzKCk7XG5cblx0ICAgICAgaWYgKHRoaXMuY3VycmVudE1hc2spIHtcblx0ICAgICAgICB2YXIgX3RoaXMkY3VycmVudE1hc2szO1xuXG5cdCAgICAgICAgZGV0YWlscy5hZ2dyZWdhdGUoKF90aGlzJGN1cnJlbnRNYXNrMyA9IHRoaXMuY3VycmVudE1hc2spLnJlbW92ZS5hcHBseShfdGhpcyRjdXJyZW50TWFzazMsIGFyZ3VtZW50cykpIC8vIHVwZGF0ZSB3aXRoIGRpc3BhdGNoXG5cdCAgICAgICAgLmFnZ3JlZ2F0ZSh0aGlzLl9hcHBseURpc3BhdGNoKCkpO1xuXHQgICAgICB9XG5cblx0ICAgICAgcmV0dXJuIGRldGFpbHM7XG5cdCAgICB9XG5cdCAgICAvKipcclxuXHQgICAgICBAb3ZlcnJpZGVcclxuXHQgICAgKi9cblxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJleHRyYWN0SW5wdXRcIixcblxuXHQgICAgLyoqXHJcblx0ICAgICAgQG92ZXJyaWRlXHJcblx0ICAgICovXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZXh0cmFjdElucHV0KCkge1xuXHQgICAgICB2YXIgX3RoaXMkY3VycmVudE1hc2s0O1xuXG5cdCAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRNYXNrID8gKF90aGlzJGN1cnJlbnRNYXNrNCA9IHRoaXMuY3VycmVudE1hc2spLmV4dHJhY3RJbnB1dC5hcHBseShfdGhpcyRjdXJyZW50TWFzazQsIGFyZ3VtZW50cykgOiAnJztcblx0ICAgIH1cblx0ICAgIC8qKlxyXG5cdCAgICAgIEBvdmVycmlkZVxyXG5cdCAgICAqL1xuXG5cdCAgfSwge1xuXHQgICAga2V5OiBcImV4dHJhY3RUYWlsXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZXh0cmFjdFRhaWwoKSB7XG5cdCAgICAgIHZhciBfdGhpcyRjdXJyZW50TWFzazUsIF9nZXQzO1xuXG5cdCAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMiksIF9rZXkyID0gMDsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuXHQgICAgICAgIGFyZ3NbX2tleTJdID0gYXJndW1lbnRzW19rZXkyXTtcblx0ICAgICAgfVxuXG5cdCAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRNYXNrID8gKF90aGlzJGN1cnJlbnRNYXNrNSA9IHRoaXMuY3VycmVudE1hc2spLmV4dHJhY3RUYWlsLmFwcGx5KF90aGlzJGN1cnJlbnRNYXNrNSwgYXJncykgOiAoX2dldDMgPSBfZ2V0KF9nZXRQcm90b3R5cGVPZihNYXNrZWREeW5hbWljLnByb3RvdHlwZSksIFwiZXh0cmFjdFRhaWxcIiwgdGhpcykpLmNhbGwuYXBwbHkoX2dldDMsIFt0aGlzXS5jb25jYXQoYXJncykpO1xuXHQgICAgfVxuXHQgICAgLyoqXHJcblx0ICAgICAgQG92ZXJyaWRlXHJcblx0ICAgICovXG5cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiZG9Db21taXRcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBkb0NvbW1pdCgpIHtcblx0ICAgICAgaWYgKHRoaXMuY3VycmVudE1hc2spIHRoaXMuY3VycmVudE1hc2suZG9Db21taXQoKTtcblxuXHQgICAgICBfZ2V0KF9nZXRQcm90b3R5cGVPZihNYXNrZWREeW5hbWljLnByb3RvdHlwZSksIFwiZG9Db21taXRcIiwgdGhpcykuY2FsbCh0aGlzKTtcblx0ICAgIH1cblx0ICAgIC8qKlxyXG5cdCAgICAgIEBvdmVycmlkZVxyXG5cdCAgICAqL1xuXG5cdCAgfSwge1xuXHQgICAga2V5OiBcIm5lYXJlc3RJbnB1dFBvc1wiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIG5lYXJlc3RJbnB1dFBvcygpIHtcblx0ICAgICAgdmFyIF90aGlzJGN1cnJlbnRNYXNrNiwgX2dldDQ7XG5cblx0ICAgICAgZm9yICh2YXIgX2xlbjMgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4zKSwgX2tleTMgPSAwOyBfa2V5MyA8IF9sZW4zOyBfa2V5MysrKSB7XG5cdCAgICAgICAgYXJnc1tfa2V5M10gPSBhcmd1bWVudHNbX2tleTNdO1xuXHQgICAgICB9XG5cblx0ICAgICAgcmV0dXJuIHRoaXMuY3VycmVudE1hc2sgPyAoX3RoaXMkY3VycmVudE1hc2s2ID0gdGhpcy5jdXJyZW50TWFzaykubmVhcmVzdElucHV0UG9zLmFwcGx5KF90aGlzJGN1cnJlbnRNYXNrNiwgYXJncykgOiAoX2dldDQgPSBfZ2V0KF9nZXRQcm90b3R5cGVPZihNYXNrZWREeW5hbWljLnByb3RvdHlwZSksIFwibmVhcmVzdElucHV0UG9zXCIsIHRoaXMpKS5jYWxsLmFwcGx5KF9nZXQ0LCBbdGhpc10uY29uY2F0KGFyZ3MpKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwidmFsdWVcIixcblx0ICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5jdXJyZW50TWFzayA/IHRoaXMuY3VycmVudE1hc2sudmFsdWUgOiAnJztcblx0ICAgIH0sXG5cdCAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuXHQgICAgICBfc2V0KF9nZXRQcm90b3R5cGVPZihNYXNrZWREeW5hbWljLnByb3RvdHlwZSksIFwidmFsdWVcIiwgdmFsdWUsIHRoaXMsIHRydWUpO1xuXHQgICAgfVxuXHQgICAgLyoqXHJcblx0ICAgICAgQG92ZXJyaWRlXHJcblx0ICAgICovXG5cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwidW5tYXNrZWRWYWx1ZVwiLFxuXHQgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRNYXNrID8gdGhpcy5jdXJyZW50TWFzay51bm1hc2tlZFZhbHVlIDogJyc7XG5cdCAgICB9LFxuXHQgICAgc2V0OiBmdW5jdGlvbiBzZXQodW5tYXNrZWRWYWx1ZSkge1xuXHQgICAgICBfc2V0KF9nZXRQcm90b3R5cGVPZihNYXNrZWREeW5hbWljLnByb3RvdHlwZSksIFwidW5tYXNrZWRWYWx1ZVwiLCB1bm1hc2tlZFZhbHVlLCB0aGlzLCB0cnVlKTtcblx0ICAgIH1cblx0ICAgIC8qKlxyXG5cdCAgICAgIEBvdmVycmlkZVxyXG5cdCAgICAqL1xuXG5cdCAgfSwge1xuXHQgICAga2V5OiBcInR5cGVkVmFsdWVcIixcblx0ICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5jdXJyZW50TWFzayA/IHRoaXMuY3VycmVudE1hc2sudHlwZWRWYWx1ZSA6ICcnO1xuXHQgICAgfSAvLyBwcm9iYWJseSB0eXBlZFZhbHVlIHNob3VsZCBub3QgYmUgdXNlZCB3aXRoIGR5bmFtaWNcblx0ICAgICxcblx0ICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG5cdCAgICAgIHZhciB1bm1hc2tlZFZhbHVlID0gU3RyaW5nKHZhbHVlKTsgLy8gZG91YmxlIGNoZWNrIGl0XG5cblx0ICAgICAgaWYgKHRoaXMuY3VycmVudE1hc2spIHtcblx0ICAgICAgICB0aGlzLmN1cnJlbnRNYXNrLnR5cGVkVmFsdWUgPSB2YWx1ZTtcblx0ICAgICAgICB1bm1hc2tlZFZhbHVlID0gdGhpcy5jdXJyZW50TWFzay51bm1hc2tlZFZhbHVlO1xuXHQgICAgICB9XG5cblx0ICAgICAgdGhpcy51bm1hc2tlZFZhbHVlID0gdW5tYXNrZWRWYWx1ZTtcblx0ICAgIH1cblx0ICAgIC8qKlxyXG5cdCAgICAgIEBvdmVycmlkZVxyXG5cdCAgICAqL1xuXG5cdCAgfSwge1xuXHQgICAga2V5OiBcImlzQ29tcGxldGVcIixcblx0ICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgICByZXR1cm4gISF0aGlzLmN1cnJlbnRNYXNrICYmIHRoaXMuY3VycmVudE1hc2suaXNDb21wbGV0ZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwic3RhdGVcIixcblx0ICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgX2dldChfZ2V0UHJvdG90eXBlT2YoTWFza2VkRHluYW1pYy5wcm90b3R5cGUpLCBcInN0YXRlXCIsIHRoaXMpLCB7XG5cdCAgICAgICAgX3Jhd0lucHV0VmFsdWU6IHRoaXMucmF3SW5wdXRWYWx1ZSxcblx0ICAgICAgICBjb21waWxlZE1hc2tzOiB0aGlzLmNvbXBpbGVkTWFza3MubWFwKGZ1bmN0aW9uIChtKSB7XG5cdCAgICAgICAgICByZXR1cm4gbS5zdGF0ZTtcblx0ICAgICAgICB9KSxcblx0ICAgICAgICBjdXJyZW50TWFza1JlZjogdGhpcy5jdXJyZW50TWFzayxcblx0ICAgICAgICBjdXJyZW50TWFzazogdGhpcy5jdXJyZW50TWFzayAmJiB0aGlzLmN1cnJlbnRNYXNrLnN0YXRlXG5cdCAgICAgIH0pO1xuXHQgICAgfSxcblx0ICAgIHNldDogZnVuY3Rpb24gc2V0KHN0YXRlKSB7XG5cdCAgICAgIHZhciBjb21waWxlZE1hc2tzID0gc3RhdGUuY29tcGlsZWRNYXNrcyxcblx0ICAgICAgICAgIGN1cnJlbnRNYXNrUmVmID0gc3RhdGUuY3VycmVudE1hc2tSZWYsXG5cdCAgICAgICAgICBjdXJyZW50TWFzayA9IHN0YXRlLmN1cnJlbnRNYXNrLFxuXHQgICAgICAgICAgbWFza2VkU3RhdGUgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoc3RhdGUsIFtcImNvbXBpbGVkTWFza3NcIiwgXCJjdXJyZW50TWFza1JlZlwiLCBcImN1cnJlbnRNYXNrXCJdKTtcblxuXHQgICAgICB0aGlzLmNvbXBpbGVkTWFza3MuZm9yRWFjaChmdW5jdGlvbiAobSwgbWkpIHtcblx0ICAgICAgICByZXR1cm4gbS5zdGF0ZSA9IGNvbXBpbGVkTWFza3NbbWldO1xuXHQgICAgICB9KTtcblxuXHQgICAgICBpZiAoY3VycmVudE1hc2tSZWYgIT0gbnVsbCkge1xuXHQgICAgICAgIHRoaXMuY3VycmVudE1hc2sgPSBjdXJyZW50TWFza1JlZjtcblx0ICAgICAgICB0aGlzLmN1cnJlbnRNYXNrLnN0YXRlID0gY3VycmVudE1hc2s7XG5cdCAgICAgIH1cblxuXHQgICAgICBfc2V0KF9nZXRQcm90b3R5cGVPZihNYXNrZWREeW5hbWljLnByb3RvdHlwZSksIFwic3RhdGVcIiwgbWFza2VkU3RhdGUsIHRoaXMsIHRydWUpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJvdmVyd3JpdGVcIixcblx0ICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5jdXJyZW50TWFzayA/IHRoaXMuY3VycmVudE1hc2sub3ZlcndyaXRlIDogX2dldChfZ2V0UHJvdG90eXBlT2YoTWFza2VkRHluYW1pYy5wcm90b3R5cGUpLCBcIm92ZXJ3cml0ZVwiLCB0aGlzKTtcblx0ICAgIH0sXG5cdCAgICBzZXQ6IGZ1bmN0aW9uIHNldChvdmVyd3JpdGUpIHtcblx0ICAgICAgY29uc29sZS53YXJuKCdcIm92ZXJ3cml0ZVwiIG9wdGlvbiBpcyBub3QgYXZhaWxhYmxlIGluIGR5bmFtaWMgbWFzaywgdXNlIHRoaXMgb3B0aW9uIGluIHNpYmxpbmdzJyk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXG5cdCAgcmV0dXJuIE1hc2tlZER5bmFtaWM7XG5cdH0oTWFza2VkKTtcblx0TWFza2VkRHluYW1pYy5ERUZBVUxUUyA9IHtcblx0ICBkaXNwYXRjaDogZnVuY3Rpb24gZGlzcGF0Y2goYXBwZW5kZWQsIG1hc2tlZCwgZmxhZ3MpIHtcblx0ICAgIGlmICghbWFza2VkLmNvbXBpbGVkTWFza3MubGVuZ3RoKSByZXR1cm47XG5cdCAgICB2YXIgaW5wdXRWYWx1ZSA9IG1hc2tlZC5yYXdJbnB1dFZhbHVlOyAvLyBzaW11bGF0ZSBpbnB1dFxuXG5cdCAgICB2YXIgaW5wdXRzID0gbWFza2VkLmNvbXBpbGVkTWFza3MubWFwKGZ1bmN0aW9uIChtLCBpbmRleCkge1xuXHQgICAgICBtLnJlc2V0KCk7XG5cdCAgICAgIG0uYXBwZW5kKGlucHV0VmFsdWUsIHtcblx0ICAgICAgICByYXc6IHRydWVcblx0ICAgICAgfSk7XG5cdCAgICAgIG0uYXBwZW5kKGFwcGVuZGVkLCBmbGFncyk7XG5cdCAgICAgIHZhciB3ZWlnaHQgPSBtLnJhd0lucHV0VmFsdWUubGVuZ3RoO1xuXHQgICAgICByZXR1cm4ge1xuXHQgICAgICAgIHdlaWdodDogd2VpZ2h0LFxuXHQgICAgICAgIGluZGV4OiBpbmRleFxuXHQgICAgICB9O1xuXHQgICAgfSk7IC8vIHBvcCBtYXNrcyB3aXRoIGxvbmdlciB2YWx1ZXMgZmlyc3RcblxuXHQgICAgaW5wdXRzLnNvcnQoZnVuY3Rpb24gKGkxLCBpMikge1xuXHQgICAgICByZXR1cm4gaTIud2VpZ2h0IC0gaTEud2VpZ2h0O1xuXHQgICAgfSk7XG5cdCAgICByZXR1cm4gbWFza2VkLmNvbXBpbGVkTWFza3NbaW5wdXRzWzBdLmluZGV4XTtcblx0ICB9XG5cdH07XG5cdElNYXNrLk1hc2tlZER5bmFtaWMgPSBNYXNrZWREeW5hbWljO1xuXG5cdC8qKiBNYXNrIHBpcGUgc291cmNlIGFuZCBkZXN0aW5hdGlvbiB0eXBlcyAqL1xuXG5cdHZhciBQSVBFX1RZUEUgPSB7XG5cdCAgTUFTS0VEOiAndmFsdWUnLFxuXHQgIFVOTUFTS0VEOiAndW5tYXNrZWRWYWx1ZScsXG5cdCAgVFlQRUQ6ICd0eXBlZFZhbHVlJ1xuXHR9O1xuXHQvKiogQ3JlYXRlcyBuZXcgcGlwZSBmdW5jdGlvbiBkZXBlbmRpbmcgb24gbWFzayB0eXBlLCBzb3VyY2UgYW5kIGRlc3RpbmF0aW9uIG9wdGlvbnMgKi9cblxuXHRmdW5jdGlvbiBjcmVhdGVQaXBlKG1hc2spIHtcblx0ICB2YXIgZnJvbSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogUElQRV9UWVBFLk1BU0tFRDtcblx0ICB2YXIgdG8gPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IFBJUEVfVFlQRS5NQVNLRUQ7XG5cdCAgdmFyIG1hc2tlZCA9IGNyZWF0ZU1hc2sobWFzayk7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uICh2YWx1ZSkge1xuXHQgICAgcmV0dXJuIG1hc2tlZC5ydW5Jc29sYXRlZChmdW5jdGlvbiAobSkge1xuXHQgICAgICBtW2Zyb21dID0gdmFsdWU7XG5cdCAgICAgIHJldHVybiBtW3RvXTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdH1cblx0LyoqIFBpcGVzIHZhbHVlIHRocm91Z2ggbWFzayBkZXBlbmRpbmcgb24gbWFzayB0eXBlLCBzb3VyY2UgYW5kIGRlc3RpbmF0aW9uIG9wdGlvbnMgKi9cblxuXHRmdW5jdGlvbiBwaXBlKHZhbHVlKSB7XG5cdCAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHBpcGVBcmdzID0gbmV3IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcblx0ICAgIHBpcGVBcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcblx0ICB9XG5cblx0ICByZXR1cm4gY3JlYXRlUGlwZS5hcHBseSh2b2lkIDAsIHBpcGVBcmdzKSh2YWx1ZSk7XG5cdH1cblx0SU1hc2suUElQRV9UWVBFID0gUElQRV9UWVBFO1xuXHRJTWFzay5jcmVhdGVQaXBlID0gY3JlYXRlUGlwZTtcblx0SU1hc2sucGlwZSA9IHBpcGU7XG5cblx0dHJ5IHtcblx0ICBnbG9iYWxUaGlzLklNYXNrID0gSU1hc2s7XG5cdH0gY2F0Y2ggKGUpIHt9XG5cblx0ZXhwb3J0cy5IVE1MQ29udGVudGVkaXRhYmxlTWFza0VsZW1lbnQgPSBIVE1MQ29udGVudGVkaXRhYmxlTWFza0VsZW1lbnQ7XG5cdGV4cG9ydHMuSFRNTE1hc2tFbGVtZW50ID0gSFRNTE1hc2tFbGVtZW50O1xuXHRleHBvcnRzLklucHV0TWFzayA9IElucHV0TWFzaztcblx0ZXhwb3J0cy5NYXNrRWxlbWVudCA9IE1hc2tFbGVtZW50O1xuXHRleHBvcnRzLk1hc2tlZCA9IE1hc2tlZDtcblx0ZXhwb3J0cy5NYXNrZWREYXRlID0gTWFza2VkRGF0ZTtcblx0ZXhwb3J0cy5NYXNrZWREeW5hbWljID0gTWFza2VkRHluYW1pYztcblx0ZXhwb3J0cy5NYXNrZWRFbnVtID0gTWFza2VkRW51bTtcblx0ZXhwb3J0cy5NYXNrZWRGdW5jdGlvbiA9IE1hc2tlZEZ1bmN0aW9uO1xuXHRleHBvcnRzLk1hc2tlZE51bWJlciA9IE1hc2tlZE51bWJlcjtcblx0ZXhwb3J0cy5NYXNrZWRQYXR0ZXJuID0gTWFza2VkUGF0dGVybjtcblx0ZXhwb3J0cy5NYXNrZWRSYW5nZSA9IE1hc2tlZFJhbmdlO1xuXHRleHBvcnRzLk1hc2tlZFJlZ0V4cCA9IE1hc2tlZFJlZ0V4cDtcblx0ZXhwb3J0cy5QSVBFX1RZUEUgPSBQSVBFX1RZUEU7XG5cdGV4cG9ydHMuY3JlYXRlTWFzayA9IGNyZWF0ZU1hc2s7XG5cdGV4cG9ydHMuY3JlYXRlUGlwZSA9IGNyZWF0ZVBpcGU7XG5cdGV4cG9ydHMuZGVmYXVsdCA9IElNYXNrO1xuXHRleHBvcnRzLnBpcGUgPSBwaXBlO1xuXG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG5cbn0pKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbWFzay5qcy5tYXBcbiJdfQ==
